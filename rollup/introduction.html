<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.48">
    <style>
      :root {
        --c-bg: #fff;
      }
      html.dark {
        --c-bg: #22272e;
      }
      html, body {
        background-color: var(--c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme');
			const systemDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
			if (userMode === 'dark' || (userMode !== 'light' && systemDarkMode)) {
				document.documentElement.classList.toggle('dark', true);
			}
    </script>
    <title>Introduction | </title><meta name="description" content="君子藏器于身 待时而动 天下有道则见 无道则隐">
    <link rel="modulepreload" href="/notes/assets/app.013e756e.js"><link rel="modulepreload" href="/notes/assets/introduction.html.b18bc7ec.js"><link rel="modulepreload" href="/notes/assets/introduction.html.4ae01b9b.js"><link rel="prefetch" href="/notes/assets/index.html.3634373a.js"><link rel="prefetch" href="/notes/assets/_sidebar.html.3ba9ec24.js"><link rel="prefetch" href="/notes/assets/_sidebar.html.c28c3f3c.js"><link rel="prefetch" href="/notes/assets/base.html.1093b531.js"><link rel="prefetch" href="/notes/assets/customCli.html.bd95fbb6.js"><link rel="prefetch" href="/notes/assets/_sidebar.html.7df24b52.js"><link rel="prefetch" href="/notes/assets/adapter.html.228754b3.js"><link rel="prefetch" href="/notes/assets/amd.html.374db1f8.js"><link rel="prefetch" href="/notes/assets/builder.html.4ab18b18.js"><link rel="prefetch" href="/notes/assets/censorJquery.html.8cb430d5.js"><link rel="prefetch" href="/notes/assets/combination.html.9e0e20cf.js"><link rel="prefetch" href="/notes/assets/command.html.2a7e3e32.js"><link rel="prefetch" href="/notes/assets/commonJS.html.335e912d.js"><link rel="prefetch" href="/notes/assets/constructor.html.0b23ee40.js"><link rel="prefetch" href="/notes/assets/decoration.html.0520d7ca.js"><link rel="prefetch" href="/notes/assets/esHarmony.html.f9b6c6b0.js"><link rel="prefetch" href="/notes/assets/exposed.html.8436d4f7.js"><link rel="prefetch" href="/notes/assets/exterior.html.637510d7.js"><link rel="prefetch" href="/notes/assets/factory.html.cee24005.js"><link rel="prefetch" href="/notes/assets/flyweight.html.77af5a34.js"><link rel="prefetch" href="/notes/assets/functionalProgramming.html.826201d8.js"><link rel="prefetch" href="/notes/assets/intermediary.html.017a62d8.js"><link rel="prefetch" href="/notes/assets/iterator.html.9879f57a.js"><link rel="prefetch" href="/notes/assets/lazyInitial.html.a662b8a9.js"><link rel="prefetch" href="/notes/assets/mixin.html.8e083c8c.js"><link rel="prefetch" href="/notes/assets/module.html.ccbf7e1e.js"><link rel="prefetch" href="/notes/assets/mvc.html.7c775a82.js"><link rel="prefetch" href="/notes/assets/mvp.html.1ab68755.js"><link rel="prefetch" href="/notes/assets/mvvm.html.31bbe5fa.js"><link rel="prefetch" href="/notes/assets/observer.html.f28c60ea.js"><link rel="prefetch" href="/notes/assets/outward.html.c9113669.js"><link rel="prefetch" href="/notes/assets/overview.html.fd9ac12c.js"><link rel="prefetch" href="/notes/assets/prototype.html.17eb0ec7.js"><link rel="prefetch" href="/notes/assets/proxy.html.4a69fa28.js"><link rel="prefetch" href="/notes/assets/singleton.html.ac8326eb.js"><link rel="prefetch" href="/notes/assets/axios.html.894c36f5.js"><link rel="prefetch" href="/notes/assets/createUnderscore.html.086e63d6.js"><link rel="prefetch" href="/notes/assets/jquery.html.800f2d11.js"><link rel="prefetch" href="/notes/assets/lodash.html.a1c5d14b.js"><link rel="prefetch" href="/notes/assets/sentry.html.3380eab9.js"><link rel="prefetch" href="/notes/assets/underscore.html.408b3621.js"><link rel="prefetch" href="/notes/assets/vuex.html.5a13be39.js"><link rel="prefetch" href="/notes/assets/customCli.html.5fea6892.js"><link rel="prefetch" href="/notes/assets/description.html.ee95e973.js"><link rel="prefetch" href="/notes/assets/indx.html.fb991811.js"><link rel="prefetch" href="/notes/assets/rebase.html.315da41b.js"><link rel="prefetch" href="/notes/assets/_sidebar.html.8d5399c2.js"><link rel="prefetch" href="/notes/assets/_sidebar.html.49333970.js"><link rel="prefetch" href="/notes/assets/_sidebar.html.fd446871.js"><link rel="prefetch" href="/notes/assets/44Questions.html.e09b9e77.js"><link rel="prefetch" href="/notes/assets/asyncAwait.html.8fcdbc04.js"><link rel="prefetch" href="/notes/assets/babelCompile.html.373d5380.js"><link rel="prefetch" href="/notes/assets/base.html.96ef6e10.js"><link rel="prefetch" href="/notes/assets/baseInterview.html.4822e1da.js"><link rel="prefetch" href="/notes/assets/baseWebpack.html.1c0b1ad6.js"><link rel="prefetch" href="/notes/assets/codeSeparation.html.917a63a3.js"><link rel="prefetch" href="/notes/assets/cycle.html.340b3610.js"><link rel="prefetch" href="/notes/assets/cycleOtherWay.html.034fe39b.js"><link rel="prefetch" href="/notes/assets/executionMechanism.html.67387e19.js"><link rel="prefetch" href="/notes/assets/hybrid.html.a54f648d.js"><link rel="prefetch" href="/notes/assets/jsHandwriting.html.91b44994.js"><link rel="prefetch" href="/notes/assets/jsonStringify.html.4c9735e2.js"><link rel="prefetch" href="/notes/assets/largeFileResumableUpload.html.d860ce97.js"><link rel="prefetch" href="/notes/assets/performance.html.95200270.js"><link rel="prefetch" href="/notes/assets/promise.html.34412d36.js"><link rel="prefetch" href="/notes/assets/promiseAll.html.82f50799.js"><link rel="prefetch" href="/notes/assets/spa.html.f9a327ec.js"><link rel="prefetch" href="/notes/assets/tsBaseInterview.html.1adc8582.js"><link rel="prefetch" href="/notes/assets/useEs6.html.d9c2b1c5.js"><link rel="prefetch" href="/notes/assets/webAnimations.html.4f59d2fe.js"><link rel="prefetch" href="/notes/assets/webpackInterview.html.11c71b4f.js"><link rel="prefetch" href="/notes/assets/webpackLoader.html.e137d628.js"><link rel="prefetch" href="/notes/assets/webpackPublic.html.22c85b9e.js"><link rel="prefetch" href="/notes/assets/weird.html.5b8c02b0.js"><link rel="prefetch" href="/notes/assets/es10News.html.5f65989d.js"><link rel="prefetch" href="/notes/assets/es11News.html.62ff1633.js"><link rel="prefetch" href="/notes/assets/es6Interview1.html.33c84747.js"><link rel="prefetch" href="/notes/assets/es6Interview2.html.3da1892a.js"><link rel="prefetch" href="/notes/assets/es6Interview3.html.7eb30dbe.js"><link rel="prefetch" href="/notes/assets/es6News.html.9548af96.js"><link rel="prefetch" href="/notes/assets/es7News.html.a6a0fa9a.js"><link rel="prefetch" href="/notes/assets/es8News.html.abebd8e3.js"><link rel="prefetch" href="/notes/assets/es9News.html.2544d57f.js"><link rel="prefetch" href="/notes/assets/base.html.abd02c91.js"><link rel="prefetch" href="/notes/assets/nginxComprehensiveScene.html.eefe1e40.js"><link rel="prefetch" href="/notes/assets/commonlyUsed.html.3d56cebb.js"><link rel="prefetch" href="/notes/assets/inelegantHook.html.6acf2a38.js"><link rel="prefetch" href="/notes/assets/interview1.html.f22b3b85.js"><link rel="prefetch" href="/notes/assets/interview2.html.b0c3bb67.js"><link rel="prefetch" href="/notes/assets/interview3.html.77f72812.js"><link rel="prefetch" href="/notes/assets/interview4.html.bf5749b9.js"><link rel="prefetch" href="/notes/assets/base.html.5c694567.js"><link rel="prefetch" href="/notes/assets/base.html.4b98657a.js"><link rel="prefetch" href="/notes/assets/summarize.html.0e390eb4.js"><link rel="prefetch" href="/notes/assets/_sidebar.html.fb56a9de.js"><link rel="prefetch" href="/notes/assets/index.html.6cadf120.js"><link rel="prefetch" href="/notes/assets/baseInterview.html.5f455e90.js"><link rel="prefetch" href="/notes/assets/baseInterview.html.70945f28.js"><link rel="prefetch" href="/notes/assets/bigDataRender.html.16fc9dd9.js"><link rel="prefetch" href="/notes/assets/progress.html.32b74572.js"><link rel="prefetch" href="/notes/assets/quirksStandards.html.d59cf821.js"><link rel="prefetch" href="/notes/assets/redrawReflow.html.8aa659c4.js"><link rel="prefetch" href="/notes/assets/storageSpace.html.dcc11060.js"><link rel="prefetch" href="/notes/assets/webComLink.html.aa29f7e7.js"><link rel="prefetch" href="/notes/assets/webUrl.html.c5ea3916.js"><link rel="prefetch" href="/notes/assets/spanWidthHeight.html.3678c09c.js"><link rel="prefetch" href="/notes/assets/baseCss.html.1b3854fa.js"><link rel="prefetch" href="/notes/assets/blockFormattingContext.html.77b718c0.js"><link rel="prefetch" href="/notes/assets/containingBlock.html.8e433b42.js"><link rel="prefetch" href="/notes/assets/cssBeforeAfter.html.eb9b03ee.js"><link rel="prefetch" href="/notes/assets/cssBoxModal.html.80f3eb90.js"><link rel="prefetch" href="/notes/assets/cssCollapsing.html.0e35aa83.js"><link rel="prefetch" href="/notes/assets/cssCompatible.html.f171139f.js"><link rel="prefetch" href="/notes/assets/cssFlexDemo.html.167a483f.js"><link rel="prefetch" href="/notes/assets/cssFlexLayout.html.196b26b8.js"><link rel="prefetch" href="/notes/assets/cssGridLayout.html.1cad8452.js"><link rel="prefetch" href="/notes/assets/cssHack.html.396ee0f0.js"><link rel="prefetch" href="/notes/assets/cssInlineBlock.html.a6923bf7.js"><link rel="prefetch" href="/notes/assets/cssPriority.html.c4772a9a.js"><link rel="prefetch" href="/notes/assets/cssPseudo.html.43d0dd35.js"><link rel="prefetch" href="/notes/assets/cssPseudoClass.html.43db38dd.js"><link rel="prefetch" href="/notes/assets/cssSelector.html.2b368cc7.js"><link rel="prefetch" href="/notes/assets/cssTutorial.html.c16444ba.js"><link rel="prefetch" href="/notes/assets/fieldInvalid.html.1fcb2558.js"><link rel="prefetch" href="/notes/assets/frame.html.fda09f9b.js"><link rel="prefetch" href="/notes/assets/knowledgePoints.html.844ecbe9.js"><link rel="prefetch" href="/notes/assets/linkImport.html.8e3fbbf4.js"><link rel="prefetch" href="/notes/assets/stackingContext.html.84ce02ee.js"><link rel="prefetch" href="/notes/assets/tools.html.3370ac55.js"><link rel="prefetch" href="/notes/assets/units.html.a8ce632a.js"><link rel="prefetch" href="/notes/assets/transform.html.c584daae.js"><link rel="prefetch" href="/notes/assets/content.html.6e1fa151.js"><link rel="prefetch" href="/notes/assets/plugins.html.6e17ba17.js"><link rel="prefetch" href="/notes/assets/accesskey.html.cc77cd1e.js"><link rel="prefetch" href="/notes/assets/baseInterview.html.417bda6c.js"><link rel="prefetch" href="/notes/assets/canvasSvg.html.56545180.js"><link rel="prefetch" href="/notes/assets/deviceAPI.html.d0af0732.js"><link rel="prefetch" href="/notes/assets/globalAttr.html.312d06e6.js"><link rel="prefetch" href="/notes/assets/htmlDatalist.html.2a3a0833.js"><link rel="prefetch" href="/notes/assets/htmlElement.html.5e1b1f69.js"><link rel="prefetch" href="/notes/assets/interview10.html.57058a90.js"><link rel="prefetch" href="/notes/assets/interview11.html.ebb261a8.js"><link rel="prefetch" href="/notes/assets/interview12.html.2e022b4e.js"><link rel="prefetch" href="/notes/assets/interview13.html.5adf2646.js"><link rel="prefetch" href="/notes/assets/interview14.html.69021bf6.js"><link rel="prefetch" href="/notes/assets/interview15.html.6fa214b3.js"><link rel="prefetch" href="/notes/assets/interview16.html.5977700c.js"><link rel="prefetch" href="/notes/assets/interview17.html.ade3757d.js"><link rel="prefetch" href="/notes/assets/interview18.html.cb8e09c0.js"><link rel="prefetch" href="/notes/assets/interview19.html.698b83d0.js"><link rel="prefetch" href="/notes/assets/interview20.html.518d535f.js"><link rel="prefetch" href="/notes/assets/interview21.html.48008fc2.js"><link rel="prefetch" href="/notes/assets/interview22.html.45a1d5a7.js"><link rel="prefetch" href="/notes/assets/interview23.html.74da7576.js"><link rel="prefetch" href="/notes/assets/interview24.html.417cd5f3.js"><link rel="prefetch" href="/notes/assets/interview25.html.4e8b4df3.js"><link rel="prefetch" href="/notes/assets/interview26.html.0bb23540.js"><link rel="prefetch" href="/notes/assets/interview27.html.f55bdf74.js"><link rel="prefetch" href="/notes/assets/interview28.html.89a195cc.js"><link rel="prefetch" href="/notes/assets/interview29.html.75ed487e.js"><link rel="prefetch" href="/notes/assets/interview30.html.3ee6174e.js"><link rel="prefetch" href="/notes/assets/interview31.html.eec2c665.js"><link rel="prefetch" href="/notes/assets/interview32.html.ded26d9b.js"><link rel="prefetch" href="/notes/assets/interview33.html.bec603c5.js"><link rel="prefetch" href="/notes/assets/interview34.html.ce8f1f2b.js"><link rel="prefetch" href="/notes/assets/interview35.html.7fe9d232.js"><link rel="prefetch" href="/notes/assets/interview36.html.f7fee400.js"><link rel="prefetch" href="/notes/assets/interview37.html.358d81ef.js"><link rel="prefetch" href="/notes/assets/interview38.html.ceaba854.js"><link rel="prefetch" href="/notes/assets/interview39.html.17669b12.js"><link rel="prefetch" href="/notes/assets/interview40.html.15d2b768.js"><link rel="prefetch" href="/notes/assets/interview41.html.42d648d3.js"><link rel="prefetch" href="/notes/assets/interview42.html.3eb38913.js"><link rel="prefetch" href="/notes/assets/interview43.html.26053012.js"><link rel="prefetch" href="/notes/assets/interview44.html.3f94ae6d.js"><link rel="prefetch" href="/notes/assets/interview45.html.0f1d944a.js"><link rel="prefetch" href="/notes/assets/interview46.html.18a1fb80.js"><link rel="prefetch" href="/notes/assets/interview47.html.ef24f77c.js"><link rel="prefetch" href="/notes/assets/interview48.html.cf96e72c.js"><link rel="prefetch" href="/notes/assets/interview49.html.ec4c15a0.js"><link rel="prefetch" href="/notes/assets/interview5.html.d97befa1.js"><link rel="prefetch" href="/notes/assets/interview50.html.13c54965.js"><link rel="prefetch" href="/notes/assets/interview51.html.5ae12de0.js"><link rel="prefetch" href="/notes/assets/interview52.html.0987028e.js"><link rel="prefetch" href="/notes/assets/interview53.html.435860a0.js"><link rel="prefetch" href="/notes/assets/interview54.html.ace84b23.js"><link rel="prefetch" href="/notes/assets/interview55.html.e61ea5db.js"><link rel="prefetch" href="/notes/assets/interview56.html.a03aa17c.js"><link rel="prefetch" href="/notes/assets/interview57.html.3f370b24.js"><link rel="prefetch" href="/notes/assets/interview58.html.8d506b26.js"><link rel="prefetch" href="/notes/assets/interview59.html.ec25e0b8.js"><link rel="prefetch" href="/notes/assets/interview6.html.91ab47ae.js"><link rel="prefetch" href="/notes/assets/interview7.html.6e7ad964.js"><link rel="prefetch" href="/notes/assets/interview8.html.8f88b421.js"><link rel="prefetch" href="/notes/assets/interview9.html.661af964.js"><link rel="prefetch" href="/notes/assets/linkImport.html.3ad74614.js"><link rel="prefetch" href="/notes/assets/offlineStorage.html.b7194813.js"><link rel="prefetch" href="/notes/assets/regular.html.b564d981.js"><link rel="prefetch" href="/notes/assets/shake.html.34c879f6.js"><link rel="prefetch" href="/notes/assets/webWorker.html.67aabe71.js"><link rel="prefetch" href="/notes/assets/baseInterview.html.e13f29fe.js"><link rel="prefetch" href="/notes/assets/cors.html.ec497b42.js"><link rel="prefetch" href="/notes/assets/crossDomainCookie.html.e2651e8e.js"><link rel="prefetch" href="/notes/assets/fetch.html.df3586ee.js"><link rel="prefetch" href="/notes/assets/nestAxios.html.34d301c5.js"><link rel="prefetch" href="/notes/assets/debounce.html.246f1249.js"><link rel="prefetch" href="/notes/assets/lodashPrinciple.html.a1224740.js"><link rel="prefetch" href="/notes/assets/lodashThrottleDebounce.html.cf17f742.js"><link rel="prefetch" href="/notes/assets/throttle.html.b65a9a84.js"><link rel="prefetch" href="/notes/assets/throttleDebounceReact.html.b4708828.js"><link rel="prefetch" href="/notes/assets/cloneIntroduction.html.279c2e37.js"><link rel="prefetch" href="/notes/assets/deepClone.html.40e86fdc.js"><link rel="prefetch" href="/notes/assets/lodashDeepClone.html.6de4b699.js"><link rel="prefetch" href="/notes/assets/objectAssign.html.edde2fe8.js"><link rel="prefetch" href="/notes/assets/arraySourceCode.html.550282f0.js"><link rel="prefetch" href="/notes/assets/baseHigh.html.5baf3feb.js"><link rel="prefetch" href="/notes/assets/currying.html.a50e541b.js"><link rel="prefetch" href="/notes/assets/baseInterview.html.556732a6.js"><link rel="prefetch" href="/notes/assets/eventLoop.html.6c87e5bf.js"><link rel="prefetch" href="/notes/assets/iife.html.cbc4ac9e.js"><link rel="prefetch" href="/notes/assets/interview1.html.adb99297.js"><link rel="prefetch" href="/notes/assets/jsCompatible.html.0485a376.js"><link rel="prefetch" href="/notes/assets/baseProyotype.html.fa37ab8f.js"><link rel="prefetch" href="/notes/assets/functionObjectResource.html.9f7987a9.js"><link rel="prefetch" href="/notes/assets/prototypeInherit.html.e9b74bbb.js"><link rel="prefetch" href="/notes/assets/closureInterview.html.fe63ce7a.js"><link rel="prefetch" href="/notes/assets/scopeChain.html.02cc51bb.js"><link rel="prefetch" href="/notes/assets/understandingClosures.html.dd45842c.js"><link rel="prefetch" href="/notes/assets/executionStack.html.a5ec7982.js"><link rel="prefetch" href="/notes/assets/memoryLeak.html.f89480f2.js"><link rel="prefetch" href="/notes/assets/memoryMechanism.html.68458b9b.js"><link rel="prefetch" href="/notes/assets/memorySpace.html.f646fb9c.js"><link rel="prefetch" href="/notes/assets/precompiled.html.b9bd0775.js"><link rel="prefetch" href="/notes/assets/variableObject.html.24584172.js"><link rel="prefetch" href="/notes/assets/arrowFunctionThis.html.0d4f2a11.js"><link rel="prefetch" href="/notes/assets/bindSimulation.html.b10f47ed.js"><link rel="prefetch" href="/notes/assets/callApply.html.bb89fb6d.js"><link rel="prefetch" href="/notes/assets/newSimulation.html.e9a46a2d.js"><link rel="prefetch" href="/notes/assets/thisBind.html.9b29966c.js"><link rel="prefetch" href="/notes/assets/interview1.html.60905fd0.js"><link rel="prefetch" href="/notes/assets/interview10.html.c3710a54.js"><link rel="prefetch" href="/notes/assets/interview11.html.72a1479f.js"><link rel="prefetch" href="/notes/assets/interview12.html.b52c7cd4.js"><link rel="prefetch" href="/notes/assets/interview13.html.31129e17.js"><link rel="prefetch" href="/notes/assets/interview14.html.065c83de.js"><link rel="prefetch" href="/notes/assets/interview15.html.7cd64175.js"><link rel="prefetch" href="/notes/assets/interview16.html.e0705a9e.js"><link rel="prefetch" href="/notes/assets/interview17.html.7ac28e03.js"><link rel="prefetch" href="/notes/assets/interview18.html.4b581106.js"><link rel="prefetch" href="/notes/assets/interview19.html.b1e228df.js"><link rel="prefetch" href="/notes/assets/interview2.html.1a08035a.js"><link rel="prefetch" href="/notes/assets/interview20.html.d60b849e.js"><link rel="prefetch" href="/notes/assets/interview21.html.916434ab.js"><link rel="prefetch" href="/notes/assets/interview22.html.43654bce.js"><link rel="prefetch" href="/notes/assets/interview23.html.4ab3b65f.js"><link rel="prefetch" href="/notes/assets/interview24.html.f5c28f46.js"><link rel="prefetch" href="/notes/assets/interview25.html.1f6b3711.js"><link rel="prefetch" href="/notes/assets/interview26.html.5dd408ce.js"><link rel="prefetch" href="/notes/assets/interview27.html.613b78e8.js"><link rel="prefetch" href="/notes/assets/interview28.html.9d583e49.js"><link rel="prefetch" href="/notes/assets/interview29.html.e3e91794.js"><link rel="prefetch" href="/notes/assets/interview3.html.d91e6cbc.js"><link rel="prefetch" href="/notes/assets/interview30.html.fd59a335.js"><link rel="prefetch" href="/notes/assets/interview4.html.f7c40889.js"><link rel="prefetch" href="/notes/assets/interview5.html.8d50dce4.js"><link rel="prefetch" href="/notes/assets/interview6.html.713e0433.js"><link rel="prefetch" href="/notes/assets/interview7.html.5fabb993.js"><link rel="prefetch" href="/notes/assets/interview8.html.319a0a05.js"><link rel="prefetch" href="/notes/assets/interview9.html.02e24993.js"><link rel="prefetch" href="/notes/assets/adjacentSiblingCombinator.html.5096394b.js"><link rel="prefetch" href="/notes/assets/attributeSelectors.html.812746a2.js"><link rel="prefetch" href="/notes/assets/charset.html.df6a0eed.js"><link rel="prefetch" href="/notes/assets/childCombinator.html.99556bf0.js"><link rel="prefetch" href="/notes/assets/classSelectors.html.2a670a32.js"><link rel="prefetch" href="/notes/assets/descendantCombinator.html.4d112c8d.js"><link rel="prefetch" href="/notes/assets/generalSiblingCombinator.html.e88b3fee.js"><link rel="prefetch" href="/notes/assets/iDSelectors.html.3659c9ca.js"><link rel="prefetch" href="/notes/assets/pseudoClasses.html.44095e63.js"><link rel="prefetch" href="/notes/assets/pseudoElements.html.06764528.js"><link rel="prefetch" href="/notes/assets/selectorList.html.9de86fc9.js"><link rel="prefetch" href="/notes/assets/typeSelectors.html.28e08301.js"><link rel="prefetch" href="/notes/assets/universalSelectors.html.1613dad4.js"><link rel="prefetch" href="/notes/assets/IterationProtocols.html.fdbf21f1.js"><link rel="prefetch" href="/notes/assets/arrayFlat.html.8964f69e.js"><link rel="prefetch" href="/notes/assets/asyncHistory.html.319b8c8e.js"><link rel="prefetch" href="/notes/assets/eventLoop.html.57f3c860.js"><link rel="prefetch" href="/notes/assets/fileReader.html.8ebcd641.js"><link rel="prefetch" href="/notes/assets/formData.html.673df4bf.js"><link rel="prefetch" href="/notes/assets/functionGenerator.html.5108df41.js"><link rel="prefetch" href="/notes/assets/generator.html.4457b02b.js"><link rel="prefetch" href="/notes/assets/intersectionObserver.html.316627dd.js"><link rel="prefetch" href="/notes/assets/map.html.377533ac.js"><link rel="prefetch" href="/notes/assets/promise.html.c87a1c96.js"><link rel="prefetch" href="/notes/assets/set.html.3087e56d.js"><link rel="prefetch" href="/notes/assets/string.html.389091af.js"><link rel="prefetch" href="/notes/assets/symbol.html.d8beaf5c.js"><link rel="prefetch" href="/notes/assets/xMLHttpRequest.html.81e366c7.js"><link rel="prefetch" href="/notes/assets/spreadSyntax.html.b08766c2.js"><link rel="prefetch" href="/notes/assets/strictMode.html.042eb95e.js"><link rel="prefetch" href="/notes/assets/cache.html.9563af31.js"><link rel="prefetch" href="/notes/assets/drag1.html.39006ee1.js"><link rel="prefetch" href="/notes/assets/oneLineCode.html.8b3de338.js"><link rel="prefetch" href="/notes/assets/oneLineCodeArray.html.63d3aa5c.js"><link rel="prefetch" href="/notes/assets/oneLineCodeDOM.html.0e67c5a4.js"><link rel="prefetch" href="/notes/assets/oneLineCodeDateTime.html.cb3221f3.js"><link rel="prefetch" href="/notes/assets/oneLineCodeFunction.html.2ed6695d.js"><link rel="prefetch" href="/notes/assets/oneLineCodeMath.html.53d81b83.js"><link rel="prefetch" href="/notes/assets/oneLineCodeMisc.html.d40e1885.js"><link rel="prefetch" href="/notes/assets/oneLineCodeNumber.html.a4616ae4.js"><link rel="prefetch" href="/notes/assets/oneLineCodeObject.html.e5769f7b.js"><link rel="prefetch" href="/notes/assets/oneLineCodeRandom.html.7290419e.js"><link rel="prefetch" href="/notes/assets/oneLineCodeString.html.f7f0a5a0.js"><link rel="prefetch" href="/notes/assets/oneLineCodeValidator.html.222bcd1b.js"><link rel="prefetch" href="/notes/assets/typeScriptCache.html.e7b19746.js"><link rel="prefetch" href="/notes/assets/reactBase.html.da9d3bf4.js"><link rel="prefetch" href="/notes/assets/reactTypescript.html.bdd4fc1d.js"><link rel="prefetch" href="/notes/assets/vue2Base.html.125b96a2.js"><link rel="prefetch" href="/notes/assets/vue2Table.html.ecf755fb.js"><link rel="prefetch" href="/notes/assets/vue2offsetTop.html.398a0620.js"><link rel="prefetch" href="/notes/assets/componentWillXXX.html.dfd83436.js"><link rel="prefetch" href="/notes/assets/disrupt.html.edb0a123.js"><link rel="prefetch" href="/notes/assets/lane.html.7c9f1076.js"><link rel="prefetch" href="/notes/assets/prepare.html.a6149102.js"><link rel="prefetch" href="/notes/assets/redux.html.c414d064.js"><link rel="prefetch" href="/notes/assets/scheduler.html.ab84b9f7.js"><link rel="prefetch" href="/notes/assets/multi.html.68bbb70d.js"><link rel="prefetch" href="/notes/assets/one.html.1d4214e3.js"><link rel="prefetch" href="/notes/assets/prepare.html.6a50b601.js"><link rel="prefetch" href="/notes/assets/create.html.95bc14c0.js"><link rel="prefetch" href="/notes/assets/prepare.html.64d54e96.js"><link rel="prefetch" href="/notes/assets/structure.html.f10da85a.js"><link rel="prefetch" href="/notes/assets/useeffect.html.d41c0552.js"><link rel="prefetch" href="/notes/assets/usememo.html.e6724780.js"><link rel="prefetch" href="/notes/assets/useref.html.7de6ef18.js"><link rel="prefetch" href="/notes/assets/usestate.html.bff28972.js"><link rel="prefetch" href="/notes/assets/file.html.452cd6b4.js"><link rel="prefetch" href="/notes/assets/idea.html.23d82840.js"><link rel="prefetch" href="/notes/assets/jsx.html.7ea04643.js"><link rel="prefetch" href="/notes/assets/newConstructure.html.ec2955b8.js"><link rel="prefetch" href="/notes/assets/oldConstructure.html.01c900e4.js"><link rel="prefetch" href="/notes/assets/source.html.6d4002ce.js"><link rel="prefetch" href="/notes/assets/summary.html.70509c01.js"><link rel="prefetch" href="/notes/assets/basePrinciple.html.3ac69798.js"><link rel="prefetch" href="/notes/assets/componentApi.html.68272ea6.js"><link rel="prefetch" href="/notes/assets/domApi.html.ea575506.js"><link rel="prefetch" href="/notes/assets/hoc.html.218fa21d.js"><link rel="prefetch" href="/notes/assets/hookApi.html.e8deb339.js"><link rel="prefetch" href="/notes/assets/hookCustom.html.03859cf3.js"><link rel="prefetch" href="/notes/assets/hookPrinciple.html.69d4a4f4.js"><link rel="prefetch" href="/notes/assets/hookUse.html.4a37cf6a.js"><link rel="prefetch" href="/notes/assets/reactKeeplive.html.43b24141.js"><link rel="prefetch" href="/notes/assets/reactRedux.html.862bc529.js"><link rel="prefetch" href="/notes/assets/reactRouter.html.249d9c56.js"><link rel="prefetch" href="/notes/assets/toolApi.html.930ef809.js"><link rel="prefetch" href="/notes/assets/beginWork.html.72f45750.js"><link rel="prefetch" href="/notes/assets/completeWork.html.4586a4fb.js"><link rel="prefetch" href="/notes/assets/doubleBuffer.html.a11c81e0.js"><link rel="prefetch" href="/notes/assets/fiber-mental.html.cafca097.js"><link rel="prefetch" href="/notes/assets/fiber.html.20635461.js"><link rel="prefetch" href="/notes/assets/reconciler.html.75f26a38.js"><link rel="prefetch" href="/notes/assets/beforeMutation.html.18c3d418.js"><link rel="prefetch" href="/notes/assets/layout.html.82f6a8bd.js"><link rel="prefetch" href="/notes/assets/mutation.html.4c44b4e0.js"><link rel="prefetch" href="/notes/assets/prepare.html.6c2c7865.js"><link rel="prefetch" href="/notes/assets/mental.html.d5611145.js"><link rel="prefetch" href="/notes/assets/prepare.html.e04c1cef.js"><link rel="prefetch" href="/notes/assets/priority.html.dc54c5f2.js"><link rel="prefetch" href="/notes/assets/reactdom.html.f9746c8b.js"><link rel="prefetch" href="/notes/assets/setstate.html.76380815.js"><link rel="prefetch" href="/notes/assets/update.html.75d61392.js"><link rel="prefetch" href="/notes/assets/bitfiled.html.4497a4ee.js"><link rel="prefetch" href="/notes/assets/dfs.html.f4981d5e.js"><link rel="prefetch" href="/notes/assets/diff.html.b5dc691e.js"><link rel="prefetch" href="/notes/assets/heapsort.html.c98a34da.js"><link rel="prefetch" href="/notes/assets/linkedlist.html.6b38e462.js"><link rel="prefetch" href="/notes/assets/stack.html.f38e01d1.js"><link rel="prefetch" href="/notes/assets/bootstrap.html.b68a1fba.js"><link rel="prefetch" href="/notes/assets/context.html.47334994.js"><link rel="prefetch" href="/notes/assets/fibertree-commit.html.2c50b45f.js"><link rel="prefetch" href="/notes/assets/fibertree-create.html.3774a8fc.js"><link rel="prefetch" href="/notes/assets/fibertree-prepare.html.7e65d454.js"><link rel="prefetch" href="/notes/assets/fibertree-update.html.0743e8f1.js"><link rel="prefetch" href="/notes/assets/hook-effect.html.65ac138b.js"><link rel="prefetch" href="/notes/assets/hook-state.html.5a1d0b94.js"><link rel="prefetch" href="/notes/assets/hook-summary.html.80ca5f24.js"><link rel="prefetch" href="/notes/assets/macro-structure.html.42a05b10.js"><link rel="prefetch" href="/notes/assets/object-structure.html.0e9cc867.js"><link rel="prefetch" href="/notes/assets/priority.html.9dcaa721.js"><link rel="prefetch" href="/notes/assets/reconciler-workflow.html.2f14fc74.js"><link rel="prefetch" href="/notes/assets/scheduler.html.8de0ba69.js"><link rel="prefetch" href="/notes/assets/state-effects.html.f98ea9dd.js"><link rel="prefetch" href="/notes/assets/synthetic-event.html.83a97757.js"><link rel="prefetch" href="/notes/assets/workloop.html.6b1b49b2.js"><link rel="prefetch" href="/notes/assets/ast.html.4e3d26f1.js"><link rel="prefetch" href="/notes/assets/binder.html.10191d6e.js"><link rel="prefetch" href="/notes/assets/checker.html.d97fb222.js"><link rel="prefetch" href="/notes/assets/emitter.html.afaf9c6d.js"><link rel="prefetch" href="/notes/assets/overview.html.66f5058a.js"><link rel="prefetch" href="/notes/assets/parser.html.66cd1f14.js"><link rel="prefetch" href="/notes/assets/program.html.6a13a6b5.js"><link rel="prefetch" href="/notes/assets/scanner.html.26547aa8.js"><link rel="prefetch" href="/notes/assets/common.html.0a779e9c.js"><link rel="prefetch" href="/notes/assets/interpreting.html.33bcd6ff.js"><link rel="prefetch" href="/notes/assets/class.html.ee2a16b9.js"><link rel="prefetch" href="/notes/assets/commandline-behavior.html.33efaddf.js"><link rel="prefetch" href="/notes/assets/comments.html.3c6ae00f.js"><link rel="prefetch" href="/notes/assets/common-bug-not-bugs.html.23cbd94f.js"><link rel="prefetch" href="/notes/assets/common-feature-request.html.f7f3c2f2.js"><link rel="prefetch" href="/notes/assets/decorators.html.ffdbfbdc.js"><link rel="prefetch" href="/notes/assets/enums.html.8ffc0bd2.js"><link rel="prefetch" href="/notes/assets/function.html.8390b605.js"><link rel="prefetch" href="/notes/assets/generics.html.2e81ad12.js"><link rel="prefetch" href="/notes/assets/glossary-and-terms.html.8bf2a811.js"><link rel="prefetch" href="/notes/assets/jsx-and-react.html.5c92d149.js"><link rel="prefetch" href="/notes/assets/modules.html.fba886a8.js"><link rel="prefetch" href="/notes/assets/thing-that-dont-work.html.b2be08f7.js"><link rel="prefetch" href="/notes/assets/tsconfig-behavior.html.0465ebff.js"><link rel="prefetch" href="/notes/assets/type-guards.html.33119345.js"><link rel="prefetch" href="/notes/assets/type-system-behavior.html.652cd8cc.js"><link rel="prefetch" href="/notes/assets/nonReactJSX.html.696b295e.js"><link rel="prefetch" href="/notes/assets/reactJSX.html.910a510e.js"><link rel="prefetch" href="/notes/assets/support.html.356c6692.js"><link rel="prefetch" href="/notes/assets/typescript-3.7.html.89c9611c.js"><link rel="prefetch" href="/notes/assets/typescript-3.8.html.910b71ac.js"><link rel="prefetch" href="/notes/assets/typescript-3.9.html.4b57f15d.js"><link rel="prefetch" href="/notes/assets/compilationContext.html.fa6f0430.js"><link rel="prefetch" href="/notes/assets/declarationspaces.html.822aa053.js"><link rel="prefetch" href="/notes/assets/dynamicImportExpressions.html.f98b7968.js"><link rel="prefetch" href="/notes/assets/inDepthTs.html.fa9bfe2b.js"><link rel="prefetch" href="/notes/assets/modules.html.c15f7d6a.js"><link rel="prefetch" href="/notes/assets/namespaces.html.93f801cd.js"><link rel="prefetch" href="/notes/assets/unknownAny.html.976849b1.js"><link rel="prefetch" href="/notes/assets/avoidExportDefault.html.ac6d87c9.js"><link rel="prefetch" href="/notes/assets/barrel.html.6794741a.js"><link rel="prefetch" href="/notes/assets/bind.html.f54a6e02.js"><link rel="prefetch" href="/notes/assets/buildToggles.html.13aaaf55.js"><link rel="prefetch" href="/notes/assets/classAreUseful.html.7c972e3f.js"><link rel="prefetch" href="/notes/assets/covarianceAndContravariance.html.5fefb500.js"><link rel="prefetch" href="/notes/assets/createArrays.html.6c7ea302.js"><link rel="prefetch" href="/notes/assets/curry.html.1361bd2a.js"><link rel="prefetch" href="/notes/assets/functionParameters.html.31251d8f.js"><link rel="prefetch" href="/notes/assets/infer.html.c23e7680.js"><link rel="prefetch" href="/notes/assets/lazyObjectLiteralInitialization.html.3edf1c57.js"><link rel="prefetch" href="/notes/assets/limitPropertySetters.html.d57bcdef.js"><link rel="prefetch" href="/notes/assets/metadata.html.a34b2ffd.js"><link rel="prefetch" href="/notes/assets/nominalTyping.html.f74a704c.js"><link rel="prefetch" href="/notes/assets/outFileCaution.html.038c22ae.js"><link rel="prefetch" href="/notes/assets/singletonPatern.html.f5d23140.js"><link rel="prefetch" href="/notes/assets/statefulFunctions.html.d77e2c58.js"><link rel="prefetch" href="/notes/assets/staticConstructors.html.582de6d2.js"><link rel="prefetch" href="/notes/assets/stringBasedEmuns.html.2ad937f3.js"><link rel="prefetch" href="/notes/assets/truthy.html.799693b4.js"><link rel="prefetch" href="/notes/assets/typeInstantiation.html.53b5a743.js"><link rel="prefetch" href="/notes/assets/typesafeEventEmitter.html.02b7fcad.js"><link rel="prefetch" href="/notes/assets/ambient.html.033b359d.js"><link rel="prefetch" href="/notes/assets/callable.html.00bc7bc4.js"><link rel="prefetch" href="/notes/assets/discrominatedUnion.html.839cc7ec.js"><link rel="prefetch" href="/notes/assets/enums.html.8430345c.js"><link rel="prefetch" href="/notes/assets/exceptionsHanding.html.2cb5ec21.js"><link rel="prefetch" href="/notes/assets/freshness.html.35bc8ec4.js"><link rel="prefetch" href="/notes/assets/functions.html.b220682d.js"><link rel="prefetch" href="/notes/assets/generices.html.0533796e.js"><link rel="prefetch" href="/notes/assets/indexSignatures.html.844fee69.js"><link rel="prefetch" href="/notes/assets/interfaces.html.4a90ac39.js"><link rel="prefetch" href="/notes/assets/lib.html.566eeeaa.js"><link rel="prefetch" href="/notes/assets/literals.html.0144ad55.js"><link rel="prefetch" href="/notes/assets/migrating.html.dd93c00e.js"><link rel="prefetch" href="/notes/assets/mixins.html.17f144ed.js"><link rel="prefetch" href="/notes/assets/movingTypes.html.4e2561e1.js"><link rel="prefetch" href="/notes/assets/neverType.html.b7432023.js"><link rel="prefetch" href="/notes/assets/overview.html.6028da03.js"><link rel="prefetch" href="/notes/assets/readonly.html.4d2e164c.js"><link rel="prefetch" href="/notes/assets/thisType.html.861f262b.js"><link rel="prefetch" href="/notes/assets/typeAssertion.html.bd054af5.js"><link rel="prefetch" href="/notes/assets/typeCompatibility.html.ec0e4fe0.js"><link rel="prefetch" href="/notes/assets/typeGuard.html.0b235f49.js"><link rel="prefetch" href="/notes/assets/typeInference.html.695b9714.js"><link rel="prefetch" href="/notes/assets/types.html.9c3c304d.js"><link rel="prefetch" href="/notes/assets/pluginDva.html.58086bbe.js"><link rel="prefetch" href="/notes/assets/pluginQiankun.html.b619d471.js"><link rel="prefetch" href="/notes/assets/codegen.html.8a25084a.js"><link rel="prefetch" href="/notes/assets/entrance.html.d6a6c262.js"><link rel="prefetch" href="/notes/assets/optimize.html.ecfbaafd.js"><link rel="prefetch" href="/notes/assets/outline.html.8bd18a41.js"><link rel="prefetch" href="/notes/assets/parse.html.207ccc62.js"><link rel="prefetch" href="/notes/assets/async-component.html.4e6fd3d0.js"><link rel="prefetch" href="/notes/assets/component-register.html.567b3d22.js"><link rel="prefetch" href="/notes/assets/create-component.html.d2ad96a5.js"><link rel="prefetch" href="/notes/assets/lifecycle.html.a7341a2d.js"><link rel="prefetch" href="/notes/assets/merge-option.html.33e38550.js"><link rel="prefetch" href="/notes/assets/outline.html.3bd8050f.js"><link rel="prefetch" href="/notes/assets/patch.html.a23c1430.js"><link rel="prefetch" href="/notes/assets/_index.html.5e0c2ad2.js"><link rel="prefetch" href="/notes/assets/create-element.html.b2749a32.js"><link rel="prefetch" href="/notes/assets/mounted.html.88367ff4.js"><link rel="prefetch" href="/notes/assets/new-vue.html.e80f61b5.js"><link rel="prefetch" href="/notes/assets/render.html.ede2cd1a.js"><link rel="prefetch" href="/notes/assets/update.html.629be0db.js"><link rel="prefetch" href="/notes/assets/virtual-dom.html.f89e76a9.js"><link rel="prefetch" href="/notes/assets/event.html.f781d591.js"><link rel="prefetch" href="/notes/assets/keep-alive.html.3654aec6.js"><link rel="prefetch" href="/notes/assets/outline.html.b464ad9c.js"><link rel="prefetch" href="/notes/assets/slot.html.98186991.js"><link rel="prefetch" href="/notes/assets/tansition-group.html.49dda1e9.js"><link rel="prefetch" href="/notes/assets/tansition.html.cd19b645.js"><link rel="prefetch" href="/notes/assets/v-model.html.78547e74.js"><link rel="prefetch" href="/notes/assets/baseInterview.html.ff5c2dc8.js"><link rel="prefetch" href="/notes/assets/baseInterviewSecond.html.9a83fd95.js"><link rel="prefetch" href="/notes/assets/componentCommunication.html.3e63ecf8.js"><link rel="prefetch" href="/notes/assets/detailedResponsiveness.html.3baff8fa.js"><link rel="prefetch" href="/notes/assets/diff.html.4a6b9b04.js"><link rel="prefetch" href="/notes/assets/eventBinding.html.98834559.js"><link rel="prefetch" href="/notes/assets/eventMechanism.html.273c84e6.js"><link rel="prefetch" href="/notes/assets/key.html.d1e7b2c7.js"><link rel="prefetch" href="/notes/assets/knowledgeSystem.html.ac648a3f.js"><link rel="prefetch" href="/notes/assets/slot.html.3739495c.js"><link rel="prefetch" href="/notes/assets/sourceCodeAsyncDomUpdateNextTick.html.408a7dfd.js"><link rel="prefetch" href="/notes/assets/sourceCodeElementBroadcastDispatch.html.0dbe791e.js"><link rel="prefetch" href="/notes/assets/sourceCodeKeepAlive.html.c5329a90.js"><link rel="prefetch" href="/notes/assets/sourceCodeResponsiveness.html.d92486b7.js"><link rel="prefetch" href="/notes/assets/sourceCodeTemplateCompilation.html.5eb389f6.js"><link rel="prefetch" href="/notes/assets/sourceCodeTemplateDom.html.2e821c78.js"><link rel="prefetch" href="/notes/assets/sourceCodeVuex.html.ec58ed75.js"><link rel="prefetch" href="/notes/assets/templateCompilation.html.2de196a3.js"><link rel="prefetch" href="/notes/assets/vNode.html.f3a66151.js"><link rel="prefetch" href="/notes/assets/vNodeDiff.html.eff1b477.js"><link rel="prefetch" href="/notes/assets/build.html.f7ff4d7c.js"><link rel="prefetch" href="/notes/assets/directory.html.7c9650ca.js"><link rel="prefetch" href="/notes/assets/entrance.html.8db62399.js"><link rel="prefetch" href="/notes/assets/flow.html.86c95575.js"><link rel="prefetch" href="/notes/assets/component-update.html.4ed4b9b0.js"><link rel="prefetch" href="/notes/assets/computed-watcher.html.10ec4873.js"><link rel="prefetch" href="/notes/assets/getters.html.961157cb.js"><link rel="prefetch" href="/notes/assets/next-tick.html.45966cac.js"><link rel="prefetch" href="/notes/assets/outline.html.c1c53cb5.js"><link rel="prefetch" href="/notes/assets/props.html.ee05e609.js"><link rel="prefetch" href="/notes/assets/questions.html.e2183e14.js"><link rel="prefetch" href="/notes/assets/reactive-object.html.97ee8915.js"><link rel="prefetch" href="/notes/assets/setters.html.21d89da6.js"><link rel="prefetch" href="/notes/assets/summary.html.dd1d8bc9.js"><link rel="prefetch" href="/notes/assets/install.html.0230a0da.js"><link rel="prefetch" href="/notes/assets/matcher.html.25ca848d.js"><link rel="prefetch" href="/notes/assets/outline.html.ea733f14.js"><link rel="prefetch" href="/notes/assets/router.html.f8ecf748.js"><link rel="prefetch" href="/notes/assets/transition-to.html.d7c1785b.js"><link rel="prefetch" href="/notes/assets/api.html.0c764efb.js"><link rel="prefetch" href="/notes/assets/idex.html.00a33403.js"><link rel="prefetch" href="/notes/assets/init.html.2bb7927a.js"><link rel="prefetch" href="/notes/assets/plugin.html.89e6dcbd.js"><link rel="prefetch" href="/notes/assets/baseInterview.html.81b34fee.js"><link rel="prefetch" href="/notes/assets/configuration.html.11907dd4.js"><link rel="prefetch" href="/notes/assets/entryPoints.html.b3492578.js"><link rel="prefetch" href="/notes/assets/loader.html.2d3c2488.js"><link rel="prefetch" href="/notes/assets/output.html.33466c9c.js"><link rel="prefetch" href="/notes/assets/plugin.html.7b1fc668.js"><link rel="prefetch" href="/notes/assets/webpackInterview.html.ae24d5df.js"><link rel="prefetch" href="/notes/assets/reactApi.html.e27c9c81.js"><link rel="prefetch" href="/notes/assets/reactChildren.html.f03f41a5.js"><link rel="prefetch" href="/notes/assets/reactElement.html.507c3fac.js"><link rel="prefetch" href="/notes/assets/reactFiber.html.e4b8886f.js"><link rel="prefetch" href="/notes/assets/commitAllHostEffects.html.c54c88a4.js"><link rel="prefetch" href="/notes/assets/commitAllLifeCycles.html.a9f9e3e3.js"><link rel="prefetch" href="/notes/assets/commitBeforeMutationLifecycles.html.9e252799.js"><link rel="prefetch" href="/notes/assets/commitDeletion.html.1aadc4a7.js"><link rel="prefetch" href="/notes/assets/commitPlacement.html.b0c82218.js"><link rel="prefetch" href="/notes/assets/commitRoot.html.fc87e11a.js"><link rel="prefetch" href="/notes/assets/commitWork.html.98be50bf.js"><link rel="prefetch" href="/notes/assets/invokeGuardedCallback.html.95a15db2.js"><link rel="prefetch" href="/notes/assets/expirationTime.html.7c625a26.js"><link rel="prefetch" href="/notes/assets/reactDomRender.html.c49d921a.js"><link rel="prefetch" href="/notes/assets/setStateForceUpdate.html.a495477a.js"><link rel="prefetch" href="/notes/assets/context.html.3041834a.js"><link rel="prefetch" href="/notes/assets/evenInit.html.b949b8f6.js"><link rel="prefetch" href="/notes/assets/eventBind.html.9d39cf36.js"><link rel="prefetch" href="/notes/assets/eventCreateEventObject.html.22578639.js"><link rel="prefetch" href="/notes/assets/eventDispath.html.a2ed0b3b.js"><link rel="prefetch" href="/notes/assets/hydrate.html.ccddb779.js"><link rel="prefetch" href="/notes/assets/ref.html.c54fc786.js"><link rel="prefetch" href="/notes/assets/suspense.html.61f7fd70.js"><link rel="prefetch" href="/notes/assets/suspenseLazy.html.9b65aba3.js"><link rel="prefetch" href="/notes/assets/suspenseWork.html.9fff5d2a.js"><link rel="prefetch" href="/notes/assets/hooksCommon.html.39fc3c3d.js"><link rel="prefetch" href="/notes/assets/hooksOther.html.af4fc03b.js"><link rel="prefetch" href="/notes/assets/start.html.9b89c182.js"><link rel="prefetch" href="/notes/assets/useEffect.html.95d1a1bf.js"><link rel="prefetch" href="/notes/assets/useState.html.e0ce9b91.js"><link rel="prefetch" href="/notes/assets/base.html.d6050cd8.js"><link rel="prefetch" href="/notes/assets/commpontDiff.html.f9c99166.js"><link rel="prefetch" href="/notes/assets/componentUpdate.html.a5bf7a34.js"><link rel="prefetch" href="/notes/assets/renderProcess.html.b36be742.js"><link rel="prefetch" href="/notes/assets/schedulingPrinciple.html.796f1238.js"><link rel="prefetch" href="/notes/assets/beginWork.html.a0a0ab63.js"><link rel="prefetch" href="/notes/assets/globalVariable.html.c883bfed.js"><link rel="prefetch" href="/notes/assets/mountIndeterminateComponent.html.fac0d48f.js"><link rel="prefetch" href="/notes/assets/mountLazyCompont.html.62cd6c46.js"><link rel="prefetch" href="/notes/assets/performUnitOfWork.html.070bbadc.js"><link rel="prefetch" href="/notes/assets/performWork.html.733f7291.js"><link rel="prefetch" href="/notes/assets/reactScheduler.html.1f778c02.js"><link rel="prefetch" href="/notes/assets/reconcileChildren.html.2b860d71.js"><link rel="prefetch" href="/notes/assets/reconcileChildrenArray.html.381b105d.js"><link rel="prefetch" href="/notes/assets/reconcileSingleElement.html.44fad5a0.js"><link rel="prefetch" href="/notes/assets/renderRoot.html.fb25ae42.js"><link rel="prefetch" href="/notes/assets/scheduleWork.html.7a558025.js"><link rel="prefetch" href="/notes/assets/throwException.html.f22c6a0f.js"><link rel="prefetch" href="/notes/assets/updateClassComponent.html.725e93cc.js"><link rel="prefetch" href="/notes/assets/updateContextConsumer.html.d2656620.js"><link rel="prefetch" href="/notes/assets/updateContextProvider.html.d9d47bfb.js"><link rel="prefetch" href="/notes/assets/updateForwardRef.html.3c86c539.js"><link rel="prefetch" href="/notes/assets/updateFragment.html.96f0a888.js"><link rel="prefetch" href="/notes/assets/updateFunctionalComponent.html.63af40cc.js"><link rel="prefetch" href="/notes/assets/updateHostComponent.html.8e3ff9b5.js"><link rel="prefetch" href="/notes/assets/updateHostRoot.html.d24ba535.js"><link rel="prefetch" href="/notes/assets/updateHostText.html.f84848da.js"><link rel="prefetch" href="/notes/assets/updateMode.html.cb525529.js"><link rel="prefetch" href="/notes/assets/updatePortalComponent.html.a767215b.js"><link rel="prefetch" href="/notes/assets/updateProfiler.html.e314f177.js"><link rel="prefetch" href="/notes/assets/updateSuspenseComponent.html.589fa689.js"><link rel="prefetch" href="/notes/assets/interview1.html.41bc9376.js"><link rel="prefetch" href="/notes/assets/interview2.html.47645b5c.js"><link rel="prefetch" href="/notes/assets/interview3.html.fbd751ea.js"><link rel="prefetch" href="/notes/assets/interview51.html.deda2164.js"><link rel="prefetch" href="/notes/assets/interview52.html.b1b59a06.js"><link rel="prefetch" href="/notes/assets/interview53.html.0e2f12c3.js"><link rel="prefetch" href="/notes/assets/interview54.html.81fd2641.js"><link rel="prefetch" href="/notes/assets/interview55.html.dd644a77.js"><link rel="prefetch" href="/notes/assets/interview56.html.8622c49c.js"><link rel="prefetch" href="/notes/assets/interview57.html.ae17d31c.js"><link rel="prefetch" href="/notes/assets/interview1.html.a10d9f41.js"><link rel="prefetch" href="/notes/assets/interview10.html.a5473eb4.js"><link rel="prefetch" href="/notes/assets/interview11.html.4ec338d4.js"><link rel="prefetch" href="/notes/assets/interview12.html.7e541841.js"><link rel="prefetch" href="/notes/assets/interview13.html.5f4314d9.js"><link rel="prefetch" href="/notes/assets/interview14.html.b8b47a9d.js"><link rel="prefetch" href="/notes/assets/interview15.html.b05f6140.js"><link rel="prefetch" href="/notes/assets/interview16.html.4f9641bb.js"><link rel="prefetch" href="/notes/assets/interview17.html.f1139a52.js"><link rel="prefetch" href="/notes/assets/interview18.html.52eafe00.js"><link rel="prefetch" href="/notes/assets/interview19.html.2da89b87.js"><link rel="prefetch" href="/notes/assets/interview2.html.b3fc7674.js"><link rel="prefetch" href="/notes/assets/interview20.html.434e7ebc.js"><link rel="prefetch" href="/notes/assets/interview21.html.be155c93.js"><link rel="prefetch" href="/notes/assets/interview22.html.3fcfe936.js"><link rel="prefetch" href="/notes/assets/interview23.html.58585208.js"><link rel="prefetch" href="/notes/assets/interview24.html.da156180.js"><link rel="prefetch" href="/notes/assets/interview25.html.a72f5e5f.js"><link rel="prefetch" href="/notes/assets/interview26.html.1176ff2d.js"><link rel="prefetch" href="/notes/assets/interview27.html.04571a63.js"><link rel="prefetch" href="/notes/assets/interview28.html.aed56fc9.js"><link rel="prefetch" href="/notes/assets/interview29.html.fdea7c1a.js"><link rel="prefetch" href="/notes/assets/interview3.html.4f17acbd.js"><link rel="prefetch" href="/notes/assets/interview30.html.c201b7b5.js"><link rel="prefetch" href="/notes/assets/interview31.html.070110ac.js"><link rel="prefetch" href="/notes/assets/interview32.html.e7ca88ff.js"><link rel="prefetch" href="/notes/assets/interview33.html.b9a5cd87.js"><link rel="prefetch" href="/notes/assets/interview34.html.5bb792e0.js"><link rel="prefetch" href="/notes/assets/interview35.html.d058e78e.js"><link rel="prefetch" href="/notes/assets/interview36.html.63cc043e.js"><link rel="prefetch" href="/notes/assets/interview37.html.06886248.js"><link rel="prefetch" href="/notes/assets/interview38.html.92e03ed4.js"><link rel="prefetch" href="/notes/assets/interview39.html.04b1e4bf.js"><link rel="prefetch" href="/notes/assets/interview4.html.47fcc3f2.js"><link rel="prefetch" href="/notes/assets/interview40.html.588d78ee.js"><link rel="prefetch" href="/notes/assets/interview41.html.af8003ff.js"><link rel="prefetch" href="/notes/assets/interview42.html.f46006e0.js"><link rel="prefetch" href="/notes/assets/interview43.html.2ade31c7.js"><link rel="prefetch" href="/notes/assets/interview44.html.63ef8a1f.js"><link rel="prefetch" href="/notes/assets/interview45.html.f81226f1.js"><link rel="prefetch" href="/notes/assets/interview46.html.416c1c5c.js"><link rel="prefetch" href="/notes/assets/interview47.html.ec144a20.js"><link rel="prefetch" href="/notes/assets/interview48.html.3f72e1fd.js"><link rel="prefetch" href="/notes/assets/interview49.html.35802761.js"><link rel="prefetch" href="/notes/assets/interview5.html.38a98bab.js"><link rel="prefetch" href="/notes/assets/interview50.html.7c376d2a.js"><link rel="prefetch" href="/notes/assets/interview6.html.b04e1f18.js"><link rel="prefetch" href="/notes/assets/interview7.html.75fded6e.js"><link rel="prefetch" href="/notes/assets/interview8.html.d1c6af7e.js"><link rel="prefetch" href="/notes/assets/interview9.html.989fd897.js"><link rel="prefetch" href="/notes/assets/404.html.265028f6.js"><link rel="prefetch" href="/notes/assets/index.html.2bc919d1.js"><link rel="prefetch" href="/notes/assets/_sidebar.html.53ddd914.js"><link rel="prefetch" href="/notes/assets/_sidebar.html.8a3b1187.js"><link rel="prefetch" href="/notes/assets/base.html.e10ecb31.js"><link rel="prefetch" href="/notes/assets/customCli.html.e65c81f4.js"><link rel="prefetch" href="/notes/assets/_sidebar.html.60b6cbdc.js"><link rel="prefetch" href="/notes/assets/adapter.html.4d7b63ce.js"><link rel="prefetch" href="/notes/assets/amd.html.87b2a486.js"><link rel="prefetch" href="/notes/assets/builder.html.7466b17b.js"><link rel="prefetch" href="/notes/assets/censorJquery.html.8217cef4.js"><link rel="prefetch" href="/notes/assets/combination.html.d3748258.js"><link rel="prefetch" href="/notes/assets/command.html.15cf4f1a.js"><link rel="prefetch" href="/notes/assets/commonJS.html.2b9b573a.js"><link rel="prefetch" href="/notes/assets/constructor.html.35bef683.js"><link rel="prefetch" href="/notes/assets/decoration.html.4b1093c7.js"><link rel="prefetch" href="/notes/assets/esHarmony.html.9b197e48.js"><link rel="prefetch" href="/notes/assets/exposed.html.d37915f1.js"><link rel="prefetch" href="/notes/assets/exterior.html.9e995435.js"><link rel="prefetch" href="/notes/assets/factory.html.ec25fa71.js"><link rel="prefetch" href="/notes/assets/flyweight.html.20202362.js"><link rel="prefetch" href="/notes/assets/functionalProgramming.html.e6db6781.js"><link rel="prefetch" href="/notes/assets/intermediary.html.24808e26.js"><link rel="prefetch" href="/notes/assets/iterator.html.9dfdb73e.js"><link rel="prefetch" href="/notes/assets/lazyInitial.html.776f553f.js"><link rel="prefetch" href="/notes/assets/mixin.html.5110d82b.js"><link rel="prefetch" href="/notes/assets/module.html.a659bcf4.js"><link rel="prefetch" href="/notes/assets/mvc.html.1f1d2bd2.js"><link rel="prefetch" href="/notes/assets/mvp.html.aa22786f.js"><link rel="prefetch" href="/notes/assets/mvvm.html.8c35bd9c.js"><link rel="prefetch" href="/notes/assets/observer.html.b525adfa.js"><link rel="prefetch" href="/notes/assets/outward.html.e7be3323.js"><link rel="prefetch" href="/notes/assets/overview.html.3ba437b9.js"><link rel="prefetch" href="/notes/assets/prototype.html.139fbc4b.js"><link rel="prefetch" href="/notes/assets/proxy.html.6b609222.js"><link rel="prefetch" href="/notes/assets/singleton.html.2349f962.js"><link rel="prefetch" href="/notes/assets/axios.html.f4b6061f.js"><link rel="prefetch" href="/notes/assets/createUnderscore.html.b72c5809.js"><link rel="prefetch" href="/notes/assets/jquery.html.5fe64ac3.js"><link rel="prefetch" href="/notes/assets/lodash.html.7946392d.js"><link rel="prefetch" href="/notes/assets/sentry.html.912e7447.js"><link rel="prefetch" href="/notes/assets/underscore.html.a51dfb33.js"><link rel="prefetch" href="/notes/assets/vuex.html.83651dfd.js"><link rel="prefetch" href="/notes/assets/customCli.html.0aa387c0.js"><link rel="prefetch" href="/notes/assets/description.html.34352d72.js"><link rel="prefetch" href="/notes/assets/indx.html.fe859500.js"><link rel="prefetch" href="/notes/assets/rebase.html.8c07abac.js"><link rel="prefetch" href="/notes/assets/_sidebar.html.3ff074dd.js"><link rel="prefetch" href="/notes/assets/_sidebar.html.f49f8318.js"><link rel="prefetch" href="/notes/assets/_sidebar.html.ebe4f40a.js"><link rel="prefetch" href="/notes/assets/44Questions.html.d64a67bd.js"><link rel="prefetch" href="/notes/assets/asyncAwait.html.bccb0d25.js"><link rel="prefetch" href="/notes/assets/babelCompile.html.1e553c05.js"><link rel="prefetch" href="/notes/assets/base.html.12ae8217.js"><link rel="prefetch" href="/notes/assets/baseInterview.html.7593d268.js"><link rel="prefetch" href="/notes/assets/baseWebpack.html.29aba1ab.js"><link rel="prefetch" href="/notes/assets/codeSeparation.html.7bab3aaf.js"><link rel="prefetch" href="/notes/assets/cycle.html.6ee7b34a.js"><link rel="prefetch" href="/notes/assets/cycleOtherWay.html.d1518074.js"><link rel="prefetch" href="/notes/assets/executionMechanism.html.ab7b08bf.js"><link rel="prefetch" href="/notes/assets/hybrid.html.8eb3040d.js"><link rel="prefetch" href="/notes/assets/jsHandwriting.html.09092caf.js"><link rel="prefetch" href="/notes/assets/jsonStringify.html.c6635772.js"><link rel="prefetch" href="/notes/assets/largeFileResumableUpload.html.bd5dcd0c.js"><link rel="prefetch" href="/notes/assets/performance.html.219fc204.js"><link rel="prefetch" href="/notes/assets/promise.html.1160aa4d.js"><link rel="prefetch" href="/notes/assets/promiseAll.html.7d80dcc7.js"><link rel="prefetch" href="/notes/assets/spa.html.52db0c16.js"><link rel="prefetch" href="/notes/assets/tsBaseInterview.html.ab09fd0b.js"><link rel="prefetch" href="/notes/assets/useEs6.html.3edbfb3c.js"><link rel="prefetch" href="/notes/assets/webAnimations.html.955ac76b.js"><link rel="prefetch" href="/notes/assets/webpackInterview.html.c97c14cd.js"><link rel="prefetch" href="/notes/assets/webpackLoader.html.bc2bf76d.js"><link rel="prefetch" href="/notes/assets/webpackPublic.html.7d7548ec.js"><link rel="prefetch" href="/notes/assets/weird.html.401e9e2d.js"><link rel="prefetch" href="/notes/assets/es10News.html.26f9cfd4.js"><link rel="prefetch" href="/notes/assets/es11News.html.ac9818fb.js"><link rel="prefetch" href="/notes/assets/es6Interview1.html.9d443454.js"><link rel="prefetch" href="/notes/assets/es6Interview2.html.d5516ae1.js"><link rel="prefetch" href="/notes/assets/es6Interview3.html.644e0656.js"><link rel="prefetch" href="/notes/assets/es6News.html.c417ec7b.js"><link rel="prefetch" href="/notes/assets/es7News.html.723625b3.js"><link rel="prefetch" href="/notes/assets/es8News.html.a2bfcacf.js"><link rel="prefetch" href="/notes/assets/es9News.html.902277e2.js"><link rel="prefetch" href="/notes/assets/base.html.6c344670.js"><link rel="prefetch" href="/notes/assets/nginxComprehensiveScene.html.fd78a225.js"><link rel="prefetch" href="/notes/assets/commonlyUsed.html.7532abb4.js"><link rel="prefetch" href="/notes/assets/inelegantHook.html.78e8df89.js"><link rel="prefetch" href="/notes/assets/interview1.html.b2ac7e5e.js"><link rel="prefetch" href="/notes/assets/interview2.html.9f67e548.js"><link rel="prefetch" href="/notes/assets/interview3.html.0b1748b7.js"><link rel="prefetch" href="/notes/assets/interview4.html.dcc40224.js"><link rel="prefetch" href="/notes/assets/base.html.962e7f7b.js"><link rel="prefetch" href="/notes/assets/base.html.9ef3d613.js"><link rel="prefetch" href="/notes/assets/summarize.html.d2e41e94.js"><link rel="prefetch" href="/notes/assets/_sidebar.html.075bbf63.js"><link rel="prefetch" href="/notes/assets/index.html.16137b61.js"><link rel="prefetch" href="/notes/assets/baseInterview.html.308a97a4.js"><link rel="prefetch" href="/notes/assets/baseInterview.html.60d1a94c.js"><link rel="prefetch" href="/notes/assets/bigDataRender.html.09f473d3.js"><link rel="prefetch" href="/notes/assets/progress.html.11cbac36.js"><link rel="prefetch" href="/notes/assets/quirksStandards.html.054e376d.js"><link rel="prefetch" href="/notes/assets/redrawReflow.html.6e93d9cd.js"><link rel="prefetch" href="/notes/assets/storageSpace.html.868a8aa5.js"><link rel="prefetch" href="/notes/assets/webComLink.html.77f5a109.js"><link rel="prefetch" href="/notes/assets/webUrl.html.12929f94.js"><link rel="prefetch" href="/notes/assets/spanWidthHeight.html.474fb276.js"><link rel="prefetch" href="/notes/assets/baseCss.html.531424bb.js"><link rel="prefetch" href="/notes/assets/blockFormattingContext.html.fcee83bd.js"><link rel="prefetch" href="/notes/assets/containingBlock.html.b2bd4c0e.js"><link rel="prefetch" href="/notes/assets/cssBeforeAfter.html.8cc50c97.js"><link rel="prefetch" href="/notes/assets/cssBoxModal.html.8863f69f.js"><link rel="prefetch" href="/notes/assets/cssCollapsing.html.e096dba2.js"><link rel="prefetch" href="/notes/assets/cssCompatible.html.fc886e35.js"><link rel="prefetch" href="/notes/assets/cssFlexDemo.html.3ab61c9a.js"><link rel="prefetch" href="/notes/assets/cssFlexLayout.html.9d974529.js"><link rel="prefetch" href="/notes/assets/cssGridLayout.html.ebdea580.js"><link rel="prefetch" href="/notes/assets/cssHack.html.764a95b0.js"><link rel="prefetch" href="/notes/assets/cssInlineBlock.html.647aff5c.js"><link rel="prefetch" href="/notes/assets/cssPriority.html.22192bac.js"><link rel="prefetch" href="/notes/assets/cssPseudo.html.bef0d565.js"><link rel="prefetch" href="/notes/assets/cssPseudoClass.html.d1fa4bca.js"><link rel="prefetch" href="/notes/assets/cssSelector.html.4d6504fc.js"><link rel="prefetch" href="/notes/assets/cssTutorial.html.f4f9f615.js"><link rel="prefetch" href="/notes/assets/fieldInvalid.html.504ebd60.js"><link rel="prefetch" href="/notes/assets/frame.html.4313443d.js"><link rel="prefetch" href="/notes/assets/knowledgePoints.html.4cb6c7df.js"><link rel="prefetch" href="/notes/assets/linkImport.html.3c856a14.js"><link rel="prefetch" href="/notes/assets/stackingContext.html.0c64900f.js"><link rel="prefetch" href="/notes/assets/tools.html.7531a8aa.js"><link rel="prefetch" href="/notes/assets/units.html.cf3e10f8.js"><link rel="prefetch" href="/notes/assets/transform.html.622d774f.js"><link rel="prefetch" href="/notes/assets/content.html.119cd871.js"><link rel="prefetch" href="/notes/assets/plugins.html.c141e9eb.js"><link rel="prefetch" href="/notes/assets/accesskey.html.aebd3895.js"><link rel="prefetch" href="/notes/assets/baseInterview.html.abd75c89.js"><link rel="prefetch" href="/notes/assets/canvasSvg.html.6ba8b8a7.js"><link rel="prefetch" href="/notes/assets/deviceAPI.html.228879ec.js"><link rel="prefetch" href="/notes/assets/globalAttr.html.2c9b5878.js"><link rel="prefetch" href="/notes/assets/htmlDatalist.html.f443d738.js"><link rel="prefetch" href="/notes/assets/htmlElement.html.be5d633b.js"><link rel="prefetch" href="/notes/assets/interview10.html.58ef0b51.js"><link rel="prefetch" href="/notes/assets/interview11.html.245e8707.js"><link rel="prefetch" href="/notes/assets/interview12.html.a0ffc46d.js"><link rel="prefetch" href="/notes/assets/interview13.html.50a7e94d.js"><link rel="prefetch" href="/notes/assets/interview14.html.fe819996.js"><link rel="prefetch" href="/notes/assets/interview15.html.75e3e018.js"><link rel="prefetch" href="/notes/assets/interview16.html.8804d3cf.js"><link rel="prefetch" href="/notes/assets/interview17.html.a5dde44b.js"><link rel="prefetch" href="/notes/assets/interview18.html.64908e2c.js"><link rel="prefetch" href="/notes/assets/interview19.html.e2d2f639.js"><link rel="prefetch" href="/notes/assets/interview20.html.a8b035ee.js"><link rel="prefetch" href="/notes/assets/interview21.html.c23621b3.js"><link rel="prefetch" href="/notes/assets/interview22.html.0955c07e.js"><link rel="prefetch" href="/notes/assets/interview23.html.fce24471.js"><link rel="prefetch" href="/notes/assets/interview24.html.8da51007.js"><link rel="prefetch" href="/notes/assets/interview25.html.f3c8c1f2.js"><link rel="prefetch" href="/notes/assets/interview26.html.dc7856f5.js"><link rel="prefetch" href="/notes/assets/interview27.html.9cbf4039.js"><link rel="prefetch" href="/notes/assets/interview28.html.048685f1.js"><link rel="prefetch" href="/notes/assets/interview29.html.aba09531.js"><link rel="prefetch" href="/notes/assets/interview30.html.c25142cc.js"><link rel="prefetch" href="/notes/assets/interview31.html.4bb0ea59.js"><link rel="prefetch" href="/notes/assets/interview32.html.39ac0919.js"><link rel="prefetch" href="/notes/assets/interview33.html.29a66e90.js"><link rel="prefetch" href="/notes/assets/interview34.html.c46064e6.js"><link rel="prefetch" href="/notes/assets/interview35.html.254730f2.js"><link rel="prefetch" href="/notes/assets/interview36.html.cb5abc32.js"><link rel="prefetch" href="/notes/assets/interview37.html.f0f05a76.js"><link rel="prefetch" href="/notes/assets/interview38.html.4517da61.js"><link rel="prefetch" href="/notes/assets/interview39.html.eaedf0d4.js"><link rel="prefetch" href="/notes/assets/interview40.html.b1e31d2f.js"><link rel="prefetch" href="/notes/assets/interview41.html.880073ff.js"><link rel="prefetch" href="/notes/assets/interview42.html.68d95d99.js"><link rel="prefetch" href="/notes/assets/interview43.html.fb14f3b3.js"><link rel="prefetch" href="/notes/assets/interview44.html.8b54f99b.js"><link rel="prefetch" href="/notes/assets/interview45.html.8ed67fe8.js"><link rel="prefetch" href="/notes/assets/interview46.html.ed2b7812.js"><link rel="prefetch" href="/notes/assets/interview47.html.091dc360.js"><link rel="prefetch" href="/notes/assets/interview48.html.6dbaf4e8.js"><link rel="prefetch" href="/notes/assets/interview49.html.cb2b402f.js"><link rel="prefetch" href="/notes/assets/interview5.html.637bbee5.js"><link rel="prefetch" href="/notes/assets/interview50.html.daaf7f5d.js"><link rel="prefetch" href="/notes/assets/interview51.html.3aab31b0.js"><link rel="prefetch" href="/notes/assets/interview52.html.14331410.js"><link rel="prefetch" href="/notes/assets/interview53.html.24dddb37.js"><link rel="prefetch" href="/notes/assets/interview54.html.a2179093.js"><link rel="prefetch" href="/notes/assets/interview55.html.4f09e99d.js"><link rel="prefetch" href="/notes/assets/interview56.html.ef1b59a5.js"><link rel="prefetch" href="/notes/assets/interview57.html.8b99f632.js"><link rel="prefetch" href="/notes/assets/interview58.html.087e08c5.js"><link rel="prefetch" href="/notes/assets/interview59.html.a798022e.js"><link rel="prefetch" href="/notes/assets/interview6.html.4e51556c.js"><link rel="prefetch" href="/notes/assets/interview7.html.75a9c971.js"><link rel="prefetch" href="/notes/assets/interview8.html.91097031.js"><link rel="prefetch" href="/notes/assets/interview9.html.d91aef32.js"><link rel="prefetch" href="/notes/assets/linkImport.html.3d260333.js"><link rel="prefetch" href="/notes/assets/offlineStorage.html.ebc0c9e1.js"><link rel="prefetch" href="/notes/assets/regular.html.f1456fe9.js"><link rel="prefetch" href="/notes/assets/shake.html.425040dc.js"><link rel="prefetch" href="/notes/assets/webWorker.html.73f2decf.js"><link rel="prefetch" href="/notes/assets/baseInterview.html.de786ffc.js"><link rel="prefetch" href="/notes/assets/cors.html.f972de8c.js"><link rel="prefetch" href="/notes/assets/crossDomainCookie.html.568a7762.js"><link rel="prefetch" href="/notes/assets/fetch.html.47f081d4.js"><link rel="prefetch" href="/notes/assets/nestAxios.html.ffa01685.js"><link rel="prefetch" href="/notes/assets/debounce.html.a9765c71.js"><link rel="prefetch" href="/notes/assets/lodashPrinciple.html.33d86b6c.js"><link rel="prefetch" href="/notes/assets/lodashThrottleDebounce.html.ac89ffc3.js"><link rel="prefetch" href="/notes/assets/throttle.html.3f27380b.js"><link rel="prefetch" href="/notes/assets/throttleDebounceReact.html.95252c4b.js"><link rel="prefetch" href="/notes/assets/cloneIntroduction.html.5f0aad33.js"><link rel="prefetch" href="/notes/assets/deepClone.html.3d6fdf4b.js"><link rel="prefetch" href="/notes/assets/lodashDeepClone.html.e46bd18e.js"><link rel="prefetch" href="/notes/assets/objectAssign.html.cc45057f.js"><link rel="prefetch" href="/notes/assets/arraySourceCode.html.bd7ef8eb.js"><link rel="prefetch" href="/notes/assets/baseHigh.html.8b5c9ca3.js"><link rel="prefetch" href="/notes/assets/currying.html.79aba5be.js"><link rel="prefetch" href="/notes/assets/baseInterview.html.d3029f05.js"><link rel="prefetch" href="/notes/assets/eventLoop.html.4f9292f1.js"><link rel="prefetch" href="/notes/assets/iife.html.8c6ed048.js"><link rel="prefetch" href="/notes/assets/interview1.html.0358e564.js"><link rel="prefetch" href="/notes/assets/jsCompatible.html.28afe903.js"><link rel="prefetch" href="/notes/assets/baseProyotype.html.a2353573.js"><link rel="prefetch" href="/notes/assets/functionObjectResource.html.b06d7dd4.js"><link rel="prefetch" href="/notes/assets/prototypeInherit.html.5af39f98.js"><link rel="prefetch" href="/notes/assets/closureInterview.html.ae8e7860.js"><link rel="prefetch" href="/notes/assets/scopeChain.html.28002029.js"><link rel="prefetch" href="/notes/assets/understandingClosures.html.20fe42d3.js"><link rel="prefetch" href="/notes/assets/executionStack.html.1d1a1fb5.js"><link rel="prefetch" href="/notes/assets/memoryLeak.html.70c915cb.js"><link rel="prefetch" href="/notes/assets/memoryMechanism.html.9c04cd74.js"><link rel="prefetch" href="/notes/assets/memorySpace.html.5aec4afd.js"><link rel="prefetch" href="/notes/assets/precompiled.html.9001c280.js"><link rel="prefetch" href="/notes/assets/variableObject.html.50547e4a.js"><link rel="prefetch" href="/notes/assets/arrowFunctionThis.html.9dce3d78.js"><link rel="prefetch" href="/notes/assets/bindSimulation.html.58ef3bd0.js"><link rel="prefetch" href="/notes/assets/callApply.html.0a3f2779.js"><link rel="prefetch" href="/notes/assets/newSimulation.html.9c170eb2.js"><link rel="prefetch" href="/notes/assets/thisBind.html.b1f69be3.js"><link rel="prefetch" href="/notes/assets/interview1.html.e5fcd053.js"><link rel="prefetch" href="/notes/assets/interview10.html.5c4c895a.js"><link rel="prefetch" href="/notes/assets/interview11.html.b6fb7d14.js"><link rel="prefetch" href="/notes/assets/interview12.html.abaad215.js"><link rel="prefetch" href="/notes/assets/interview13.html.442918f1.js"><link rel="prefetch" href="/notes/assets/interview14.html.3b7e3ca7.js"><link rel="prefetch" href="/notes/assets/interview15.html.8dc91059.js"><link rel="prefetch" href="/notes/assets/interview16.html.cf538a1c.js"><link rel="prefetch" href="/notes/assets/interview17.html.a32abbc8.js"><link rel="prefetch" href="/notes/assets/interview18.html.0fa2efef.js"><link rel="prefetch" href="/notes/assets/interview19.html.b4e27e0a.js"><link rel="prefetch" href="/notes/assets/interview2.html.95463e7d.js"><link rel="prefetch" href="/notes/assets/interview20.html.4d5fae90.js"><link rel="prefetch" href="/notes/assets/interview21.html.0882cf96.js"><link rel="prefetch" href="/notes/assets/interview22.html.e31ca229.js"><link rel="prefetch" href="/notes/assets/interview23.html.a74f7426.js"><link rel="prefetch" href="/notes/assets/interview24.html.27ebb542.js"><link rel="prefetch" href="/notes/assets/interview25.html.33cb142b.js"><link rel="prefetch" href="/notes/assets/interview26.html.b3b58f4f.js"><link rel="prefetch" href="/notes/assets/interview27.html.8e27aa06.js"><link rel="prefetch" href="/notes/assets/interview28.html.49e6df7e.js"><link rel="prefetch" href="/notes/assets/interview29.html.7ce852fd.js"><link rel="prefetch" href="/notes/assets/interview3.html.5f77b1cd.js"><link rel="prefetch" href="/notes/assets/interview30.html.9979403c.js"><link rel="prefetch" href="/notes/assets/interview4.html.b462ca7f.js"><link rel="prefetch" href="/notes/assets/interview5.html.a5a38165.js"><link rel="prefetch" href="/notes/assets/interview6.html.fa4e533e.js"><link rel="prefetch" href="/notes/assets/interview7.html.6ad76192.js"><link rel="prefetch" href="/notes/assets/interview8.html.4420f599.js"><link rel="prefetch" href="/notes/assets/interview9.html.d936486e.js"><link rel="prefetch" href="/notes/assets/adjacentSiblingCombinator.html.4678ef29.js"><link rel="prefetch" href="/notes/assets/attributeSelectors.html.26ba4611.js"><link rel="prefetch" href="/notes/assets/charset.html.d2c457ea.js"><link rel="prefetch" href="/notes/assets/childCombinator.html.3141043e.js"><link rel="prefetch" href="/notes/assets/classSelectors.html.12522638.js"><link rel="prefetch" href="/notes/assets/descendantCombinator.html.fab8f35d.js"><link rel="prefetch" href="/notes/assets/generalSiblingCombinator.html.b4c4cbae.js"><link rel="prefetch" href="/notes/assets/iDSelectors.html.8c4c70d3.js"><link rel="prefetch" href="/notes/assets/pseudoClasses.html.a3601830.js"><link rel="prefetch" href="/notes/assets/pseudoElements.html.4f98065a.js"><link rel="prefetch" href="/notes/assets/selectorList.html.24e96ba6.js"><link rel="prefetch" href="/notes/assets/typeSelectors.html.b26b0828.js"><link rel="prefetch" href="/notes/assets/universalSelectors.html.eccbf364.js"><link rel="prefetch" href="/notes/assets/IterationProtocols.html.51c4e03d.js"><link rel="prefetch" href="/notes/assets/arrayFlat.html.b8cb5aed.js"><link rel="prefetch" href="/notes/assets/asyncHistory.html.aa784c29.js"><link rel="prefetch" href="/notes/assets/eventLoop.html.ecc7202d.js"><link rel="prefetch" href="/notes/assets/fileReader.html.531b6b74.js"><link rel="prefetch" href="/notes/assets/formData.html.15fdfb84.js"><link rel="prefetch" href="/notes/assets/functionGenerator.html.19d1dbd5.js"><link rel="prefetch" href="/notes/assets/generator.html.b0314375.js"><link rel="prefetch" href="/notes/assets/intersectionObserver.html.b0ed8797.js"><link rel="prefetch" href="/notes/assets/map.html.13056768.js"><link rel="prefetch" href="/notes/assets/promise.html.0205a234.js"><link rel="prefetch" href="/notes/assets/set.html.5065a76a.js"><link rel="prefetch" href="/notes/assets/string.html.315b17c9.js"><link rel="prefetch" href="/notes/assets/symbol.html.2cc4e5e6.js"><link rel="prefetch" href="/notes/assets/xMLHttpRequest.html.c899cb52.js"><link rel="prefetch" href="/notes/assets/spreadSyntax.html.e2d75338.js"><link rel="prefetch" href="/notes/assets/strictMode.html.3cff9f18.js"><link rel="prefetch" href="/notes/assets/cache.html.5ab9ab96.js"><link rel="prefetch" href="/notes/assets/drag1.html.5eee75e6.js"><link rel="prefetch" href="/notes/assets/oneLineCode.html.8ced55da.js"><link rel="prefetch" href="/notes/assets/oneLineCodeArray.html.2a6deae0.js"><link rel="prefetch" href="/notes/assets/oneLineCodeDOM.html.e3420bc3.js"><link rel="prefetch" href="/notes/assets/oneLineCodeDateTime.html.371ec1ec.js"><link rel="prefetch" href="/notes/assets/oneLineCodeFunction.html.9b5afa57.js"><link rel="prefetch" href="/notes/assets/oneLineCodeMath.html.c4c84b27.js"><link rel="prefetch" href="/notes/assets/oneLineCodeMisc.html.607580cb.js"><link rel="prefetch" href="/notes/assets/oneLineCodeNumber.html.0c24a0dc.js"><link rel="prefetch" href="/notes/assets/oneLineCodeObject.html.5ad38b80.js"><link rel="prefetch" href="/notes/assets/oneLineCodeRandom.html.6f54ca72.js"><link rel="prefetch" href="/notes/assets/oneLineCodeString.html.6836187a.js"><link rel="prefetch" href="/notes/assets/oneLineCodeValidator.html.6f3faa87.js"><link rel="prefetch" href="/notes/assets/typeScriptCache.html.cf83e89c.js"><link rel="prefetch" href="/notes/assets/reactBase.html.34722524.js"><link rel="prefetch" href="/notes/assets/reactTypescript.html.ee954354.js"><link rel="prefetch" href="/notes/assets/vue2Base.html.5e4d06d2.js"><link rel="prefetch" href="/notes/assets/vue2Table.html.5bb59922.js"><link rel="prefetch" href="/notes/assets/vue2offsetTop.html.3083a997.js"><link rel="prefetch" href="/notes/assets/componentWillXXX.html.febd278d.js"><link rel="prefetch" href="/notes/assets/disrupt.html.b6c0351f.js"><link rel="prefetch" href="/notes/assets/lane.html.72f390d4.js"><link rel="prefetch" href="/notes/assets/prepare.html.d81b7442.js"><link rel="prefetch" href="/notes/assets/redux.html.86a12e77.js"><link rel="prefetch" href="/notes/assets/scheduler.html.8c339c02.js"><link rel="prefetch" href="/notes/assets/multi.html.0739ede4.js"><link rel="prefetch" href="/notes/assets/one.html.f797fb2f.js"><link rel="prefetch" href="/notes/assets/prepare.html.6449d220.js"><link rel="prefetch" href="/notes/assets/create.html.2c1770d7.js"><link rel="prefetch" href="/notes/assets/prepare.html.19a0c63a.js"><link rel="prefetch" href="/notes/assets/structure.html.4af4a93a.js"><link rel="prefetch" href="/notes/assets/useeffect.html.cb0836a6.js"><link rel="prefetch" href="/notes/assets/usememo.html.7c201360.js"><link rel="prefetch" href="/notes/assets/useref.html.bad9c523.js"><link rel="prefetch" href="/notes/assets/usestate.html.ac4c6a0c.js"><link rel="prefetch" href="/notes/assets/file.html.30b2a472.js"><link rel="prefetch" href="/notes/assets/idea.html.9c212512.js"><link rel="prefetch" href="/notes/assets/jsx.html.ad8d5832.js"><link rel="prefetch" href="/notes/assets/newConstructure.html.810f09a4.js"><link rel="prefetch" href="/notes/assets/oldConstructure.html.891dc0ee.js"><link rel="prefetch" href="/notes/assets/source.html.d63d9625.js"><link rel="prefetch" href="/notes/assets/summary.html.8616e021.js"><link rel="prefetch" href="/notes/assets/basePrinciple.html.8885dd7f.js"><link rel="prefetch" href="/notes/assets/componentApi.html.40834033.js"><link rel="prefetch" href="/notes/assets/domApi.html.22e55c76.js"><link rel="prefetch" href="/notes/assets/hoc.html.91d90706.js"><link rel="prefetch" href="/notes/assets/hookApi.html.818a01de.js"><link rel="prefetch" href="/notes/assets/hookCustom.html.32a36dfb.js"><link rel="prefetch" href="/notes/assets/hookPrinciple.html.56d6f673.js"><link rel="prefetch" href="/notes/assets/hookUse.html.00a61215.js"><link rel="prefetch" href="/notes/assets/reactKeeplive.html.44eaf288.js"><link rel="prefetch" href="/notes/assets/reactRedux.html.a420779a.js"><link rel="prefetch" href="/notes/assets/reactRouter.html.ca1881e7.js"><link rel="prefetch" href="/notes/assets/toolApi.html.e9d4c75a.js"><link rel="prefetch" href="/notes/assets/beginWork.html.16f412a1.js"><link rel="prefetch" href="/notes/assets/completeWork.html.9ff3db0d.js"><link rel="prefetch" href="/notes/assets/doubleBuffer.html.2567847d.js"><link rel="prefetch" href="/notes/assets/fiber-mental.html.20df01fb.js"><link rel="prefetch" href="/notes/assets/fiber.html.8a441b3e.js"><link rel="prefetch" href="/notes/assets/reconciler.html.04c2e687.js"><link rel="prefetch" href="/notes/assets/beforeMutation.html.3c5603ea.js"><link rel="prefetch" href="/notes/assets/layout.html.4658d427.js"><link rel="prefetch" href="/notes/assets/mutation.html.dcc1b732.js"><link rel="prefetch" href="/notes/assets/prepare.html.68c8bf56.js"><link rel="prefetch" href="/notes/assets/mental.html.03393ba5.js"><link rel="prefetch" href="/notes/assets/prepare.html.ee2c080f.js"><link rel="prefetch" href="/notes/assets/priority.html.913dca70.js"><link rel="prefetch" href="/notes/assets/reactdom.html.373713ad.js"><link rel="prefetch" href="/notes/assets/setstate.html.4ed38489.js"><link rel="prefetch" href="/notes/assets/update.html.2d0f9ee0.js"><link rel="prefetch" href="/notes/assets/bitfiled.html.8eca7f28.js"><link rel="prefetch" href="/notes/assets/dfs.html.8a40d17e.js"><link rel="prefetch" href="/notes/assets/diff.html.19c98a3c.js"><link rel="prefetch" href="/notes/assets/heapsort.html.4eaf85a8.js"><link rel="prefetch" href="/notes/assets/linkedlist.html.17aee4ad.js"><link rel="prefetch" href="/notes/assets/stack.html.fe3b2471.js"><link rel="prefetch" href="/notes/assets/bootstrap.html.bd305359.js"><link rel="prefetch" href="/notes/assets/context.html.b92a2241.js"><link rel="prefetch" href="/notes/assets/fibertree-commit.html.6cb97cdb.js"><link rel="prefetch" href="/notes/assets/fibertree-create.html.5d944821.js"><link rel="prefetch" href="/notes/assets/fibertree-prepare.html.d7c62d4b.js"><link rel="prefetch" href="/notes/assets/fibertree-update.html.d18efe4d.js"><link rel="prefetch" href="/notes/assets/hook-effect.html.0862838e.js"><link rel="prefetch" href="/notes/assets/hook-state.html.5552f208.js"><link rel="prefetch" href="/notes/assets/hook-summary.html.38ae18b1.js"><link rel="prefetch" href="/notes/assets/macro-structure.html.08c0b408.js"><link rel="prefetch" href="/notes/assets/object-structure.html.1899253b.js"><link rel="prefetch" href="/notes/assets/priority.html.24f4fd27.js"><link rel="prefetch" href="/notes/assets/reconciler-workflow.html.51a79eb6.js"><link rel="prefetch" href="/notes/assets/scheduler.html.701a1c65.js"><link rel="prefetch" href="/notes/assets/state-effects.html.f67a9fd1.js"><link rel="prefetch" href="/notes/assets/synthetic-event.html.f75a320b.js"><link rel="prefetch" href="/notes/assets/workloop.html.281d6eba.js"><link rel="prefetch" href="/notes/assets/ast.html.4722246c.js"><link rel="prefetch" href="/notes/assets/binder.html.bed71a48.js"><link rel="prefetch" href="/notes/assets/checker.html.ca8111ef.js"><link rel="prefetch" href="/notes/assets/emitter.html.af546fcd.js"><link rel="prefetch" href="/notes/assets/overview.html.4a519291.js"><link rel="prefetch" href="/notes/assets/parser.html.02c420d4.js"><link rel="prefetch" href="/notes/assets/program.html.941d3fd0.js"><link rel="prefetch" href="/notes/assets/scanner.html.06598dca.js"><link rel="prefetch" href="/notes/assets/common.html.2840c671.js"><link rel="prefetch" href="/notes/assets/interpreting.html.9d0247dd.js"><link rel="prefetch" href="/notes/assets/class.html.176b10c4.js"><link rel="prefetch" href="/notes/assets/commandline-behavior.html.9c679556.js"><link rel="prefetch" href="/notes/assets/comments.html.8840c294.js"><link rel="prefetch" href="/notes/assets/common-bug-not-bugs.html.1c50db4c.js"><link rel="prefetch" href="/notes/assets/common-feature-request.html.cbdc85e0.js"><link rel="prefetch" href="/notes/assets/decorators.html.e685ca45.js"><link rel="prefetch" href="/notes/assets/enums.html.e3d4bed0.js"><link rel="prefetch" href="/notes/assets/function.html.2f3827b6.js"><link rel="prefetch" href="/notes/assets/generics.html.ef35fef5.js"><link rel="prefetch" href="/notes/assets/glossary-and-terms.html.ff76a163.js"><link rel="prefetch" href="/notes/assets/jsx-and-react.html.af6a3ed5.js"><link rel="prefetch" href="/notes/assets/modules.html.fca96b11.js"><link rel="prefetch" href="/notes/assets/thing-that-dont-work.html.0798ae85.js"><link rel="prefetch" href="/notes/assets/tsconfig-behavior.html.7186d572.js"><link rel="prefetch" href="/notes/assets/type-guards.html.338be1fc.js"><link rel="prefetch" href="/notes/assets/type-system-behavior.html.b3d484fb.js"><link rel="prefetch" href="/notes/assets/nonReactJSX.html.6224d2f0.js"><link rel="prefetch" href="/notes/assets/reactJSX.html.2ab93f4e.js"><link rel="prefetch" href="/notes/assets/support.html.38d65ad9.js"><link rel="prefetch" href="/notes/assets/typescript-3.7.html.22fbc5c7.js"><link rel="prefetch" href="/notes/assets/typescript-3.8.html.7e45b554.js"><link rel="prefetch" href="/notes/assets/typescript-3.9.html.d3535b93.js"><link rel="prefetch" href="/notes/assets/compilationContext.html.42cc41f0.js"><link rel="prefetch" href="/notes/assets/declarationspaces.html.5e8d853d.js"><link rel="prefetch" href="/notes/assets/dynamicImportExpressions.html.2351b7f3.js"><link rel="prefetch" href="/notes/assets/inDepthTs.html.23b9ed3c.js"><link rel="prefetch" href="/notes/assets/modules.html.a267ca3f.js"><link rel="prefetch" href="/notes/assets/namespaces.html.e9e0a691.js"><link rel="prefetch" href="/notes/assets/unknownAny.html.130e4df1.js"><link rel="prefetch" href="/notes/assets/avoidExportDefault.html.e6bf98c9.js"><link rel="prefetch" href="/notes/assets/barrel.html.4784a045.js"><link rel="prefetch" href="/notes/assets/bind.html.4a0d2947.js"><link rel="prefetch" href="/notes/assets/buildToggles.html.73cc1fff.js"><link rel="prefetch" href="/notes/assets/classAreUseful.html.2ef5f86f.js"><link rel="prefetch" href="/notes/assets/covarianceAndContravariance.html.cceeb4e4.js"><link rel="prefetch" href="/notes/assets/createArrays.html.6ba7a0e7.js"><link rel="prefetch" href="/notes/assets/curry.html.9bed419f.js"><link rel="prefetch" href="/notes/assets/functionParameters.html.bdb6bd3d.js"><link rel="prefetch" href="/notes/assets/infer.html.205651e2.js"><link rel="prefetch" href="/notes/assets/lazyObjectLiteralInitialization.html.5f61d58a.js"><link rel="prefetch" href="/notes/assets/limitPropertySetters.html.7c772ffe.js"><link rel="prefetch" href="/notes/assets/metadata.html.e9eb3a03.js"><link rel="prefetch" href="/notes/assets/nominalTyping.html.530eea23.js"><link rel="prefetch" href="/notes/assets/outFileCaution.html.36b23ec7.js"><link rel="prefetch" href="/notes/assets/singletonPatern.html.3a72448b.js"><link rel="prefetch" href="/notes/assets/statefulFunctions.html.8ec60826.js"><link rel="prefetch" href="/notes/assets/staticConstructors.html.5a25406b.js"><link rel="prefetch" href="/notes/assets/stringBasedEmuns.html.b4519990.js"><link rel="prefetch" href="/notes/assets/truthy.html.6496d11c.js"><link rel="prefetch" href="/notes/assets/typeInstantiation.html.8e59e083.js"><link rel="prefetch" href="/notes/assets/typesafeEventEmitter.html.6300f4fa.js"><link rel="prefetch" href="/notes/assets/ambient.html.c822fd90.js"><link rel="prefetch" href="/notes/assets/callable.html.d0c0bbad.js"><link rel="prefetch" href="/notes/assets/discrominatedUnion.html.a172d541.js"><link rel="prefetch" href="/notes/assets/enums.html.76032376.js"><link rel="prefetch" href="/notes/assets/exceptionsHanding.html.3090d295.js"><link rel="prefetch" href="/notes/assets/freshness.html.07d033ad.js"><link rel="prefetch" href="/notes/assets/functions.html.1702d26f.js"><link rel="prefetch" href="/notes/assets/generices.html.c2df4cac.js"><link rel="prefetch" href="/notes/assets/indexSignatures.html.85f6577d.js"><link rel="prefetch" href="/notes/assets/interfaces.html.2e1c0ca0.js"><link rel="prefetch" href="/notes/assets/lib.html.8e150cb1.js"><link rel="prefetch" href="/notes/assets/literals.html.3cd9a741.js"><link rel="prefetch" href="/notes/assets/migrating.html.53df00fb.js"><link rel="prefetch" href="/notes/assets/mixins.html.62e5f0fd.js"><link rel="prefetch" href="/notes/assets/movingTypes.html.9d36cd6f.js"><link rel="prefetch" href="/notes/assets/neverType.html.16150149.js"><link rel="prefetch" href="/notes/assets/overview.html.85bcab3e.js"><link rel="prefetch" href="/notes/assets/readonly.html.66f74561.js"><link rel="prefetch" href="/notes/assets/thisType.html.638f1d8d.js"><link rel="prefetch" href="/notes/assets/typeAssertion.html.cedb905a.js"><link rel="prefetch" href="/notes/assets/typeCompatibility.html.f314b22e.js"><link rel="prefetch" href="/notes/assets/typeGuard.html.2ff8201d.js"><link rel="prefetch" href="/notes/assets/typeInference.html.1fae7266.js"><link rel="prefetch" href="/notes/assets/types.html.67883b92.js"><link rel="prefetch" href="/notes/assets/pluginDva.html.b68c212d.js"><link rel="prefetch" href="/notes/assets/pluginQiankun.html.7f956b9b.js"><link rel="prefetch" href="/notes/assets/codegen.html.decbe76e.js"><link rel="prefetch" href="/notes/assets/entrance.html.78975e1d.js"><link rel="prefetch" href="/notes/assets/optimize.html.9f58b1dc.js"><link rel="prefetch" href="/notes/assets/outline.html.b228ff98.js"><link rel="prefetch" href="/notes/assets/parse.html.cf87e83c.js"><link rel="prefetch" href="/notes/assets/async-component.html.f2fce7a4.js"><link rel="prefetch" href="/notes/assets/component-register.html.ec777791.js"><link rel="prefetch" href="/notes/assets/create-component.html.b7ea7d86.js"><link rel="prefetch" href="/notes/assets/lifecycle.html.6dfe8f3c.js"><link rel="prefetch" href="/notes/assets/merge-option.html.fda33cc2.js"><link rel="prefetch" href="/notes/assets/outline.html.ef6eb680.js"><link rel="prefetch" href="/notes/assets/patch.html.984b33c4.js"><link rel="prefetch" href="/notes/assets/_index.html.0917df2e.js"><link rel="prefetch" href="/notes/assets/create-element.html.64d36854.js"><link rel="prefetch" href="/notes/assets/mounted.html.17638664.js"><link rel="prefetch" href="/notes/assets/new-vue.html.52de603e.js"><link rel="prefetch" href="/notes/assets/render.html.5cf78daa.js"><link rel="prefetch" href="/notes/assets/update.html.2e285d46.js"><link rel="prefetch" href="/notes/assets/virtual-dom.html.ebbd5cff.js"><link rel="prefetch" href="/notes/assets/event.html.2885b882.js"><link rel="prefetch" href="/notes/assets/keep-alive.html.91309197.js"><link rel="prefetch" href="/notes/assets/outline.html.dc94c30d.js"><link rel="prefetch" href="/notes/assets/slot.html.ca1e313b.js"><link rel="prefetch" href="/notes/assets/tansition-group.html.109ceff3.js"><link rel="prefetch" href="/notes/assets/tansition.html.2cb870c6.js"><link rel="prefetch" href="/notes/assets/v-model.html.4cd30505.js"><link rel="prefetch" href="/notes/assets/baseInterview.html.3eae277e.js"><link rel="prefetch" href="/notes/assets/baseInterviewSecond.html.d6cde389.js"><link rel="prefetch" href="/notes/assets/componentCommunication.html.ecbe72e8.js"><link rel="prefetch" href="/notes/assets/detailedResponsiveness.html.483c396e.js"><link rel="prefetch" href="/notes/assets/diff.html.07197252.js"><link rel="prefetch" href="/notes/assets/eventBinding.html.f9c13bf1.js"><link rel="prefetch" href="/notes/assets/eventMechanism.html.435fbd64.js"><link rel="prefetch" href="/notes/assets/key.html.e1b89141.js"><link rel="prefetch" href="/notes/assets/knowledgeSystem.html.2967f0fb.js"><link rel="prefetch" href="/notes/assets/slot.html.b6cff939.js"><link rel="prefetch" href="/notes/assets/sourceCodeAsyncDomUpdateNextTick.html.987a85c5.js"><link rel="prefetch" href="/notes/assets/sourceCodeElementBroadcastDispatch.html.51b7b968.js"><link rel="prefetch" href="/notes/assets/sourceCodeKeepAlive.html.d20fe26a.js"><link rel="prefetch" href="/notes/assets/sourceCodeResponsiveness.html.5dc22fc3.js"><link rel="prefetch" href="/notes/assets/sourceCodeTemplateCompilation.html.f7a1dd87.js"><link rel="prefetch" href="/notes/assets/sourceCodeTemplateDom.html.d20c743f.js"><link rel="prefetch" href="/notes/assets/sourceCodeVuex.html.b2c2f6d7.js"><link rel="prefetch" href="/notes/assets/templateCompilation.html.7c059f34.js"><link rel="prefetch" href="/notes/assets/vNode.html.8be72310.js"><link rel="prefetch" href="/notes/assets/vNodeDiff.html.52f30892.js"><link rel="prefetch" href="/notes/assets/build.html.df2322c4.js"><link rel="prefetch" href="/notes/assets/directory.html.c1bf8102.js"><link rel="prefetch" href="/notes/assets/entrance.html.d8a98236.js"><link rel="prefetch" href="/notes/assets/flow.html.e4f444d4.js"><link rel="prefetch" href="/notes/assets/component-update.html.784b890d.js"><link rel="prefetch" href="/notes/assets/computed-watcher.html.28270353.js"><link rel="prefetch" href="/notes/assets/getters.html.a2e7d109.js"><link rel="prefetch" href="/notes/assets/next-tick.html.9c857394.js"><link rel="prefetch" href="/notes/assets/outline.html.76b6ab45.js"><link rel="prefetch" href="/notes/assets/props.html.ad58cf0f.js"><link rel="prefetch" href="/notes/assets/questions.html.127aeab2.js"><link rel="prefetch" href="/notes/assets/reactive-object.html.64466fea.js"><link rel="prefetch" href="/notes/assets/setters.html.0dca9440.js"><link rel="prefetch" href="/notes/assets/summary.html.c18427a9.js"><link rel="prefetch" href="/notes/assets/install.html.7de46a8b.js"><link rel="prefetch" href="/notes/assets/matcher.html.d080fc07.js"><link rel="prefetch" href="/notes/assets/outline.html.607a3a2d.js"><link rel="prefetch" href="/notes/assets/router.html.a6fa1e47.js"><link rel="prefetch" href="/notes/assets/transition-to.html.5c90d737.js"><link rel="prefetch" href="/notes/assets/api.html.39f6da24.js"><link rel="prefetch" href="/notes/assets/idex.html.e1c16a01.js"><link rel="prefetch" href="/notes/assets/init.html.462c5cf9.js"><link rel="prefetch" href="/notes/assets/plugin.html.ca8bed91.js"><link rel="prefetch" href="/notes/assets/baseInterview.html.866c3c06.js"><link rel="prefetch" href="/notes/assets/configuration.html.9e58a0fa.js"><link rel="prefetch" href="/notes/assets/entryPoints.html.09ad4a83.js"><link rel="prefetch" href="/notes/assets/loader.html.4cf291fa.js"><link rel="prefetch" href="/notes/assets/output.html.8cf664a5.js"><link rel="prefetch" href="/notes/assets/plugin.html.a5428135.js"><link rel="prefetch" href="/notes/assets/webpackInterview.html.9adadcaf.js"><link rel="prefetch" href="/notes/assets/reactApi.html.6cb8a5bd.js"><link rel="prefetch" href="/notes/assets/reactChildren.html.96c46a9a.js"><link rel="prefetch" href="/notes/assets/reactElement.html.b4f8352a.js"><link rel="prefetch" href="/notes/assets/reactFiber.html.4b137f5f.js"><link rel="prefetch" href="/notes/assets/commitAllHostEffects.html.68a9a0ef.js"><link rel="prefetch" href="/notes/assets/commitAllLifeCycles.html.06ba456b.js"><link rel="prefetch" href="/notes/assets/commitBeforeMutationLifecycles.html.2ce9b59b.js"><link rel="prefetch" href="/notes/assets/commitDeletion.html.a9d92fcf.js"><link rel="prefetch" href="/notes/assets/commitPlacement.html.a7b8b479.js"><link rel="prefetch" href="/notes/assets/commitRoot.html.28d39b32.js"><link rel="prefetch" href="/notes/assets/commitWork.html.03ce0c1e.js"><link rel="prefetch" href="/notes/assets/invokeGuardedCallback.html.bffcf147.js"><link rel="prefetch" href="/notes/assets/expirationTime.html.b50e0cc1.js"><link rel="prefetch" href="/notes/assets/reactDomRender.html.a52e57c1.js"><link rel="prefetch" href="/notes/assets/setStateForceUpdate.html.97a36dcc.js"><link rel="prefetch" href="/notes/assets/context.html.16ea2e60.js"><link rel="prefetch" href="/notes/assets/evenInit.html.30c2727f.js"><link rel="prefetch" href="/notes/assets/eventBind.html.26edb394.js"><link rel="prefetch" href="/notes/assets/eventCreateEventObject.html.986a4a58.js"><link rel="prefetch" href="/notes/assets/eventDispath.html.66c4062e.js"><link rel="prefetch" href="/notes/assets/hydrate.html.17e9bdee.js"><link rel="prefetch" href="/notes/assets/ref.html.52737b61.js"><link rel="prefetch" href="/notes/assets/suspense.html.214d4f5e.js"><link rel="prefetch" href="/notes/assets/suspenseLazy.html.fe491204.js"><link rel="prefetch" href="/notes/assets/suspenseWork.html.556b0edf.js"><link rel="prefetch" href="/notes/assets/hooksCommon.html.379b077c.js"><link rel="prefetch" href="/notes/assets/hooksOther.html.22aa738b.js"><link rel="prefetch" href="/notes/assets/start.html.7311ac86.js"><link rel="prefetch" href="/notes/assets/useEffect.html.6574b772.js"><link rel="prefetch" href="/notes/assets/useState.html.cbcfa61c.js"><link rel="prefetch" href="/notes/assets/base.html.25bf7666.js"><link rel="prefetch" href="/notes/assets/commpontDiff.html.a1e53d65.js"><link rel="prefetch" href="/notes/assets/componentUpdate.html.644e4b07.js"><link rel="prefetch" href="/notes/assets/renderProcess.html.2666f6c0.js"><link rel="prefetch" href="/notes/assets/schedulingPrinciple.html.ccbcd29b.js"><link rel="prefetch" href="/notes/assets/beginWork.html.655d69f7.js"><link rel="prefetch" href="/notes/assets/globalVariable.html.31502402.js"><link rel="prefetch" href="/notes/assets/mountIndeterminateComponent.html.04a5f30e.js"><link rel="prefetch" href="/notes/assets/mountLazyCompont.html.2fe93bfc.js"><link rel="prefetch" href="/notes/assets/performUnitOfWork.html.ace3ee26.js"><link rel="prefetch" href="/notes/assets/performWork.html.2497511d.js"><link rel="prefetch" href="/notes/assets/reactScheduler.html.d0ac2d54.js"><link rel="prefetch" href="/notes/assets/reconcileChildren.html.3c846629.js"><link rel="prefetch" href="/notes/assets/reconcileChildrenArray.html.97182f29.js"><link rel="prefetch" href="/notes/assets/reconcileSingleElement.html.bfa84cf2.js"><link rel="prefetch" href="/notes/assets/renderRoot.html.ba5288e4.js"><link rel="prefetch" href="/notes/assets/scheduleWork.html.c90062e5.js"><link rel="prefetch" href="/notes/assets/throwException.html.c51288e7.js"><link rel="prefetch" href="/notes/assets/updateClassComponent.html.7cc962b4.js"><link rel="prefetch" href="/notes/assets/updateContextConsumer.html.403bc04b.js"><link rel="prefetch" href="/notes/assets/updateContextProvider.html.b19839fa.js"><link rel="prefetch" href="/notes/assets/updateForwardRef.html.0b6c16ba.js"><link rel="prefetch" href="/notes/assets/updateFragment.html.3be4ca6a.js"><link rel="prefetch" href="/notes/assets/updateFunctionalComponent.html.63214472.js"><link rel="prefetch" href="/notes/assets/updateHostComponent.html.855bd285.js"><link rel="prefetch" href="/notes/assets/updateHostRoot.html.a008bdc7.js"><link rel="prefetch" href="/notes/assets/updateHostText.html.778f20ec.js"><link rel="prefetch" href="/notes/assets/updateMode.html.72e7cae7.js"><link rel="prefetch" href="/notes/assets/updatePortalComponent.html.ee67a0b1.js"><link rel="prefetch" href="/notes/assets/updateProfiler.html.eb313acf.js"><link rel="prefetch" href="/notes/assets/updateSuspenseComponent.html.ac4368be.js"><link rel="prefetch" href="/notes/assets/interview1.html.233c8a55.js"><link rel="prefetch" href="/notes/assets/interview2.html.ad211fb1.js"><link rel="prefetch" href="/notes/assets/interview3.html.ff6c200b.js"><link rel="prefetch" href="/notes/assets/interview51.html.332896a2.js"><link rel="prefetch" href="/notes/assets/interview52.html.c9e9a740.js"><link rel="prefetch" href="/notes/assets/interview53.html.bb2200fc.js"><link rel="prefetch" href="/notes/assets/interview54.html.31c68b7d.js"><link rel="prefetch" href="/notes/assets/interview55.html.9de26700.js"><link rel="prefetch" href="/notes/assets/interview56.html.f54f5c68.js"><link rel="prefetch" href="/notes/assets/interview57.html.e990ca13.js"><link rel="prefetch" href="/notes/assets/interview1.html.fec6abfb.js"><link rel="prefetch" href="/notes/assets/interview10.html.cc9cc0ff.js"><link rel="prefetch" href="/notes/assets/interview11.html.c9c43373.js"><link rel="prefetch" href="/notes/assets/interview12.html.3c7c219b.js"><link rel="prefetch" href="/notes/assets/interview13.html.df11d69d.js"><link rel="prefetch" href="/notes/assets/interview14.html.064ab175.js"><link rel="prefetch" href="/notes/assets/interview15.html.aaaf13f8.js"><link rel="prefetch" href="/notes/assets/interview16.html.b917ebad.js"><link rel="prefetch" href="/notes/assets/interview17.html.89fe2b4e.js"><link rel="prefetch" href="/notes/assets/interview18.html.5945983b.js"><link rel="prefetch" href="/notes/assets/interview19.html.af91505c.js"><link rel="prefetch" href="/notes/assets/interview2.html.7eba2145.js"><link rel="prefetch" href="/notes/assets/interview20.html.bbc39973.js"><link rel="prefetch" href="/notes/assets/interview21.html.3135e99c.js"><link rel="prefetch" href="/notes/assets/interview22.html.517fb777.js"><link rel="prefetch" href="/notes/assets/interview23.html.e85e7c30.js"><link rel="prefetch" href="/notes/assets/interview24.html.2ec0e247.js"><link rel="prefetch" href="/notes/assets/interview25.html.896a5d9e.js"><link rel="prefetch" href="/notes/assets/interview26.html.c9099ff6.js"><link rel="prefetch" href="/notes/assets/interview27.html.e0d813df.js"><link rel="prefetch" href="/notes/assets/interview28.html.98ae23f7.js"><link rel="prefetch" href="/notes/assets/interview29.html.bfc17d61.js"><link rel="prefetch" href="/notes/assets/interview3.html.123f8330.js"><link rel="prefetch" href="/notes/assets/interview30.html.556a950e.js"><link rel="prefetch" href="/notes/assets/interview31.html.03ba5989.js"><link rel="prefetch" href="/notes/assets/interview32.html.8ac251f8.js"><link rel="prefetch" href="/notes/assets/interview33.html.ebc204c1.js"><link rel="prefetch" href="/notes/assets/interview34.html.0e51800a.js"><link rel="prefetch" href="/notes/assets/interview35.html.f6e32ab4.js"><link rel="prefetch" href="/notes/assets/interview36.html.18a99299.js"><link rel="prefetch" href="/notes/assets/interview37.html.be5f0d27.js"><link rel="prefetch" href="/notes/assets/interview38.html.d77a4503.js"><link rel="prefetch" href="/notes/assets/interview39.html.ddc70590.js"><link rel="prefetch" href="/notes/assets/interview4.html.22d72ffa.js"><link rel="prefetch" href="/notes/assets/interview40.html.5f53c675.js"><link rel="prefetch" href="/notes/assets/interview41.html.6cb0baa4.js"><link rel="prefetch" href="/notes/assets/interview42.html.801d18f8.js"><link rel="prefetch" href="/notes/assets/interview43.html.0a26e65b.js"><link rel="prefetch" href="/notes/assets/interview44.html.4f99e5a6.js"><link rel="prefetch" href="/notes/assets/interview45.html.7eabfa3e.js"><link rel="prefetch" href="/notes/assets/interview46.html.e625d4a6.js"><link rel="prefetch" href="/notes/assets/interview47.html.496b56ef.js"><link rel="prefetch" href="/notes/assets/interview48.html.62ce9ca7.js"><link rel="prefetch" href="/notes/assets/interview49.html.c8a9b27d.js"><link rel="prefetch" href="/notes/assets/interview5.html.e5b8b894.js"><link rel="prefetch" href="/notes/assets/interview50.html.192b7d23.js"><link rel="prefetch" href="/notes/assets/interview6.html.64688c44.js"><link rel="prefetch" href="/notes/assets/interview7.html.20d70ae4.js"><link rel="prefetch" href="/notes/assets/interview8.html.b2cfde5b.js"><link rel="prefetch" href="/notes/assets/interview9.html.05d43054.js"><link rel="prefetch" href="/notes/assets/404.html.a80f367c.js"><link rel="prefetch" href="/notes/assets/404.cd38f2df.js"><link rel="prefetch" href="/notes/assets/Layout.f13adff3.js">
    <link rel="stylesheet" href="/notes/assets/style.d23a4eb9.css">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><!--[--><header class="navbar"><div class="toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a href="/notes/" class=""><!----><!----></a></span><div class="navbar-items-wrapper" style=""><!--[--><!--]--><!----><!--[--><!--]--><button class="toggle-color-mode-button" title="toggle color mode"><svg style="" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg style="display:none;" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><!----></div></header><!--]--><div class="sidebar-mask"></div><!--[--><aside class="sidebar"><!----><!--[--><!--]--><ul class="sidebar-items"><!--[--><li><p tabindex="0" class="sidebar-item sidebar-heading">Introduction <!----></p><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/notes/rollup/introduction.html#overview" class="router-link-active router-link-exact-active sidebar-item" aria-label="Overview"><!--[--><!--]--> Overview <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/notes/rollup/introduction.html#installation" class="router-link-active router-link-exact-active sidebar-item" aria-label="Installation"><!--[--><!--]--> Installation <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/notes/rollup/introduction.html#quick-start" class="router-link-active router-link-exact-active sidebar-item" aria-label="Quick start"><!--[--><!--]--> Quick start <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/notes/rollup/introduction.html#产生原因" class="router-link-active router-link-exact-active sidebar-item" aria-label="产生原因"><!--[--><!--]--> 产生原因 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/notes/rollup/introduction.html#tree-shaking" class="router-link-active router-link-exact-active sidebar-item" aria-label="Tree-Shaking"><!--[--><!--]--> Tree-Shaking <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/notes/rollup/introduction.html#compatibility" class="router-link-active router-link-exact-active sidebar-item" aria-label="Compatibility"><!--[--><!--]--> Compatibility <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/notes/rollup/introduction.html#command-line-interface" class="router-link-active router-link-exact-active sidebar-item" aria-label="Command Line Interface"><!--[--><!--]--> Command Line Interface <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/notes/rollup/introduction.html#configuration-files" class="router-link-active router-link-exact-active sidebar-item" aria-label="Configuration Files"><!--[--><!--]--> Configuration Files <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/notes/rollup/introduction.html#config-intellisense" class="router-link-active router-link-exact-active sidebar-item" aria-label="Config Intellisense"><!--[--><!--]--> Config Intellisense <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/notes/rollup/introduction.html#differences-to-the-javascript-api" class="router-link-active router-link-exact-active sidebar-item" aria-label="Differences to the JavaScript API"><!--[--><!--]--> Differences to the JavaScript API <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/notes/rollup/introduction.html#loading-a-configuration-from-a-node-package" class="router-link-active router-link-exact-active sidebar-item" aria-label="Loading a configuration from a Node package"><!--[--><!--]--> Loading a configuration from a Node package <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/notes/rollup/introduction.html#using-untranspiled-config-files" class="router-link-active router-link-exact-active sidebar-item" aria-label="Using untranspiled config files"><!--[--><!--]--> Using untranspiled config files <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/notes/rollup/introduction.html#command-line-flags" class="router-link-active router-link-exact-active sidebar-item" aria-label="Command line flags"><!--[--><!--]--> Command line flags <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/notes/rollup/introduction.html#reading-a-file-from-stdin" class="router-link-active router-link-exact-active sidebar-item" aria-label="Reading a file from stdin"><!--[--><!--]--> Reading a file from stdin <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/notes/rollup/introduction.html#javascript-api" class="router-link-active router-link-exact-active sidebar-item" aria-label="JavaScript API"><!--[--><!--]--> JavaScript API <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/notes/rollup/introduction.html#rollup-rollup" class="router-link-active router-link-exact-active sidebar-item" aria-label="rollup.rollup"><!--[--><!--]--> rollup.rollup <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/notes/rollup/introduction.html#rollup-watch" class="router-link-active router-link-exact-active sidebar-item" aria-label="rollup.watch"><!--[--><!--]--> rollup.watch <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/notes/rollup/introduction.html#es-module-syntax" class="router-link-active router-link-exact-active sidebar-item" aria-label="ES Module Syntax"><!--[--><!--]--> ES Module Syntax <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/notes/rollup/introduction.html#importing" class="router-link-active router-link-exact-active sidebar-item" aria-label="Importing"><!--[--><!--]--> Importing <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/notes/rollup/introduction.html#exporting" class="router-link-active router-link-exact-active sidebar-item" aria-label="Exporting"><!--[--><!--]--> Exporting <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/notes/rollup/introduction.html#how-bindings-work" class="router-link-active router-link-exact-active sidebar-item" aria-label="How bindings work"><!--[--><!--]--> How bindings work <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/notes/rollup/introduction.html#tutorial" class="router-link-active router-link-exact-active sidebar-item" aria-label="Tutorial"><!--[--><!--]--> Tutorial <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/notes/rollup/introduction.html#creating-your-first-bundle" class="router-link-active router-link-exact-active sidebar-item" aria-label="Creating Your First Bundle"><!--[--><!--]--> Creating Your First Bundle <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/notes/rollup/introduction.html#using-config-files" class="router-link-active router-link-exact-active sidebar-item" aria-label="Using Config Files"><!--[--><!--]--> Using Config Files <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/notes/rollup/introduction.html#installing-rollup-locally" class="router-link-active router-link-exact-active sidebar-item" aria-label="Installing Rollup locally"><!--[--><!--]--> Installing Rollup locally <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/notes/rollup/introduction.html#using-plugins" class="router-link-active router-link-exact-active sidebar-item" aria-label="Using plugins"><!--[--><!--]--> Using plugins <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/notes/rollup/introduction.html#using-output-plugins" class="router-link-active router-link-exact-active sidebar-item" aria-label="Using output plugins"><!--[--><!--]--> Using output plugins <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/notes/rollup/introduction.html#code-splitting" class="router-link-active router-link-exact-active sidebar-item" aria-label="Code Splitting"><!--[--><!--]--> Code Splitting <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/notes/rollup/introduction.html#plugin-development" class="router-link-active router-link-exact-active sidebar-item" aria-label="Plugin Development"><!--[--><!--]--> Plugin Development <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/notes/rollup/introduction.html#plugins-overview" class="router-link-active router-link-exact-active sidebar-item" aria-label="Plugins Overview"><!--[--><!--]--> Plugins Overview <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/notes/rollup/introduction.html#a-simple-example" class="router-link-active router-link-exact-active sidebar-item" aria-label="A Simple Example"><!--[--><!--]--> A Simple Example <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/notes/rollup/introduction.html#conventions" class="router-link-active router-link-exact-active sidebar-item" aria-label="Conventions"><!--[--><!--]--> Conventions <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/notes/rollup/introduction.html#properties" class="router-link-active router-link-exact-active sidebar-item" aria-label="Properties"><!--[--><!--]--> Properties <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/notes/rollup/introduction.html#build-hooks" class="router-link-active router-link-exact-active sidebar-item" aria-label="Build Hooks"><!--[--><!--]--> Build Hooks <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/notes/rollup/introduction.html#output-generation-hooks" class="router-link-active router-link-exact-active sidebar-item" aria-label="Output Generation Hooks"><!--[--><!--]--> Output Generation Hooks <!--[--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><!--]--><div><h1 id="introduction" tabindex="-1"><a class="header-anchor" href="#introduction" aria-hidden="true">#</a> Introduction</h1><h2 id="overview" tabindex="-1"><a class="header-anchor" href="#overview" aria-hidden="true">#</a> Overview</h2><p>Rollup 是一个用于 JavaScript 的模块打包器，它将小段代码编译成更大更复杂的东西，比如库或应用程序。它对包含在 JavaScript 的 ES6 修订版中的代码模块使用新的标准化格式，而不是以前的特殊解决方案，例如 CommonJS 和 AMD。 ES 模块让您可以自由无缝地组合您最喜欢的库中最有用的单个功能。这最终在任何地方都可以实现，但是 Rollup 让你今天就可以做到。</p><h2 id="installation" tabindex="-1"><a class="header-anchor" href="#installation" aria-hidden="true">#</a> Installation</h2><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">npm</span> <span class="token function">install</span> --global rollup
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>这将使 Rollup 可用作全局命令行工具。您也可以在本地安装，请参阅在<a href="https://rollupjs.org/guide/en/#installing-rollup-locally" target="_blank" rel="noopener noreferrer">本地安装 Rollup<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>。</p><h2 id="quick-start" tabindex="-1"><a class="header-anchor" href="#quick-start" aria-hidden="true">#</a> Quick start</h2><p>可以通过带有可选配置文件的<a href="https://rollupjs.org/guide/en/#command-line-reference" target="_blank" rel="noopener noreferrer">命令行界面<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>或通过其 <a href="https://rollupjs.org/guide/en/#javascript-api" target="_blank" rel="noopener noreferrer">JavaScript API<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> 使用 Rollup。运行 rollup --help 以查看可用选项和参数。</p><div class="custom-container danger"><p class="custom-container-title">警告</p><p>请参阅 <a href="https://github.com/rollup/rollup-starter-lib" target="_blank" rel="noopener noreferrer">rollup-starter-lib<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> 和 <a href="https://github.com/rollup/rollup-starter-app" target="_blank" rel="noopener noreferrer">rollup-starter-app<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> 以查看使用 Rollup 的示例库和应用程序项目</p></div><p>这些命令假定应用程序的入口点名为 main.js，并且您希望所有导入都编译到一个名为 bundle.js 的文件中。</p><div><div title="对于浏览器"><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># compile to a &lt;script&gt; containing a self-executing function (&#39;iife&#39;)</span>
rollup main.js --file bundle.js --format iife
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div></div><div title="对于 Node.js："><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># compile to a CommonJS module (&#39;cjs&#39;)</span>
rollup main.js --file bundle.js --format cjs
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div></div><div title="对于浏览器和 Node.js："><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># UMD format requires a bundle name</span>
rollup main.js --file bundle.js --format umd --name <span class="token string">&quot;myBundle&quot;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div></div></div><h3 id="产生原因" tabindex="-1"><a class="header-anchor" href="#产生原因" aria-hidden="true">#</a> 产生原因</h3><p>如果您将项目分成更小的独立部分，开发软件通常会更容易，因为这通常会消除意外的交互并显着降低您需要解决的问题的复杂性，并且首先简单地编写较小的项目不一定是回答。不幸的是，JavaScript 历史上并没有将此功能作为该语言的核心功能。 这最终随着 JavaScript 的 ES6 修订版而改变，其中包括用于导入和导出函数和数据的语法，以便它们可以在不同的脚本之间共享。该规范现已修复，但仅在现代浏览器中实现，并未在 Node.js 中最终确定。 Rollup 允许您使用新的模块系统编写代码，然后将其编译回现有支持的格式，例如 CommonJS 模块、AMD 模块和 IIFE 风格的脚本。这意味着您可以编写面向未来的代码，并且您还可以获得……的巨大好处。</p><h3 id="tree-shaking" tabindex="-1"><a class="header-anchor" href="#tree-shaking" aria-hidden="true">#</a> Tree-Shaking</h3><p>除了启用 ES 模块的使用外，Rollup 还会静态分析您正在导入的代码，并将排除任何实际未使用的代码。这使您可以在现有工具和模块的基础上进行构建，而无需添加额外的依赖项或增加项目的大小。</p><p>例如，对于 CommonJS，必须导入整个工具或库。</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// import the entire utils object with CommonJS</span>
<span class="token keyword">const</span> utils <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;./utils&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> query <span class="token operator">=</span> <span class="token string">&#39;Rollup&#39;</span><span class="token punctuation">;</span>
<span class="token comment">// use the ajax method of the utils object</span>
utils<span class="token punctuation">.</span><span class="token function">ajax</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">https://api.example.com?search=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>query<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>handleResponse<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>使用 ES 模块，我们可以只导入我们需要的一个 ajax 函数，而不是导入整个 utils 对象：</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// import the ajax function with an ES6 import statement</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> ajax <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;./utils&#39;</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> query <span class="token operator">=</span> <span class="token string">&#39;Rollup&#39;</span><span class="token punctuation">;</span>
<span class="token comment">// call the ajax function</span>
<span class="token function">ajax</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">https://api.example.com?search=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>query<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>handleResponse<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>因为 Rollup 包括最低限度，所以它产生更轻、更快、更简单的库和应用程序。由于这种方法可以使用显式导入和导出语句，因此它比简单地运行自动缩小器来检测编译输出代码中未使用的变量更有效。</p><h3 id="compatibility" tabindex="-1"><a class="header-anchor" href="#compatibility" aria-hidden="true">#</a> Compatibility</h3><h4 id="导入-commonjs" tabindex="-1"><a class="header-anchor" href="#导入-commonjs" aria-hidden="true">#</a> 导入 CommonJS</h4><p>Rollup 可以通过<a href="https://github.com/rollup/plugins/tree/master/packages/commonjs" target="_blank" rel="noopener noreferrer">插件导入<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>现有的 CommonJS 模块。</p><h4 id="发布-es-模块" tabindex="-1"><a class="header-anchor" href="#发布-es-模块" aria-hidden="true">#</a> 发布 ES 模块</h4><p>为了确保您的 ES 模块可以立即被与 CommonJS 一起使用的工具（例如 Node.js 和 webpack）使用，您可以使用 Rollup 编译为 UMD 或 CommonJS 格式，然后使用包中的 main 属性指向该编译版本。 .json 文件。如果你的 package.json 文件也有 module 字段，ES-module-aware 工具如 Rollup 和 <a href="https://webpack.js.org/" target="_blank" rel="noopener noreferrer">webpack 2+<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> 将直接<a href="https://github.com/rollup/rollup/wiki/pkg.module" target="_blank" rel="noopener noreferrer">导入 ES 模块版本<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>。</p><h2 id="command-line-interface" tabindex="-1"><a class="header-anchor" href="#command-line-interface" aria-hidden="true">#</a> Command Line Interface</h2><p>通常应从命令行使用RollUp。您可以提供一个可选的 Rollup 配置文件来简化命令行使用并启用高级 Rollup 功能。</p><h3 id="configuration-files" tabindex="-1"><a class="header-anchor" href="#configuration-files" aria-hidden="true">#</a> Configuration Files</h3><p>Rollup 配置文件是可选的，但它们功能强大且方便，因此推荐使用。配置文件是一个 ES 模块，它导出具有所需选项的默认对象：</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">input</span><span class="token operator">:</span> <span class="token string">&#39;src/main.js&#39;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">output</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">file</span><span class="token operator">:</span> <span class="token string">&#39;bundle.js&#39;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">format</span><span class="token operator">:</span> <span class="token string">&#39;cjs&#39;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>通常，它称为 rollup.config.js 并位于项目的根目录中。在幕后，Rollup 通常会在需要之前将此文件及其相关依赖项转换并捆绑到 CommonJS。这样做的好处是您可以与 ES 模块代码库共享代码，同时与 Node 生态系统具有完全的互操作性。</p><p>如果要使用Require和Module.Exports将Config写为CommonJS模块，则应将文件扩展名更改为.cjs，这将阻止RollUp尝试转换该文件。此外，如果您在节点13+上，将文件扩展名更改为.mjs还将阻止RollUp从转介IT转移，但将文件导入ES模块。有关更多详细信息，请参阅<a href="https://rollupjs.org/guide/en/#using-untranspiled-config-files" target="_blank" rel="noopener noreferrer">使用未转换的配置文件<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>以及为什么您可能想要执行此操作。</p><p>您还可以使用其他语言进行配置文件，如类型键。要执行此操作，请安装相应的rollup插件，如@ rollup / plugin-typescript，并使用<a href="https://rollupjs.org/guide/en/#--configplugin-plugin" target="_blank" rel="noopener noreferrer">--configplugin<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>选项：</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>rollup --config rollup.config.ts --configPlugin typescript
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>另外看看<a href="https://rollupjs.org/guide/en/#config-intellisense" target="_blank" rel="noopener noreferrer">Config IntelliSense<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>以获取更多方法，以便在CONFIG文件中使用Typescript键入。</p><p>配置文件支持下面列出的选项。有关每个选项的详细信息，请咨询<a href="https://rollupjs.org/guide/en/#big-list-of-options" target="_blank" rel="noopener noreferrer">大型选项列表<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>：</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// rollup.config.js</span>

<span class="token comment">// can be an array (for multiple inputs)</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token comment">// core input options</span>
  external<span class="token punctuation">,</span>
  input<span class="token punctuation">,</span> <span class="token comment">// conditionally required</span>
  plugins<span class="token punctuation">,</span>

  <span class="token comment">// advanced input options</span>
  cache<span class="token punctuation">,</span>
  onwarn<span class="token punctuation">,</span>
  preserveEntrySignatures<span class="token punctuation">,</span>
  strictDeprecations<span class="token punctuation">,</span>

  <span class="token comment">// danger zone</span>
  acorn<span class="token punctuation">,</span>
  acornInjectPlugins<span class="token punctuation">,</span>
  context<span class="token punctuation">,</span>
  moduleContext<span class="token punctuation">,</span>
  preserveSymlinks<span class="token punctuation">,</span>
  shimMissingExports<span class="token punctuation">,</span>
  treeshake<span class="token punctuation">,</span>

  <span class="token comment">// experimental</span>
  experimentalCacheExpiry<span class="token punctuation">,</span>
  perf<span class="token punctuation">,</span>

  <span class="token comment">// required (can be an array, for multiple outputs)</span>
  <span class="token literal-property property">output</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// core output options</span>
    dir<span class="token punctuation">,</span>
    file<span class="token punctuation">,</span>
    format<span class="token punctuation">,</span> <span class="token comment">// required</span>
    globals<span class="token punctuation">,</span>
    name<span class="token punctuation">,</span>
    plugins<span class="token punctuation">,</span>

    <span class="token comment">// advanced output options</span>
    assetFileNames<span class="token punctuation">,</span>
    banner<span class="token punctuation">,</span>
    chunkFileNames<span class="token punctuation">,</span>
    compact<span class="token punctuation">,</span>
    entryFileNames<span class="token punctuation">,</span>
    extend<span class="token punctuation">,</span>
    footer<span class="token punctuation">,</span>
    hoistTransitiveImports<span class="token punctuation">,</span>
    inlineDynamicImports<span class="token punctuation">,</span>
    interop<span class="token punctuation">,</span>
    intro<span class="token punctuation">,</span>
    manualChunks<span class="token punctuation">,</span>
    minifyInternalExports<span class="token punctuation">,</span>
    outro<span class="token punctuation">,</span>
    paths<span class="token punctuation">,</span>
    preserveModules<span class="token punctuation">,</span>
    preserveModulesRoot<span class="token punctuation">,</span>
    sourcemap<span class="token punctuation">,</span>
    sourcemapExcludeSources<span class="token punctuation">,</span>
    sourcemapFile<span class="token punctuation">,</span>
    sourcemapPathTransform<span class="token punctuation">,</span>
    validate<span class="token punctuation">,</span>

    <span class="token comment">// danger zone</span>
    amd<span class="token punctuation">,</span>
    esModule<span class="token punctuation">,</span>
    exports<span class="token punctuation">,</span>
    externalLiveBindings<span class="token punctuation">,</span>
    freeze<span class="token punctuation">,</span>
    indent<span class="token punctuation">,</span>
    namespaceToStringTag<span class="token punctuation">,</span>
    noConflict<span class="token punctuation">,</span>
    preferConst<span class="token punctuation">,</span>
    sanitizeFileName<span class="token punctuation">,</span>
    strict<span class="token punctuation">,</span>
    systemNullSetters
  <span class="token punctuation">}</span><span class="token punctuation">,</span>

  <span class="token literal-property property">watch</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    buildDelay<span class="token punctuation">,</span>
    chokidar<span class="token punctuation">,</span>
    clearScreen<span class="token punctuation">,</span>
    skipWrite<span class="token punctuation">,</span>
    exclude<span class="token punctuation">,</span>
    include
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>您可以从配置文件中导出数组，即使在Watch模式下，即使在Watch模式下也可以将数组从多个不相关的输入中构建捆绑包。要使用相同的输入构建不同的捆绑包，可以为每个输入提供一系列输出选项：</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// rollup.config.js (building more than one bundle)</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token literal-property property">input</span><span class="token operator">:</span> <span class="token string">&#39;main-a.js&#39;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">output</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">file</span><span class="token operator">:</span> <span class="token string">&#39;dist/bundle-a.js&#39;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">format</span><span class="token operator">:</span> <span class="token string">&#39;cjs&#39;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    <span class="token literal-property property">input</span><span class="token operator">:</span> <span class="token string">&#39;main-b.js&#39;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">output</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">file</span><span class="token operator">:</span> <span class="token string">&#39;dist/bundle-b1.js&#39;</span><span class="token punctuation">,</span>
        <span class="token literal-property property">format</span><span class="token operator">:</span> <span class="token string">&#39;cjs&#39;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">file</span><span class="token operator">:</span> <span class="token string">&#39;dist/bundle-b2.js&#39;</span><span class="token punctuation">,</span>
        <span class="token literal-property property">format</span><span class="token operator">:</span> <span class="token string">&#39;es&#39;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>如果要异步地创建配置，Rollup还可以处理解析为对象或数组的承诺。</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// rollup.config.js</span>
<span class="token keyword">import</span> fetch <span class="token keyword">from</span> <span class="token string">&#39;node-fetch&#39;</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">fetch</span><span class="token punctuation">(</span><span class="token string">&#39;/some-remote-service-or-file-which-returns-actual-config&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>同样，您也可以执行以下操作：</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// rollup.config.js (Promise resolving an array)</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> Promise<span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token function">fetch</span><span class="token punctuation">(</span><span class="token string">&#39;get-config-1&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">fetch</span><span class="token punctuation">(</span><span class="token string">&#39;get-config-2&#39;</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>要使用配置文件RollUp，请传递--config或-c标志：</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># pass a custom config file location to Rollup</span>
rollup --config my.config.js

<span class="token comment"># if you do not pass a file name, Rollup will try to load</span>
<span class="token comment"># configuration files in the following order:</span>
<span class="token comment"># rollup.config.mjs -&gt; rollup.config.cjs -&gt; rollup.config.js</span>
rollup --config
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>您还可以导出返回任何上述配置格式的函数。此函数将传递当前命令行参数，以便您可以动态地调整配置以尊重例如。 <a href="https://rollupjs.org/guide/en/#--silent" target="_blank" rel="noopener noreferrer">--silent<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>。如果您使用Config以配置为前缀，您甚至可以定义自己的命令行选项：</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// rollup.config.js</span>
<span class="token keyword">import</span> defaultConfig <span class="token keyword">from</span> <span class="token string">&#39;./rollup.default.config.js&#39;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> debugConfig <span class="token keyword">from</span> <span class="token string">&#39;./rollup.debug.config.js&#39;</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token parameter">commandLineArgs</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>commandLineArgs<span class="token punctuation">.</span>configDebug <span class="token operator">===</span> <span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> debugConfig<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> defaultConfig<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>如果您现在运行<code>rollup --config --configdebug</code>，则将使用调试配置。</p><p>默认情况下，命令行参数将始终覆盖从配置文件导出的各个值。如果要更改此行为，则可以通过从<code>commandlineargs</code>对象删除它们来使rollup忽略命令行参数：</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// rollup.config.js</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token parameter">commandLineArgs</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> inputBase <span class="token operator">=</span> commandLineArgs<span class="token punctuation">.</span>input <span class="token operator">||</span> <span class="token string">&#39;main.js&#39;</span><span class="token punctuation">;</span>

  <span class="token comment">// this will make Rollup ignore the CLI argument</span>
  <span class="token keyword">delete</span> commandLineArgs<span class="token punctuation">.</span>input<span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">input</span><span class="token operator">:</span> <span class="token string">&#39;src/entries/&#39;</span> <span class="token operator">+</span> inputBase<span class="token punctuation">,</span>
    <span class="token literal-property property">output</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token operator">...</span><span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="config-intellisense" tabindex="-1"><a class="header-anchor" href="#config-intellisense" aria-hidden="true">#</a> Config Intellisense</h3><p>由于Rollup带有TypeScript的类型，你可以利用IDE的Intellisense与JSDoc类型提示。</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// rollup.config.js</span>
<span class="token doc-comment comment">/**
 * <span class="token keyword">@type</span> <span class="token class-name"><span class="token punctuation">{</span><span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">&#39;rollup&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>RollupOptions<span class="token punctuation">}</span></span>
 */</span>
<span class="token keyword">const</span> config <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> config<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>或者，你可以使用<code>defineConfig</code>助手，它应该提供Intellisense而不需要JSDoc注释。</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// rollup.config.js</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> defineConfig <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;rollup&#39;</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineConfig</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>除了<code>RollupOptions</code>和封装这种类型的<code>defineConfig</code>帮助器，以下类型也可以证明是有用的。</p><ul><li><p><code>OutputOptions</code>: 配置文件的输出部分</p></li><li><p><code>Plugin</code>: 一个插件对象，它提供了一个名称和一些钩子。所有的钩子都是完全类型化的，以帮助插件的开发。</p></li><li><p><code>pluginimpl</code>：将选项对象映射到插件对象的函数。大多数公共rollup插件遵循此模式。</p></li></ul><p>您还可以通过<a href="https://rollupjs.org/guide/en/#--configplugin-plugin" target="_blank" rel="noopener noreferrer">--configplugin<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>选项直接在键入版中编写CONFIC。</p><h3 id="differences-to-the-javascript-api" tabindex="-1"><a class="header-anchor" href="#differences-to-the-javascript-api" aria-hidden="true">#</a> Differences to the JavaScript API</h3><p>虽然配置文件提供了一种配置RollUp的简单方法，但它们还会限制如何调用和配置RollUp。特别是如果您将RollUp到另一个构建工具或想要将其集成到高级构建过程中，则可以更好地从脚本上编程地调用RollUp。</p><p>如果要从配置文件切换到在某些时候使用<a href="https://rollupjs.org/guide/en/#javascript-api" target="_blank" rel="noopener noreferrer">JavaScript API<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>，则会有一些重要的差异：</p><ul><li><p>使用JavaScript API时，将传递给Rollup.rollup必须是一个对象，不能以承诺或函数包裹。</p></li><li><p>您无法再使用一系列配置。相反，您应该为每组<code>InputOptions</code>运行Rollup.rollup.rollup。</p></li><li><p>输出选项将被忽略。相反，对于每组输出选项，您应该运行<code>bundle.generate(outputOptions)</code>或<code>bundle.write(outputOptions)</code>。</p></li></ul><h3 id="loading-a-configuration-from-a-node-package" tabindex="-1"><a class="header-anchor" href="#loading-a-configuration-from-a-node-package" aria-hidden="true">#</a> Loading a configuration from a Node package</h3><p>对于互操作性，Rollup还支持从安装到<code>node_modules</code>的包中加载配置文件：</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># this will first try to load the package &quot;rollup-config-my-special-config&quot;;</span>
<span class="token comment"># if that fails, it will then try to load &quot;my-special-config&quot;</span>
rollup --config node:my-special-config
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="using-untranspiled-config-files" tabindex="-1"><a class="header-anchor" href="#using-untranspiled-config-files" aria-hidden="true">#</a> Using untranspiled config files</h3><p>默认情况下，Rollup将期望配置文件是eS模块，并将其发送并转换为它们，并在要求它们之前向CommonJS进行传输。这是一个快速的过程，并且具有易于在配置和ES模块代码库之间共享代码的优点。如果要将配置写入CommonJs，则可以使用<code>.cjs</code>扩展名来跳过此过程：</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// rollup.config.cjs</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">input</span><span class="token operator">:</span> <span class="token string">&#39;src/main.js&#39;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">output</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">file</span><span class="token operator">:</span> <span class="token string">&#39;bundle.js&#39;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">format</span><span class="token operator">:</span> <span class="token string">&#39;cjs&#39;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>如果您想不仅从命令行使用CONFIC文件，而且可以从以编程方式从您的自定义脚本使用，但可能是相关的。</p><p>另一方面，如果你至少使用Node 13并且在<code>package.json</code>文件中有 <code>&quot;type&quot;</code>: <code>&quot;模块&quot;</code>，Rollup的转译会阻止你的配置文件导入本身是ES模块的包。在这种情况下，将你的文件扩展名改为.mjs将指示Rollup将你的配置直接作为ES模块导入。然而，请注意，这是专门针对Node 13+的；在更早的Node版本中，<code>.mjs</code>的处理方式与<code>.js</code>相同。</p><p>在**Node 13+**上使用<code>.mjs</code>时，有一些潜在的麻烦。</p><ul><li><p>您只能从CommonJS插件获取默认导出</p></li><li><p>你可能无法导入JSON文件，如你的package.json文件。有两种方法可以解决这个问题。</p><ul><li>通过以下方式运行Rollup CLI</li></ul><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">node</span> --experimental-json-modules ./node_modules/.bin/rollup --config
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li>创建一个需要JSON文件的CommonJS包装器：</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// load-package.cjs</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;./package.json&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// rollup.config.mjs</span>
<span class="token keyword">import</span> pkg <span class="token keyword">from</span> <span class="token string">&#39;./load-package.cjs&#39;</span><span class="token punctuation">;</span>
<span class="token operator">...</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><h3 id="command-line-flags" tabindex="-1"><a class="header-anchor" href="#command-line-flags" aria-hidden="true">#</a> Command line flags</h3><p>许多选项都有对应的命令行。在这些情况下，如果你使用的是配置文件，那么这里传递的任何参数都将覆盖配置文件的内容。这是一个所有支持的选项的列表。</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>-c, --config &lt;filename&gt; 使用这个配置文件（如果参数被使用，但值没有指定
未指定，默认为rollup.config.js)
-d, --dir &lt;dirname&gt; 块的目录（如果没有，打印到stdout）。
-e, --external &lt;ids&gt; 逗号分隔的要排除的模块ID列表
-f, --format &lt;format&gt; 输出的类型(amd, cjs, es, iife, umd, system)
-g, --globals &lt;pairs&gt; 逗号分隔的 &quot;moduleID:Global &quot;配对列表
-h, --help 显示此帮助信息
-i, --input &lt;filename&gt; 输入（替代&lt;entry file&gt;）。
-m, --sourcemap 生成源码图（`-m inline`表示内联图
-n, --name &lt;名称&gt; 用于UMD输出的名称
-o, --file &lt;output&gt;单个输出文件（如果没有，则打印到stdout）。
-p, --plugin &lt;plugin&gt; 使用指定的插件（可以重复）。
-v, --version 显示版本号
-w, --watch 观察软件包中的文件，并在发生变化时重新构建
--amd.id &lt;id&gt; AMD模块的ID（默认为匿名）。
--amd.autoId 根据块的名称生成AMD的ID
--amd.basePath &lt;prefix&gt; 在自动生成的AMD ID前加上的路径
--amd.define &lt;name&gt; 用来代替`define`的函数。
--assetFileNames &lt;pattern&gt; 排放资产的名称模式
--banner &lt;text&gt; 在bundle顶部插入代码（在wrapper之外）。
--chunkFileNames &lt;pattern&gt; 排放的二级块的名称模式
--compact 缩减包装器代码
--context &lt;variable&gt; 指定顶层的`this`值
--entryFileNames &lt;pattern&gt; 排放的入口块的名称模式
--environment &lt;values&gt; 传递给配置文件的设置（见示例）。
--no-esModule 不添加__esModule属性
--exports &lt;mode&gt; 指定输出模式（自动、默认、命名、无）。
--extend 扩展由 --name 定义的全局变量
--no-externalLiveBindings 不生成支持实时绑定的代码
--failAfterWarnings 如果构建过程中产生了警告，则以错误退出
--footer &lt;text&gt; 在bundle的末尾插入代码（在wrapper之外）。
--no-freeze 不冻结命名空间对象
--no-hoist TransitiveImports 不把横向导入的内容挂到入口块中。
--no-indent 不要缩进结果。
--no-interop 不包括互操作块
--inlineDynamicImports 当使用动态导入时，创建单个捆绑包。
--intro &lt;text&gt; 在bundle的顶部插入代码（在wrapper里面）。
--minifyInternalExports 强制或禁止对内部导出文件进行最小化处理
--namespaceToStringTag 为命名空间创建适当的`.toString`方法
--noConflict 为UMD globals生成一个noConflict方法
--outro &lt;text&gt; 在bundle的末尾插入代码（在wrapper内）。
--preferConst 使用`const`而不是`var`进行输出
--no-preserveEntrySignatures 避免使用入口点的facade chunks。
--preserveModules 保留模块结构
--preserveModulesRoot 将保留的模块放在根级的这个路径下
--preserveSymlinks 在解析文件时不遵循符号链接。
--no-sanitizeFileName 不替换文件名中的无效字符
--shimMissingExports 为丢失的出口创建shim变量。
--silent 不打印警告信息
--sourcemapExcludeSources 不在源码图中包括源代码
--sourcemapFile &lt;file&gt; 为源码地图指定捆绑位置
--stdin=ext 指定用于stdin输入的文件扩展名
--no-stdin 不要从stdin读取&quot;-&quot;。
--no-strict 不要在生成的模块中发出`&quot;use strict&quot;;`。
--strictDeprecations 对已废弃的功能抛出错误
--systemNullSetters 用 &quot;null &quot;替换空的SystemJS设置器。
--no-treeshake 禁用树形抖动优化功能
--no-treeshake.annotations 忽略纯调用注释
--no-treeshake.moduleSideEffects 假设模块没有副作用
--no-treeshake.propertyReadSideEffects 忽略属性访问的副作用
--no-treeshake.tryCatchDeoptimization 不关闭尝试抓取树状结构的功能
--no-treeshake.unknownGlobalSideEffects 假设未知的globals不会抛出
--waitForBundleInput 等待bundle输入文件
--watch.buildDelay &lt;number&gt; 节约手表重建的时间
--no-watch.clearScreen 重建时不清除屏幕
--watch.skipWrite 观察时不写文件到磁盘。
--watch.exclude &lt;files&gt; 排除被监视的文件
--watch.include &lt;files&gt; 限制监视到指定的文件
--validate 验证输出
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>下面列出的标志只能通过命令行界面使用。所有其他标志都对应并覆盖它们的配置文件对应物，详见<a href="https://rollupjs.org/guide/en/#big-list-of-options" target="_blank" rel="noopener noreferrer">选项大列表<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>。</p><h4 id="h-help" tabindex="-1"><a class="header-anchor" href="#h-help" aria-hidden="true">#</a> -h/--help</h4><p>打印帮助文档。</p><h4 id="p-plugin-plugin-plugin" tabindex="-1"><a class="header-anchor" href="#p-plugin-plugin-plugin" aria-hidden="true">#</a> -p (plugin), --plugin (plugin)</h4><p>使用指定的插件。有几种方法可以在此指定插件：</p><ul><li>通过相对路径：</li></ul><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>rollup -i input.js -f es -p ./my-plugin.js
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>该文件应导出返回Plugin对象的函数。</p><ul><li>通过安装在本地或全局<code>Node_Modules</code>文件夹中的插件的名称：</li></ul><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>rollup -i input.js -f es -p @rollup/plugin-node-resolve
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>如果插件名称无法以<code>Rollup-plugin-</code>or <code>@rollup / plugin--</code>，RollUp将自动尝试添加这些前缀：</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>rollup -i input.js -f es -p node-resolve
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li>通过内联实现：</li></ul><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>rollup -i input.js -f es -p <span class="token string">&#39;{transform: (c, i) =&gt; `/* ${JSON.stringify(i)} */\n${c}`}&#39;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>如果要加载多个插件，可以重复该选项或提供逗号分隔的名称列表：</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>rollup -i input.js -f es -p node-resolve -p commonjs,json
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>默认情况下，将调用插件函数，没有参数来创建插件。但是，您也可以传递自定义参数：</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>rollup -i input.js -f es -p <span class="token string">&#39;terser={output: {beautify: true, indent_level: 2}}&#39;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="configplugin-plugin" tabindex="-1"><a class="header-anchor" href="#configplugin-plugin" aria-hidden="true">#</a> --configPlugin (plugin)</h4><p>允许将RollUp插件指定要转换或以其他方式控制配置文件的解析。主要好处是它允许您使用非JavaScript配置文件。例如，以下内容将允许您在输入的类型中编写配置，只要您安装了<code>@rollup/plugin-typescript</code>：</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>rollup --config rollup.config.ts --configPlugin @rollup/plugin-typescript
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>它支持与<a href="https://rollupjs.org/guide/en/#-p-plugin---plugin-plugin" target="_blank" rel="noopener noreferrer">-plugin<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>选项相同的语法i.e.，您可以多次指定选项，可以省略@ rollup / plugin-前缀并只需编写打印键，您可以通过= {...}指定插件选项。</p><h4 id="v-version" tabindex="-1"><a class="header-anchor" href="#v-version" aria-hidden="true">#</a> -v/--version</h4><p>打印安装的版本号。</p><h4 id="w-watch" tabindex="-1"><a class="header-anchor" href="#w-watch" aria-hidden="true">#</a> -w/--watch</h4><p>当其源文件更改磁盘时重建捆绑包。</p><p>注意：在观察模式下，<em><strong>ROLLUP_WATCH</strong></em>环境变量将被Rollup的命令行界面设置为 <em><strong>&quot;true&quot;</strong></em>，并且可以被其他进程检查。插件应该检查<a href="https://rollupjs.org/guide/en/#thismeta-rollupversion-string-watchmode-boolean" target="_blank" rel="noopener noreferrer">this.meta.watchMode<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>，它与命令行界面无关。</p><h4 id="silent" tabindex="-1"><a class="header-anchor" href="#silent" aria-hidden="true">#</a> --silent</h4><p>不要向控制台打印警告。如果你的配置文件包含一个onwarn处理程序，这个处理程序仍然会被调用。要手动防止这种情况，你可以在配置文件中访问命令行选项，如<a href="https://rollupjs.org/guide/en/#configuration-files" target="_blank" rel="noopener noreferrer">配置文件<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>末尾所述。</p><h4 id="failafterwarnings" tabindex="-1"><a class="header-anchor" href="#failafterwarnings" aria-hidden="true">#</a> --failAfterWarnings</h4><p>构建完成后，如果发生任何警告，则以错误退出构建。</p><h4 id="environment-values" tabindex="-1"><a class="header-anchor" href="#environment-values" aria-hidden="true">#</a> --environment (values)</h4><p>通过<code>process.ENV</code>向配置文件传递额外的设置。</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>rollup -c --environment INCLUDE_DEPS,BUILD:production
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>将设置 <code>p<wbr>rocess.env.INCLUDE_DEPS === &#39;true&#39;</code> 和 <code>p<wbr>rocess.env.BUILD === &#39;production&#39;</code>。你可以多次使用这个选项。在这种情况下，随后设置的变量将覆盖之前的定义。这使得你可以在<code>package.json</code>脚本中覆盖环境变量。</p><p>如果您通过以下方式调用此脚本：</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">npm</span> run build -- --environment BUILD:development
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>那么配置文件将收到 <code>p<wbr>rocess.env.INCLUDE_DEPS === &#39;true&#39;</code> 和 <code>p<wbr>rocess.env.BUILD === &#39;development&#39;</code>。</p><h4 id="waitforbundleinput" tabindex="-1"><a class="header-anchor" href="#waitforbundleinput" aria-hidden="true">#</a> --waitForBundleInput</h4><p>如果其中一个入口点文件不可用，它不会抛出一个错误。相反，它将等待，直到所有的文件都存在才开始构建。这很有用，特别是在观察模式下，当Rollup正在消耗另一个进程的输出时。</p><h4 id="stdin-ext" tabindex="-1"><a class="header-anchor" href="#stdin-ext" aria-hidden="true">#</a> --stdin=ext</h4><p>当从stdin读取内容时，指定一个虚拟文件扩展名。默认情况下，Rollup将使用虚拟文件名--对于从stdin读取的内容没有扩展名。然而，一些插件依靠文件扩展名来决定它们是否应该处理一个文件。请参见<a href="https://rollupjs.org/guide/en/#reading-a-file-from-stdin" target="_blank" rel="noopener noreferrer">从stdin读取文件<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>。</p><h4 id="no-stdin" tabindex="-1"><a class="header-anchor" href="#no-stdin" aria-hidden="true">#</a> --no-stdin</h4><p>不要从stdin中读取文件。设置这个标志可以防止向Rollup输送内容，并确保Rollup将-和-.[ext]解释为普通的文件名，而不是将这些解释为stdin的名称。<a href="https://rollupjs.org/guide/en/#reading-a-file-from-stdin" target="_blank" rel="noopener noreferrer">参见从stdin读取文件<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>。</p><h3 id="reading-a-file-from-stdin" tabindex="-1"><a class="header-anchor" href="#reading-a-file-from-stdin" aria-hidden="true">#</a> Reading a file from stdin</h3><p>当使用命令行界面时，Rollup也可以从stdin读取内容。</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token builtin class-name">echo</span> <span class="token string">&quot;export const foo = 42;&quot;</span> <span class="token operator">|</span> rollup --format cjs --file out.js
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>当这个文件包含导入时，Rollup会尝试相对于当前工作目录来解决。当使用配置文件时，Rollup只会使用stdin作为入口点，如果入口点的文件名是-。要从stdin读取一个非入口点文件，只需调用-，这是内部用来引用<code>stdin</code>的文件名。即</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">import</span> foo <span class="token keyword">from</span> <span class="token string">&#39;-&#39;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>在任何文件中都会提示Rollup尝试从stdin中读取导入的文件，并将默认的出口分配给foo。你可以向Rollup传递<a href="https://rollupjs.org/guide/en/#--no-stdin" target="_blank" rel="noopener noreferrer">--no-stdin<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> CLI标志，将--作为一个普通的文件名来处理。</p><p>由于一些插件依靠文件扩展名来处理文件，你可以通过<code>-stdin=ext</code>为stdin指定一个文件扩展名，其中ext是所需的扩展名。在这种情况下，虚拟文件名将是<code>-.ext</code>。</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token builtin class-name">echo</span> <span class="token string">&#39;{&quot;foo&quot;: 42, &quot;bar&quot;: &quot;ok&quot;}&#39;</span> <span class="token operator">|</span> rollup --stdin<span class="token operator">=</span>json -p json
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>JavaScript API会一直把<code>-</code>和<code>-.ext</code>当作普通的文件名。</p><h2 id="javascript-api" tabindex="-1"><a class="header-anchor" href="#javascript-api" aria-hidden="true">#</a> JavaScript API</h2><p>Rollup提供了一个可以从Node.js使用的JavaScript API。你很少需要使用它，而应该使用命令行API，除非你正在扩展Rollup本身或使用它做一些深奥的事情，比如以编程方式生成捆绑包。</p><h3 id="rollup-rollup" tabindex="-1"><a class="header-anchor" href="#rollup-rollup" aria-hidden="true">#</a> rollup.rollup</h3><p><code>rollup.rollup</code>函数接收一个输入选项对象作为参数，并返回一个Promise，该Promise可解析为一个具有各种属性和方法的bundle对象，如下图所示。在这一步骤中，Rollup将构建模块图并执行树形摇动，但不会产生任何输出。</p><p>在一个<code>bundle</code>对象上，你可以用不同的输出选项对象多次调用<code>bundle.generate</code>来在内存中生成不同的bundle。如果你直接想把它们写到磁盘上，请使用<code>bundle.write</code>代替。</p><p>一旦你完成了对bundle对象的处理，你应该调用<code>bundle.close()</code>，这将让插件通过<a href="https://rollupjs.org/guide/en/#closebundle" target="_blank" rel="noopener noreferrer">closeBundle<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>钩子清理其外部进程或服务。</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> rollup <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;rollup&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// see below for details on the options</span>
<span class="token keyword">const</span> inputOptions <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token operator">...</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> outputOptions <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token operator">...</span><span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// create a bundle</span>
  <span class="token keyword">const</span> bundle <span class="token operator">=</span> <span class="token keyword">await</span> rollup<span class="token punctuation">.</span><span class="token function">rollup</span><span class="token punctuation">(</span>inputOptions<span class="token punctuation">)</span><span class="token punctuation">;</span>

  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>bundle<span class="token punctuation">.</span>watchFiles<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// an array of file names this bundle depends on</span>

  <span class="token comment">// generate output specific code in-memory</span>
  <span class="token comment">// you can call this function multiple times on the same bundle object</span>
  <span class="token keyword">const</span> <span class="token punctuation">{</span> output <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">await</span> bundle<span class="token punctuation">.</span><span class="token function">generate</span><span class="token punctuation">(</span>outputOptions<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> chunkOrAsset <span class="token keyword">of</span> output<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>chunkOrAsset<span class="token punctuation">.</span>type <span class="token operator">===</span> <span class="token string">&#39;asset&#39;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// For assets, this contains</span>
      <span class="token comment">// {</span>
      <span class="token comment">//   fileName: string,              // the asset file name</span>
      <span class="token comment">//   source: string | Uint8Array    // the asset source</span>
      <span class="token comment">//   type: &#39;asset&#39;                  // signifies that this is an asset</span>
      <span class="token comment">// }</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;Asset&#39;</span><span class="token punctuation">,</span> chunkOrAsset<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      <span class="token comment">// For chunks, this contains</span>
      <span class="token comment">// {</span>
      <span class="token comment">//   code: string,                  // the generated JS code</span>
      <span class="token comment">//   dynamicImports: string[],      // external modules imported dynamically by the chunk</span>
      <span class="token comment">//   exports: string[],             // exported variable names</span>
      <span class="token comment">//   facadeModuleId: string | null, // the id of a module that this chunk corresponds to</span>
      <span class="token comment">//   fileName: string,              // the chunk file name</span>
      <span class="token comment">//   implicitlyLoadedBefore: string[]; // entries that should only be loaded after this chunk</span>
      <span class="token comment">//   imports: string[],             // external modules imported statically by the chunk</span>
      <span class="token comment">//   importedBindings: {[imported: string]: string[]} // imported bindings per dependency</span>
      <span class="token comment">//   isDynamicEntry: boolean,       // is this chunk a dynamic entry point</span>
      <span class="token comment">//   isEntry: boolean,              // is this chunk a static entry point</span>
      <span class="token comment">//   isImplicitEntry: boolean,      // should this chunk only be loaded after other chunks</span>
      <span class="token comment">//   map: string | null,            // sourcemaps if present</span>
      <span class="token comment">//   modules: {                     // information about the modules in this chunk</span>
      <span class="token comment">//     [id: string]: {</span>
      <span class="token comment">//       renderedExports: string[]; // exported variable names that were included</span>
      <span class="token comment">//       removedExports: string[];  // exported variable names that were removed</span>
      <span class="token comment">//       renderedLength: number;    // the length of the remaining code in this module</span>
      <span class="token comment">//       originalLength: number;    // the original length of the code in this module</span>
      <span class="token comment">//       code: string | null;       // remaining code in this module</span>
      <span class="token comment">//     };</span>
      <span class="token comment">//   },</span>
      <span class="token comment">//   name: string                   // the name of this chunk as used in naming patterns</span>
      <span class="token comment">//   referencedFiles: string[]      // files referenced via i<wbr>mport.meta.ROLLUP_FILE_URL_&lt;id&gt;</span>
      <span class="token comment">//   type: &#39;chunk&#39;,                 // signifies that this is a chunk</span>
      <span class="token comment">// }</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;Chunk&#39;</span><span class="token punctuation">,</span> chunkOrAsset<span class="token punctuation">.</span>modules<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

  <span class="token comment">// or write the bundle to disk</span>
  <span class="token keyword">await</span> bundle<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span>outputOptions<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// closes the bundle</span>
  <span class="token keyword">await</span> bundle<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="inputoptions-object" tabindex="-1"><a class="header-anchor" href="#inputoptions-object" aria-hidden="true">#</a> inputOptions object</h4><p><code>inputOptions</code>对象可以包含以下属性（关于这些属性的完整细节，请参见<a href="https://rollupjs.org/guide/en/#big-list-of-options" target="_blank" rel="noopener noreferrer">选项大列表<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>）。</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> inputOptions <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">// core input options</span>
  external<span class="token punctuation">,</span>
  input<span class="token punctuation">,</span> <span class="token comment">// conditionally required</span>
  plugins<span class="token punctuation">,</span>

  <span class="token comment">// advanced input options</span>
  cache<span class="token punctuation">,</span>
  onwarn<span class="token punctuation">,</span>
  preserveEntrySignatures<span class="token punctuation">,</span>
  strictDeprecations<span class="token punctuation">,</span>

  <span class="token comment">// danger zone</span>
  acorn<span class="token punctuation">,</span>
  acornInjectPlugins<span class="token punctuation">,</span>
  context<span class="token punctuation">,</span>
  moduleContext<span class="token punctuation">,</span>
  preserveSymlinks<span class="token punctuation">,</span>
  shimMissingExports<span class="token punctuation">,</span>
  treeshake<span class="token punctuation">,</span>

  <span class="token comment">// experimental</span>
  experimentalCacheExpiry<span class="token punctuation">,</span>
  perf
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="outputoptions-object" tabindex="-1"><a class="header-anchor" href="#outputoptions-object" aria-hidden="true">#</a> outputOptions object</h4><p><code>outputOptions</code>对象可以包含以下属性（关于这些属性的完整细节，请参见<a href="https://rollupjs.org/guide/en/#big-list-of-options" target="_blank" rel="noopener noreferrer">选项大列表<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>）。</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> outputOptions <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">// core output options</span>
  dir<span class="token punctuation">,</span>
  file<span class="token punctuation">,</span>
  format<span class="token punctuation">,</span> <span class="token comment">// required</span>
  globals<span class="token punctuation">,</span>
  name<span class="token punctuation">,</span>
  plugins<span class="token punctuation">,</span>

  <span class="token comment">// advanced output options</span>
  assetFileNames<span class="token punctuation">,</span>
  banner<span class="token punctuation">,</span>
  chunkFileNames<span class="token punctuation">,</span>
  compact<span class="token punctuation">,</span>
  entryFileNames<span class="token punctuation">,</span>
  extend<span class="token punctuation">,</span>
  externalLiveBindings<span class="token punctuation">,</span>
  footer<span class="token punctuation">,</span>
  hoistTransitiveImports<span class="token punctuation">,</span>
  inlineDynamicImports<span class="token punctuation">,</span>
  interop<span class="token punctuation">,</span>
  intro<span class="token punctuation">,</span>
  manualChunks<span class="token punctuation">,</span>
  minifyInternalExports<span class="token punctuation">,</span>
  outro<span class="token punctuation">,</span>
  paths<span class="token punctuation">,</span>
  preserveModules<span class="token punctuation">,</span>
  preserveModulesRoot<span class="token punctuation">,</span>
  sourcemap<span class="token punctuation">,</span>
  sourcemapExcludeSources<span class="token punctuation">,</span>
  sourcemapFile<span class="token punctuation">,</span>
  sourcemapPathTransform<span class="token punctuation">,</span>
  validate<span class="token punctuation">,</span>

  <span class="token comment">// danger zone</span>
  amd<span class="token punctuation">,</span>
  esModule<span class="token punctuation">,</span>
  exports<span class="token punctuation">,</span>
  freeze<span class="token punctuation">,</span>
  indent<span class="token punctuation">,</span>
  namespaceToStringTag<span class="token punctuation">,</span>
  noConflict<span class="token punctuation">,</span>
  preferConst<span class="token punctuation">,</span>
  sanitizeFileName<span class="token punctuation">,</span>
  strict<span class="token punctuation">,</span>
  systemNullSetters
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="rollup-watch" tabindex="-1"><a class="header-anchor" href="#rollup-watch" aria-hidden="true">#</a> rollup.watch</h3><p>Rollup还提供了一个<code>rollup.watch</code>函数，当它检测到个别模块在磁盘上发生变化时，会重建你的捆绑包。当你从命令行中用<code>--watch</code>标志运行Rollup时，它被内部使用。注意，当通过JavaScript API使用观察模式时，你有责任在响应<code>BUNDLE_END</code>事件时调用<code>event.result.close()</code>，以允许插件清理<a href="https://rollupjs.org/guide/en/#closebundle" target="_blank" rel="noopener noreferrer">closeBundle<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>钩中的资源，见下文。</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> rollup <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;rollup&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> watchOptions <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token operator">...</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> watcher <span class="token operator">=</span> rollup<span class="token punctuation">.</span><span class="token function">watch</span><span class="token punctuation">(</span>watchOptions<span class="token punctuation">)</span><span class="token punctuation">;</span>

watcher<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">&#39;event&#39;</span><span class="token punctuation">,</span> <span class="token parameter">event</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// event.code can be one of:</span>
  <span class="token comment">//   START        — the watcher is (re)starting</span>
  <span class="token comment">//   BUNDLE_START — building an individual bundle</span>
  <span class="token comment">//                  * event.input will be the input options object if present</span>
  <span class="token comment">//                  * event.output contains an array of the &quot;file&quot; or</span>
  <span class="token comment">//                    &quot;dir&quot; option values of the generated outputs</span>
  <span class="token comment">//   BUNDLE_END   — finished building a bundle</span>
  <span class="token comment">//                  * event.input will be the input options object if present</span>
  <span class="token comment">//                  * event.output contains an array of the &quot;file&quot; or</span>
  <span class="token comment">//                    &quot;dir&quot; option values of the generated outputs</span>
  <span class="token comment">//                  * event.duration is the build duration in milliseconds</span>
  <span class="token comment">//                  * event.result contains the bundle object that can be</span>
  <span class="token comment">//                    used to generate additional outputs by calling</span>
  <span class="token comment">//                    bundle.generate or bundle.write. This is especially</span>
  <span class="token comment">//                    important when the watch.skipWrite option is used.</span>
  <span class="token comment">//                  You should call &quot;event.result.close()&quot; once you are done</span>
  <span class="token comment">//                  generating outputs, or if you do not generate outputs.</span>
  <span class="token comment">//                  This will allow plugins to clean up resources via the</span>
  <span class="token comment">//                  &quot;closeBundle&quot; hook.</span>
  <span class="token comment">//   END          — finished building all bundles</span>
  <span class="token comment">//   ERROR        — encountered an error while bundling</span>
  <span class="token comment">//                  * event.error contains the error that was thrown</span>
  <span class="token comment">//                  * event.result is null for build errors and contains the</span>
  <span class="token comment">//                    bundle object for output generation errors. As with</span>
  <span class="token comment">//                    &quot;BUNDLE_END&quot;, you should call &quot;event.result.close()&quot; if</span>
  <span class="token comment">//                    present once you are done.</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// This will make sure that bundles are properly closed after each run</span>
watcher<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">&#39;event&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> result <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>result<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  	result<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// stop watching</span>
watcher<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="watchoptions" tabindex="-1"><a class="header-anchor" href="#watchoptions" aria-hidden="true">#</a> watchOptions</h4><p><code>watchOptions</code>参数是一个配置（或一个配置数组），你将从一个配置文件中导出。</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> watchOptions <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token operator">...</span>inputOptions<span class="token punctuation">,</span>
  <span class="token literal-property property">output</span><span class="token operator">:</span> <span class="token punctuation">[</span>outputOptions<span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token literal-property property">watch</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    buildDelay<span class="token punctuation">,</span>
    chokidar<span class="token punctuation">,</span>
    clearScreen<span class="token punctuation">,</span>
    skipWrite<span class="token punctuation">,</span>
    exclude<span class="token punctuation">,</span>
    include
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>关于<code>inputOptions</code>和<code>outputOptions</code>的细节，见上文，或者<a href="https://rollupjs.org/guide/en/#big-list-of-options" target="_blank" rel="noopener noreferrer">查阅大的选项列表<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>，了解关于<code>chokidar</code>、<code>include</code>和<code>exclude</code>的信息。</p><h4 id="programmatically-loading-a-config-file" tabindex="-1"><a class="header-anchor" href="#programmatically-loading-a-config-file" aria-hidden="true">#</a> Programmatically loading a config file</h4><p>为了帮助生成这样的配置，rollup通过一个单独的入口点公开了它用来在其命令行界面中加载配置文件的帮助器。这个帮助器接收一个已解决的<code>fileName</code>和一个包含命令行参数的对象。</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> loadConfigFile <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;rollup/dist/loadConfigFile&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;path&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> rollup <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;rollup&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// load the config file next to the current script;</span>
<span class="token comment">// the provided config object has the same effect as passing &quot;--format es&quot;</span>
<span class="token comment">// on the command line and will override the format of all outputs</span>
<span class="token function">loadConfigFile</span><span class="token punctuation">(</span>path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&#39;rollup.config.js&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">format</span><span class="token operator">:</span> <span class="token string">&#39;es&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>
  <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> options<span class="token punctuation">,</span> warnings <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// &quot;warnings&quot; wraps the default `onwarn` handler passed by the CLI.</span>
    <span class="token comment">// This prints all warnings up to this point:</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">We currently have </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>warnings<span class="token punctuation">.</span>count<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> warnings</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// This prints all deferred warnings</span>
    warnings<span class="token punctuation">.</span><span class="token function">flush</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// options is an array of &quot;inputOptions&quot; objects with an additional &quot;output&quot;</span>
    <span class="token comment">// property that contains an array of &quot;outputOptions&quot;.</span>
    <span class="token comment">// The following will generate all outputs for all inputs, and write them to disk the same</span>
    <span class="token comment">// way the CLI does it:</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> optionsObj <span class="token keyword">of</span> options<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> bundle <span class="token operator">=</span> <span class="token keyword">await</span> rollup<span class="token punctuation">.</span><span class="token function">rollup</span><span class="token punctuation">(</span>optionsObj<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">await</span> Promise<span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span>optionsObj<span class="token punctuation">.</span>output<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>bundle<span class="token punctuation">.</span>write<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// You can also pass this directly to &quot;rollup.watch&quot;</span>
    rollup<span class="token punctuation">.</span><span class="token function">watch</span><span class="token punctuation">(</span>options<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="es-module-syntax" tabindex="-1"><a class="header-anchor" href="#es-module-syntax" aria-hidden="true">#</a> ES Module Syntax</h2><p>以下是<a href="https://www.ecma-international.org/ecma-262/6.0/" target="_blank" rel="noopener noreferrer">ES2015规范<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>中定义的模块行为的轻量级参考，因为正确理解导入和导出语句对成功使用Rollup至关重要。</p><h3 id="importing" tabindex="-1"><a class="header-anchor" href="#importing" aria-hidden="true">#</a> Importing</h3><p>导入的值不能被重新分配，尽管导入的对象和数组可以被突变（并且导出模块和任何其他导入者都会受到突变的影响）。在这方面，它们的行为类似于<code>常量</code>声明。</p><h4 id="named-imports" tabindex="-1"><a class="header-anchor" href="#named-imports" aria-hidden="true">#</a> Named Imports</h4><p>从源模块导入一个特定的项目，并使用其原始名称。</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> something <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;./module.js&#39;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>从源模块导入一个特定的项目，导入时指定一个自定义的名称。</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> something <span class="token keyword">as</span> somethingElse <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;./module.js&#39;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="namespace-imports" tabindex="-1"><a class="header-anchor" href="#namespace-imports" aria-hidden="true">#</a> Namespace Imports</h4><p>将源模块的所有内容导入一个对象，该对象将源模块的所有命名出口作为属性和方法公开。</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token operator">*</span> <span class="token keyword">as</span> module <span class="token keyword">from</span> <span class="token string">&#39;./module.js&#39;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>上面的例子中的东西将作为一个属性附加到导入的对象上，例如<code>module.something</code>。如果存在，可以通过<code>module.default</code>访问默认导出。</p><h4 id="default-import" tabindex="-1"><a class="header-anchor" href="#default-import" aria-hidden="true">#</a> Default Import</h4><p>导入源模块的<strong>默认导出</strong>。</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">import</span> something <span class="token keyword">from</span> <span class="token string">&#39;./module.js&#39;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="empty-import" tabindex="-1"><a class="header-anchor" href="#empty-import" aria-hidden="true">#</a> Empty Import</h4><p>加载模块代码，但不要让任何新对象可用。</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token string">&#39;./module.js&#39;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>这对polyfills很有用，或者当导入代码的主要目的是为了混用原型时。</p><h4 id="dynamic-import" tabindex="-1"><a class="header-anchor" href="#dynamic-import" aria-hidden="true">#</a> Dynamic Import</h4><p>使用<a href="https://github.com/tc39/proposal-dynamic-import#import" target="_blank" rel="noopener noreferrer">动态导入 API<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> 导入模块。</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">&#39;./modules.js&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> <span class="token keyword">default</span><span class="token operator">:</span> DefaultExport<span class="token punctuation">,</span> NamedExport <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// do something with modules.</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>这对代码拆分应用和即时使用模块很有用。</p><h3 id="exporting" tabindex="-1"><a class="header-anchor" href="#exporting" aria-hidden="true">#</a> Exporting</h3><h4 id="named-exports" tabindex="-1"><a class="header-anchor" href="#named-exports" aria-hidden="true">#</a> Named exports</h4><p>导出先前声明的值：</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> something <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token punctuation">{</span> something <span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>重命名导出：</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">export</span> <span class="token punctuation">{</span> something <span class="token keyword">as</span> somethingElse <span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>声明后立即导出价值：</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// this works with `var`, `let`, `const`, `class`, and `function`</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> something <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="default-export" tabindex="-1"><a class="header-anchor" href="#default-export" aria-hidden="true">#</a> Default Export</h4><p>输出一个单一的值作为源模块的默认出口。</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">export</span> <span class="token keyword">default</span> something<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>只有您的源模块只有一个导出，才会建议使用此操作。</p><p>在同一模块中混合默认和命名导出的惯例是不好的，但规范允许。</p><h3 id="how-bindings-work" tabindex="-1"><a class="header-anchor" href="#how-bindings-work" aria-hidden="true">#</a> How bindings work</h3><p>ES模块导出的是活的绑定，而不是值，所以值可以在最初导入后按照<a href="https://rollupjs.org/repl/?shareable=JTdCJTIybW9kdWxlcyUyMiUzQSU1QiU3QiUyMm5hbWUlMjIlM0ElMjJtYWluLmpzJTIyJTJDJTIyY29kZSUyMiUzQSUyMmltcG9ydCUyMCU3QiUyMGNvdW50JTJDJTIwaW5jcmVtZW50JTIwJTdEJTIwZnJvbSUyMCcuJTJGaW5jcmVtZW50ZXIuanMnJTNCJTVDbiU1Q25jb25zb2xlLmxvZyhjb3VudCklM0IlNUNuaW5jcmVtZW50KCklM0IlNUNuY29uc29sZS5sb2coY291bnQpJTNCJTIyJTdEJTJDJTdCJTIybmFtZSUyMiUzQSUyMmluY3JlbWVudGVyLmpzJTIyJTJDJTIyY29kZSUyMiUzQSUyMmV4cG9ydCUyMGxldCUyMGNvdW50JTIwJTNEJTIwMCUzQiU1Q24lNUNuZXhwb3J0JTIwZnVuY3Rpb24lMjBpbmNyZW1lbnQoKSUyMCU3QiU1Q24lNUN0Y291bnQlMjAlMkIlM0QlMjAxJTNCJTVDbiU3RCUyMiU3RCU1RCUyQyUyMm9wdGlvbnMlMjIlM0ElN0IlMjJmb3JtYXQlMjIlM0ElMjJjanMlMjIlMkMlMjJnbG9iYWxzJTIyJTNBJTdCJTdEJTJDJTIybW9kdWxlSWQlMjIlM0ElMjIlMjIlMkMlMjJuYW1lJTIyJTNBJTIybXlCdW5kbGUlMjIlN0QlMkMlMjJleGFtcGxlJTIyJTNBbnVsbCU3RA==" target="_blank" rel="noopener noreferrer">这个演示<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>进行更改。</p><div><div title="incrementer.js"><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// incrementer.js</span>
<span class="token keyword">export</span> <span class="token keyword">let</span> count <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">increment</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  count <span class="token operator">+=</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><div title="main.js"><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// main.js</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> count<span class="token punctuation">,</span> increment <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;./incrementer.js&#39;</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>count<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 0</span>
<span class="token function">increment</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>count<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 1</span>

count <span class="token operator">+=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">// Error — only incrementer.js can change this</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div></div><h2 id="tutorial" tabindex="-1"><a class="header-anchor" href="#tutorial" aria-hidden="true">#</a> Tutorial</h2><ul><li><p><a href="">Creating Your First Bundle</a></p></li><li><p><a href="">Using Config Files</a></p></li><li><p><a href="">Installing Rollup locally</a></p></li><li><p><a href="">Using plugins</a></p></li><li><p><a href="">Using output plugins</a></p></li><li><p><a href="">Code Splitting</a></p></li></ul><h3 id="creating-your-first-bundle" tabindex="-1"><a class="header-anchor" href="#creating-your-first-bundle" aria-hidden="true">#</a> Creating Your First Bundle</h3><p>在我们开始之前，你需要安装<a href="https://nodejs.org/" target="_blank" rel="noopener noreferrer">Node.js<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>，以便你可以使用<a href="https://npmjs.com/" target="_blank" rel="noopener noreferrer">NPM<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>。你还需要知道如何访问你机器上的<a href="https://www.codecademy.com/learn/learn-the-command-line" target="_blank" rel="noopener noreferrer">命令行<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>。</p><p>使用Rollup的最简单方法是通过命令行界面（或CLI）。现在，我们将在全局范围内安装它（稍后我们将学习如何在你的项目中本地安装它，以便你的构建过程是可移植的，但先不要担心这个问题）。在命令行中键入以下内容。</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">npm</span> <span class="token function">install</span> rollup --global
<span class="token comment"># or `npm i rollup -g` for short</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>您现在可以运行rollup命令。尝试一下！</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>rollup
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>由于没有传递参数，Rollup打印出使用说明。这与运行<code>rollup --help</code>或<code>rollup -h</code>相同。</p><p>让我们创建一个简单的项目：</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">mkdir</span> -p my-rollup-project/src
<span class="token builtin class-name">cd</span> my-rollup-project
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>首先，我们需要一个入口点。将其粘贴到一个名为 src/main.js 的新文件中。</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// src/main.js</span>
<span class="token keyword">import</span> foo <span class="token keyword">from</span> <span class="token string">&#39;./foo.js&#39;</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>foo<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>然后，让我们创建我们的入口点导入的<code>foo.js</code>模块：</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// src/foo.js</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token string">&#39;hello world!&#39;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>现在我们已准备好创建一个捆绑包：</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>rollup src/main.js -f cjs
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><code>-f</code>选项（<code>--format</code>的缩写）指定了我们要创建的是哪种捆绑包--在本例中是CommonJS（将在Node.js中运行）。因为我们没有指定输出文件，它将被直接打印到<code>stdout</code>。</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token string">&#39;use strict&#39;</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> foo <span class="token operator">=</span> <span class="token string">&#39;hello world!&#39;</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token function-variable function">main</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>foo<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> main<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>您可以将捆绑包保存为如此：</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>rollup src/main.js -o bundle.js -f cjs
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>(你也可以做<code>rollup src/main.js -f cjs &gt; bundle.js</code>，但正如我们稍后看到的，如果你要生成源代码地图，这就不那么灵活了)。</p><p>尝试运行代码：</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">node</span>
<span class="token operator">&gt;</span> var myBundle <span class="token operator">=</span> require<span class="token punctuation">(</span><span class="token string">&#39;./bundle.js&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token operator">&gt;</span> myBundle<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token string">&#39;hello world!&#39;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>恭喜你！你已经用Rollup创建了你的第一个包。</p><h3 id="using-config-files" tabindex="-1"><a class="header-anchor" href="#using-config-files" aria-hidden="true">#</a> Using Config Files</h3><p>到目前为止，情况还不错，但当我们开始添加更多的选项时，打出命令就变得有点麻烦了。</p><p>为了节省重复劳动，我们可以创建一个包含所有我们需要的选项的配置文件。配置文件是用JavaScript编写的，比原始CLI更灵活。</p><p>在项目根部创建一个名为<code>rollup.config.js</code>的文件，并添加以下代码。</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// rollup.config.js</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">input</span><span class="token operator">:</span> <span class="token string">&#39;src/main.js&#39;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">output</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">file</span><span class="token operator">:</span> <span class="token string">&#39;bundle.js&#39;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">format</span><span class="token operator">:</span> <span class="token string">&#39;cjs&#39;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>(注意，你可以使用CJS模块，因此<code>module.exports = {/* config */}</code>)</p><p>要使用配置文件，我们使用<code>--config</code>或<code>-c</code>标志：</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">rm</span> bundle.js <span class="token comment"># so we can check the command works!</span>
rollup -c
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>你可以用相应的命令行选项来覆盖配置文件中的任何选项。</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>rollup -c -o bundle-2.js <span class="token comment"># `-o` is equivalent to `--file` (formerly &quot;output&quot;)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>注意：Rollup本身会处理配置文件，这就是为什么我们能够使用<code>导出的默认语法</code>--代码没有被Babel或类似的东西转译，所以你只能使用你所运行的Node.js版本所支持的ES2015特性。</p><p>如果你愿意，你可以指定一个不同于默认<code>rollup.config.js</code>的配置文件。</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>rollup --config rollup.config.dev.js
rollup --config rollup.config.prod.js
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="installing-rollup-locally" tabindex="-1"><a class="header-anchor" href="#installing-rollup-locally" aria-hidden="true">#</a> Installing Rollup locally</h3><p>当在团队或分布式环境中工作时，将Rollup作为一个本地依赖项添加是明智的。在本地安装Rollup可以避免要求多个贡献者分别安装Rollup的额外步骤，并确保所有贡献者使用相同版本的Rollup。</p><p>要使用NPM本地安装汇总：</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">npm</span> <span class="token function">install</span> rollup --save-dev
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>或用yarn：</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">yarn</span> -D <span class="token function">add</span> rollup
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>安装后，Rollup可以在你的项目的根目录下运行。</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>npx rollup --config
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>或用yarn：</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">yarn</span> rollup --config
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>一旦安装完毕，通常的做法是在<code>package.json</code>中添加一个单一的构建脚本，为所有贡献者提供一个方便的命令。 例如</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;scripts&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;build&quot;</span><span class="token operator">:</span> <span class="token string">&quot;rollup --config&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>注意：一旦安装到本地，NPM和Yarn都会解析依赖的bin文件，并在从包脚本调用时执行Rollup。</p><h3 id="using-plugins" tabindex="-1"><a class="header-anchor" href="#using-plugins" aria-hidden="true">#</a> Using plugins</h3><p>到目前为止，我们已经从一个入口点和一个通过相对路径导入的模块创建了一个简单的捆绑程序。当你建立更复杂的软件包时，你往往需要更多的灵活性--导入用NPM安装的模块，用Babel编译代码，用JSON文件工作等等。</p><p>为此，我们使用插件，在捆绑过程的关键点上改变Rollup的行为。在Rollup Awesome List上<a href="https://github.com/rollup/awesome" target="_blank" rel="noopener noreferrer">有一个插件列表<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>。</p><p>在本教程中，我们将使用<a href="https://github.com/rollup/plugins/tree/master/packages/json" target="_blank" rel="noopener noreferrer">@rollup/plugin-json<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>，它允许Rollup从JSON文件导入数据。</p><p>在项目根部创建一个名为<code>package.json</code>的文件，并添加以下内容。</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;rollup-tutorial&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;version&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1.0.0&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;scripts&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;build&quot;</span><span class="token operator">:</span> <span class="token string">&quot;rollup -c&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>将@rollup/plugin-json安装为开发依赖项。</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">npm</span> <span class="token function">install</span> --save-dev @rollup/plugin-json
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>（我们正在使用<code>--save-dev</code>而不是<code>--save</code>，因为我们的代码实际上并没有依赖于运行时的插件 - 只有在我们构建捆绑包时才依赖于插件。）</p><p>更新你的<code>src/main.js</code>文件，使其从<code>package.json</code>而不是<code>src/foo.js</code>导入。</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// src/main.js</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> version <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;../package.json&#39;</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;version &#39;</span> <span class="token operator">+</span> version<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>编辑您的<code>Rollup.config.js</code>文件以包含JSON插件：</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// rollup.config.js</span>
<span class="token keyword">import</span> json <span class="token keyword">from</span> <span class="token string">&#39;@rollup/plugin-json&#39;</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">input</span><span class="token operator">:</span> <span class="token string">&#39;src/main.js&#39;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">output</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">file</span><span class="token operator">:</span> <span class="token string">&#39;bundle.js&#39;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">format</span><span class="token operator">:</span> <span class="token string">&#39;cjs&#39;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>用<code>npm run build</code>运行Rollup。结果应该是这样的。</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token string">&#39;use strict&#39;</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> version <span class="token operator">=</span> <span class="token string">&#39;1.0.0&#39;</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;version &#39;</span> <span class="token operator">+</span> version<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> main<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>注意：只有我们真正需要的数据被导入<code>--name</code>和<code>devDependencies</code>以及<code>package.json</code>的其他部分被忽略。这就是<strong>树状结构的作用</strong>。</p><h3 id="using-output-plugins" tabindex="-1"><a class="header-anchor" href="#using-output-plugins" aria-hidden="true">#</a> Using output plugins</h3><p>一些插件也可以专门应用于某些输出。关于特定输出的插件能做什么的技术细节，请看<a href="https://rollupjs.org/guide/en/#build-hooks" target="_blank" rel="noopener noreferrer">插件钩子<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>。简而言之，那些插件只能在Rollup的主要分析完成后修改代码。如果一个不兼容的插件被用作输出特定插件，Rollup会发出警告。一个可能的用例是对在浏览器中使用的包进行最小化。</p><p>让我们扩展前面的例子，以提供一个减化的构建和非减化的构建。为此，我们安装<code>rollup-plugin-terser</code>。</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">npm</span> <span class="token function">install</span> --save-dev rollup-plugin-terser
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>编辑你的<code>rollup.config.js</code>文件，添加第二个最小化的输出。作为格式，我们选择<code>iife</code>。这种格式包装了代码，以便它可以通过浏览器中的脚本标签来消费，同时避免与其他代码进行不必要的交互。由于我们有一个输出，我们需要提供一个全局变量的名字，这个变量将由我们的bundle创建，这样其他代码就可以通过这个变量访问我们的输出。</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// rollup.config.js</span>
<span class="token keyword">import</span> json <span class="token keyword">from</span> <span class="token string">&#39;@rollup/plugin-json&#39;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> terser <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;rollup-plugin-terser&#39;</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">input</span><span class="token operator">:</span> <span class="token string">&#39;src/main.js&#39;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">output</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token literal-property property">file</span><span class="token operator">:</span> <span class="token string">&#39;bundle.js&#39;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">format</span><span class="token operator">:</span> <span class="token string">&#39;cjs&#39;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token literal-property property">file</span><span class="token operator">:</span> <span class="token string">&#39;bundle.min.js&#39;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">format</span><span class="token operator">:</span> <span class="token string">&#39;iife&#39;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;version&#39;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token function">terser</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>除了<code>bundle.js</code>，Rollup现在会创建第二个文件<code>bundle.min.js</code>。</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> version <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token string">&#39;use strict&#39;</span><span class="token punctuation">;</span>
  <span class="token keyword">var</span> n <span class="token operator">=</span> <span class="token string">&#39;1.0.0&#39;</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;version &#39;</span> <span class="token operator">+</span> n<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="code-splitting" tabindex="-1"><a class="header-anchor" href="#code-splitting" aria-hidden="true">#</a> Code Splitting</h3><p>对于代码分割，有些情况下，Rollup会自动将代码分割成几块，比如动态加载或多个入口点，还有一种方法是通过<a href="https://rollupjs.org/guide/en/#outputmanualchunks" target="_blank" rel="noopener noreferrer">output.manualChunks<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>选项明确告诉Rollup哪些模块要分割成独立的几块。</p><p>为了使用代码拆分功能来实现懒惰的动态加载（一些导入的模块只在执行函数后才被加载），我们回到原来的例子，修改 <code>src/main.js</code>，动态加载 <code>src/foo.js</code> 而不是静态加载。</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// src/main.js</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">&#39;./foo.js&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> <span class="token keyword">default</span><span class="token operator">:</span> foo <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>foo<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Rollup将使用动态导入来创建一个单独的块，只在需要时加载。为了让Rollup知道在哪里放置第二个数据块，我们没有使用<code>--file</code>选项，而是使用<code>--dir</code>选项设置了一个要输出的文件夹。</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>rollup src/main.js -f cjs -d dist
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>这将创建一个文件夹<code>dist</code>，包含两个文件，<code>main.js</code>和<code>chunk-[hash].js</code>，其中<code>[hash]</code>是一个基于内容的哈希字符串。你可以通过指定<a href="https://rollupjs.org/guide/en/#outputchunkfilenames" target="_blank" rel="noopener noreferrer">output.chunkFileNames<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>和<a href="https://rollupjs.org/guide/en/#outputentryfilenames" target="_blank" rel="noopener noreferrer">output.entryFileNames<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>选项提供你自己的命名模式。</p><p>你仍然可以像以前一样运行你的代码，有相同的输出，尽管速度稍慢，因为只有当我们第一次调用导出的函数时，才会开始加载和解析<code>./foo.js</code>。</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">node</span> -e <span class="token string">&quot;require(&#39;./dist/main.js&#39;)()&quot;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>如果我们不使用<code>-dir</code>选项，Rollup会再次将块打印到stdout，并添加注释以突出块的边界。</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">//→ main.js:</span>
<span class="token string">&#39;use strict&#39;</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  Promise<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;./chunk-b8774ea3.js&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> <span class="token keyword">default</span><span class="token operator">:</span> foo <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>foo<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> main<span class="token punctuation">;</span>

<span class="token comment">//→ chunk-b8774ea3.js:</span>
<span class="token punctuation">(</span><span class="token string">&#39;use strict&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> foo <span class="token operator">=</span> <span class="token string">&#39;hello world!&#39;</span><span class="token punctuation">;</span>

exports<span class="token punctuation">.</span>default <span class="token operator">=</span> foo<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>如果要在使用时才能加载和解析等开销大的功能，这将是有用的。</p><p>代码拆分的另一个用途是能够指定几个共享某些依赖关系的入口点。我们再次扩展我们的例子，添加第二个入口点 <code>src/main2.js</code>，它静态地导入 <code>src/foo.js</code>，就像我们在原始例子中做的那样。</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// src/main2.js</span>
<span class="token keyword">import</span> foo <span class="token keyword">from</span> <span class="token string">&#39;./foo.js&#39;</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>foo<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>如果我们向rollup提供两个入口点，就会创建三个块。</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>rollup src/main.js src/main2.js -f cjs
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>将输出</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">//→ main.js:</span>
<span class="token string">&#39;use strict&#39;</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  Promise<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;./chunk-b8774ea3.js&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> <span class="token keyword">default</span><span class="token operator">:</span> foo <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>foo<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> main<span class="token punctuation">;</span>

<span class="token comment">//→ main2.js:</span>
<span class="token punctuation">(</span><span class="token string">&#39;use strict&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> foo_js <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;./chunk-b8774ea3.js&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">main2</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>foo_js<span class="token punctuation">.</span>default<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> main2<span class="token punctuation">;</span>

<span class="token comment">//→ chunk-b8774ea3.js:</span>
<span class="token punctuation">(</span><span class="token string">&#39;use strict&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> foo <span class="token operator">=</span> <span class="token string">&#39;hello world!&#39;</span><span class="token punctuation">;</span>

exports<span class="token punctuation">.</span>default <span class="token operator">=</span> foo<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>注意这两个入口点是如何导入同一个共享块的。Rollup不会重复代码，而是创建额外的块，只加载必要的最低限度。同样，通过<code>-dir</code>选项将把文件写到磁盘上。</p><p>你可以通过本地ES模块、AMD加载器或SystemJS为浏览器构建相同的代码。</p><p>例如，使用<code>-f es</code>进行本机模块：</p><div><div title="cli"><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>rollup src/main.js src/main2.js -f es -d dist
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></div><div title="html"><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>module<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">import</span> main2 <span class="token keyword">from</span> <span class="token string">&#39;./dist/main2.js&#39;</span><span class="token punctuation">;</span>
  <span class="token function">main2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div></div><p>对于SystemJS，用<code>-f system</code>。</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>rollup src/main.js src/main2.js -f system -d dist
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>安装SystemJS Via.</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">npm</span> <span class="token function">install</span> --save-dev systemjs
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>然后根据需要在一个HTML页面中加载任一或两个入口点。</p><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>node_modules/systemjs/dist/s.min.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  System<span class="token punctuation">.</span><span class="token function">import</span><span class="token punctuation">(</span><span class="token string">&#39;./dist/main2.js&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> <span class="token keyword">default</span><span class="token operator">:</span> main <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>请参阅<a href="https://github.com/rollup/rollup-starter-code-splitting" target="_blank" rel="noopener noreferrer">rollup-starter-code-splitting<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>，了解如何在支持本地ES模块的浏览器上设置Web应用，并在必要时回退到SystemJS。</p><h2 id="plugin-development" tabindex="-1"><a class="header-anchor" href="#plugin-development" aria-hidden="true">#</a> Plugin Development</h2><ul><li><p><a href="">Plugins Overview</a></p></li><li><p><a href="">A Simple Example</a></p></li><li><p><a href="">Conventions</a></p></li><li><p><a href="">Properties</a></p><ul><li><a href="">name</a></li></ul></li><li><p><a href="">Build Hooks</a></p><ul><li><p><a href="">buildEnd</a></p></li><li><p><a href="">buildStart</a></p></li><li><p><a href="">closeWatcher</a></p></li><li><p><a href="">load</a></p></li><li><p><a href="">moduleParsed</a></p></li><li><p><a href="">options</a></p></li><li><p><a href="">resolveDynamicImport</a></p></li><li><p><a href="">resolveId</a></p></li><li><p><a href="">transform</a></p></li><li><p><a href="">watchChange</a></p></li></ul></li><li><p><a href="">Output Generation Hooks</a></p><ul><li><p><a href="">augmentChunkHash</a></p></li><li><p><a href="">banner</a></p></li><li><p><a href="">closeBundle</a></p></li><li><p><a href="">footer</a></p></li><li><p><a href="">generateBundle</a></p></li><li><p><a href="">intro</a></p></li><li><p><a href="">outputOptions</a></p></li><li><p><a href="">outro</a></p></li><li><p><a href="">renderChunk</a></p></li><li><p><a href="">renderDynamicImport</a></p></li><li><p><a href="">renderError</a></p></li><li><p><a href="">renderStart</a></p></li><li><p><a href="">resolveFileUrl</a></p></li><li><p><a href="">resolveImportMeta</a></p></li><li><p><a href="">writeBundle</a></p></li></ul></li><li><p><a href="">Deprecated Hooks</a></p></li><li><p><a href="">Plugin Context</a></p><ul><li><p><a href="">this.addWatchFile(id: string) =&gt; void</a></p></li><li><p><a href="">this.emitFile(emittedFile: EmittedChunk | EmittedAsset) =&gt; string</a></p></li><li><p><a href="">this.error(error: string | Error, position?: number | { column: number; line: number }) =&gt; never</a></p></li><li><p><a href="">this.getCombinedSourcemap() =&gt; SourceMap</a></p></li><li><p><a href="">this.getFileName(referenceId: string) =&gt; string</a></p></li><li><p><a href="">this.getModuleIds() =&gt; IterableIterator(string)</a></p></li><li><p><a href="">this.getModuleInfo(moduleId: string) =&gt; (ModuleInfo | null)</a></p></li><li><p><a href="">this.getWatchFiles() =&gt; string[]</a></p></li><li><p><a href="">this.meta: {rollupVersion: string, watchMode: boolean}</a></p></li><li><p><a href="">this.parse(code: string, acornOptions?: AcornOptions) =&gt; ESTree.Program</a></p></li><li><p><a href="">this.resolve(source: string, importer?: string, options?: {skipSelf?: boolean, custom?: {[plugin: string]: any}}) =&gt; Promise&lt;{id: string, external: boolean | &quot;absolute&quot;, moduleSideEffects: boolean | &#39;no-treeshake&#39;, syntheticNamedExports: boolean | string, meta: {[plugin: string]: any}} | null&gt;</a></p></li><li><p><a href="">this.setAssetSource(referenceId: string, source: string | Uint8Array) =&gt; void</a></p></li><li><p><a href="">this.warn(warning: string | RollupWarning, position?: number | { column: number; line: number }) =&gt; void</a></p></li></ul></li><li><p><a href="">Deprecated Context Functions</a></p></li><li><p><a href="">File URLs</a></p></li><li><p><a href="">Transformers</a></p><ul><li><p><a href="">Example Transformer</a></p></li><li><p><a href="">Source Code Transformations</a></p></li></ul></li><li><p><a href="">Synthetic named exports</a></p></li><li><p><a href="">Inter-plugin communication</a></p><ul><li><p><a href="">Custom resolver options</a></p></li><li><p><a href="">Custom module meta-data</a></p></li><li><p><a href="">Direct plugin communication</a></p></li></ul></li></ul><h3 id="plugins-overview" tabindex="-1"><a class="header-anchor" href="#plugins-overview" aria-hidden="true">#</a> Plugins Overview</h3><p>一个Rollup插件是一个具有下面描述的一个或多个<a href="https://rollupjs.org/guide/en/#properties" target="_blank" rel="noopener noreferrer">属性<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>、<a href="https://rollupjs.org/guide/en/#build-hooks" target="_blank" rel="noopener noreferrer">构建钩子<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>和<a href="https://rollupjs.org/guide/en/#output-generation-hooks" target="_blank" rel="noopener noreferrer">输出生成钩子的对象<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>，并遵循我们的惯例。一个插件应该以包的形式<a href="https://rollupjs.org/guide/en/#conventions" target="_blank" rel="noopener noreferrer">发布<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>，该包导出一个可以用插件特定选项调用的函数，并返回这样一个对象。</p><p>插件允许你自定义Rollup的行为，例如，在捆绑前转译代码，或在你的node_modules文件夹中寻找第三方模块。关于如何使用它们的例子，请参阅<a href="https://rollupjs.org/guide/en/#using-plugins" target="_blank" rel="noopener noreferrer">使用插件<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>。</p><p>插件列表可以在<a href="https://github.com/rollup/awesome" target="_blank" rel="noopener noreferrer">github.com/rollup/awesome<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>找到。如果你想对一个插件提出建议，请提交一个Pull Request。</p><h3 id="a-simple-example" tabindex="-1"><a class="header-anchor" href="#a-simple-example" aria-hidden="true">#</a> A Simple Example</h3><p>下面的插件将拦截任何<code>虚拟模块</code>的导入而不访问文件系统。例如，如果你想在浏览器中使用Rollup，这是必要的。它甚至可以用来替换入口点，如例子中所示。</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// rollup-plugin-my-example.js</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span> <span class="token function">myExample</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;my-example&#39;</span><span class="token punctuation">,</span> <span class="token comment">// this name will show up in warnings and errors</span>
    <span class="token function">resolveId</span> <span class="token punctuation">(</span> <span class="token parameter">source</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>source <span class="token operator">===</span> <span class="token string">&#39;virtual-module&#39;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> source<span class="token punctuation">;</span> <span class="token comment">// this signals that rollup should not ask other plugins or check the file system to find this id</span>
      <span class="token punctuation">}</span>
      <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span> <span class="token comment">// other ids should be handled as usually</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">load</span> <span class="token punctuation">(</span> <span class="token parameter">id</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>id <span class="token operator">===</span> <span class="token string">&#39;virtual-module&#39;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">&#39;export default &quot;This is virtual!&quot;&#39;</span><span class="token punctuation">;</span> <span class="token comment">// the source code for &quot;virtual-module&quot;</span>
      <span class="token punctuation">}</span>
      <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span> <span class="token comment">// other ids should be handled as usually</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// rollup.config.js</span>
<span class="token keyword">import</span> myExample <span class="token keyword">from</span> <span class="token string">&#39;./rollup-plugin-my-example.js&#39;</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">input</span><span class="token operator">:</span> <span class="token string">&#39;virtual-module&#39;</span><span class="token punctuation">,</span> <span class="token comment">// resolved by our plugin</span>
  <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token function">myExample</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token literal-property property">output</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
    <span class="token literal-property property">file</span><span class="token operator">:</span> <span class="token string">&#39;bundle.js&#39;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">format</span><span class="token operator">:</span> <span class="token string">&#39;es&#39;</span>
  <span class="token punctuation">}</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="conventions" tabindex="-1"><a class="header-anchor" href="#conventions" aria-hidden="true">#</a> Conventions</h3><div class="custom-container tip"><p class="custom-container-title">约定:</p><ul><li><p>插件应该有一个明确的名称，并带有rollup-plugin-前缀。</p></li><li><p>在package.json中包括rollup-plugin关键字。</p></li><li><p>插件应该被测试。我们推荐mocha或ava，它们支持开箱即用的承诺。</p></li><li><p>在可能的情况下使用异步方法。</p></li><li><p>用英文记录你的插件。</p></li><li><p>如果合适的话，确保你的插件输出正确的源映射。</p></li><li><p>如果你的插件使用 &quot;虚拟模块&quot;（例如，用于辅助函数），请在模块ID前加上 &quot;0&quot;。这可以防止其他插件试图处理它。</p></li></ul></div><h3 id="properties" tabindex="-1"><a class="header-anchor" href="#properties" aria-hidden="true">#</a> Properties</h3><p><code>name</code></p><p>Type: <code>string</code></p><p>The name of the plugin, for use in error messages and warnings.</p><h3 id="build-hooks" tabindex="-1"><a class="header-anchor" href="#build-hooks" aria-hidden="true">#</a> Build Hooks</h3><p>为了与构建过程互动，你的插件对象包括 &quot;钩子&quot;。钩子是在构建的不同阶段被调用的函数。钩子可以影响构建的运行方式，提供关于构建的信息，或者在构建完成后对其进行修改。有不同种类的钩子。</p><ul><li><p><code>async</code>: 钩子也可以返回一个解析为相同类型的值的承诺；否则，钩子被标记为同步。</p></li><li><p><code>first</code>: 如果有几个插件实现了这个钩子，那么这些钩子将按顺序运行，直到一个钩子返回一个非空或未定义的值。</p></li><li><p><code>sequential</code>: 如果有几个插件实现了这个钩子，所有的钩子将按照指定的插件顺序运行。如果一个钩子是异步的，后续的这种钩子将等待，直到当前钩子被解决。</p></li><li><p><code>parallel</code>: 如果有几个插件实现了这个钩子，它们都将按照指定的插件顺序来运行。如果一个钩子是异步的，后续的这类钩子将被平行运行，而不会等待当前的钩子。</p></li></ul><p>构建钩子在构建阶段运行，这是由<code>rollup.rollup(inputOptions)</code>触发的。它们主要是在Rollup处理输入文件之前，对其进行定位、提供和转换。构建阶段的第一个钩子是<a href="https://rollupjs.org/guide/en/#options" target="_blank" rel="noopener noreferrer">options<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>，最后一个钩子总是<a href="https://rollupjs.org/guide/en/#buildend" target="_blank" rel="noopener noreferrer">buildEnd<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>。如果有一个构建错误，之后将调用<a href="https://rollupjs.org/guide/en/#closebundle" target="_blank" rel="noopener noreferrer">closeBundle<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>。</p><img src="/notes/assets/rollup/introduction/1630648412252.jpg" alt="demo"><p>此外，在观察模式下，<a href="https://rollupjs.org/guide/en/#watchchange" target="_blank" rel="noopener noreferrer">watchChange<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>钩子可以在任何时候被触发，以通知新的运行将在当前运行产生其输出后被触发。另外，当watcher关闭时，<a href="https://rollupjs.org/guide/en/#closewatcher" target="_blank" rel="noopener noreferrer">closeWatcher<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>钩将被触发。</p><p>参见<a href="https://rollupjs.org/guide/en/#output-generation-hooks" target="_blank" rel="noopener noreferrer">输出生成钩子<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>，了解在输出生成阶段运行的钩子，以修改生成的输出。</p><h4 id="buildend" tabindex="-1"><a class="header-anchor" href="#buildend" aria-hidden="true">#</a> buildEnd</h4><p>Type: <code>(error?: Error) =&gt; void</code> Kind: <code>async</code>, <code>parallel</code> Previous Hook: <a href="https://rollupjs.org/guide/en/#moduleparsed" target="_blank" rel="noopener noreferrer">moduleParsed<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>, <a href="https://rollupjs.org/guide/en/#resolveid" target="_blank" rel="noopener noreferrer">resolveId<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> or <a href="https://rollupjs.org/guide/en/#resolvedynamicimport" target="_blank" rel="noopener noreferrer">resolveDynamicImport<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>. Next Hook: 输出生成阶段的<a href="https://rollupjs.org/guide/en/#outputoptions" target="_blank" rel="noopener noreferrer">outputOptions<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>，因为这是构建阶段的最后一个钩子.</p><p>当rollup完成捆绑，但在<code>generate</code>或<code>write</code>被调用之前被调用；你也可以返回一个Promise。如果在构建过程中发生了错误，它将被传递给这个钩子。</p><h4 id="buildstart" tabindex="-1"><a class="header-anchor" href="#buildstart" aria-hidden="true">#</a> buildStart</h4><p>Type: <code>(options: InputOptions) =&gt; void</code> Kind: <code>async</code>, <code>parallel</code> Previous Hook: <a href="https://rollupjs.org/guide/en/#options" target="_blank" rel="noopener noreferrer">options<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> Next Hook：<a href="https://rollupjs.org/guide/en/#resolveid" target="_blank" rel="noopener noreferrer">resolveId<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> 并行解析每个入口点。</p><p>在每次<code>rollup.rollup</code>构建时被调用。当你需要访问传递给<code>rollup.rollup()</code>的选项时，推荐使用这个钩子，因为它考虑到了所有<a href="https://rollupjs.org/guide/en/#options" target="_blank" rel="noopener noreferrer">选项<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>钩子的转换，也包含了未设置选项的正确默认值。</p><h4 id="closewatcher" tabindex="-1"><a class="header-anchor" href="#closewatcher" aria-hidden="true">#</a> closeWatcher</h4><p>Type: <code>() =&gt; void</code> Kind: <code>sync</code>, <code>sequential</code> Previous/Next Hook: 这个钩子可以在任何时候被触发，无论是在构建阶段还是在输出生成阶段。如果是这种情况，当前的构建仍将继续进行，但不会有新的<a href="https://rollupjs.org/guide/en/#watchchange" target="_blank" rel="noopener noreferrer">watchChange<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>事件被触发。</p><p>当观察者进程关闭时通知一个插件，所有打开的资源也应该关闭。这个钩子不能被输出插件使用。</p><h4 id="load" tabindex="-1"><a class="header-anchor" href="#load" aria-hidden="true">#</a> load</h4><p>Type: <code>(id: string) =&gt; string | null | {code: string, map?: string | SourceMap, ast? : ESTree.Program, moduleSideEffects?: boolean | &quot;no-treeshake&quot; | null, syntheticNamedExports?: boolean | string | null, meta?: {[plugin: string]: any} | null}</code> Kind: <code>async</code>, <code>first</code> Previous Hook: 解析加载的 ID 的 <a href="https://rollupjs.org/guide/en/#resolveid" target="_blank" rel="noopener noreferrer">resolveId<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> 或 <a href="https://rollupjs.org/guide/en/#resolvedynamicimport" target="_blank" rel="noopener noreferrer">resolveDynamicImport<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>。 Next Hook: <a href="https://rollupjs.org/guide/en/#transform" target="_blank" rel="noopener noreferrer">transform<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> 转换加载的文件。</p><p>定义自定义加载器。返回 null 延迟到其他加载函数（以及最终从文件系统加载的默认行为）。为了防止额外的解析开销，例如由于某种原因，这个钩子已经使用 <code>this.parse</code> 来生成一个 AST，这个钩子可以选择返回一个 <code>{ code, ast, map }</code> 对象。 ast 必须是标准的 ESTree AST，每个节点都有开始和结束属性。如果转换不移动代码，您可以通过将 map 设置为 null 来保留现有的源映射。否则，您可能需要生成源映射。<a href="https://rollupjs.org/#source-code-transformations" target="_blank" rel="noopener noreferrer">请参阅有关源代码转换的部分<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>。</p><p>如果为 <code>moduleSideEffects</code> 返回 <code>false</code> 并且没有其他模块从该模块导入任何内容，则即使该模块有副作用，该模块也不会包含在包中。如果返回 <code>true</code>，Rollup 将使用其默认算法来包含模块中具有副作用（例如修改全局或导出变量）的所有语句。如果返回“<code>no-treeshake</code>”，则此模块的 <code>treeshaking</code> 将关闭，并且即使它为空，它也会包含在生成的块之一中。如果返回 null 或省略标志，则 <code>moduleSideEffects</code> 将由解析此模块的第一个 <code>resolveId</code> 钩子、<code>treeshake.moduleSideEffects</code> 选项确定，或最终默认为 <code>true</code>。变换钩子可以覆盖它。</p><p>关于 <code>syntheticNamedExports</code> 选项的效果，请参阅 <a href="https://rollupjs.org/guide/en/#synthetic-named-exports" target="_blank" rel="noopener noreferrer">syntheticNamedExports<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>。如果返回<code>null</code>或者省略该标志，那么<code>syntheticNamedExports</code>将由解析该模块的第一个<code>resolveId</code>钩子决定，或者最终默认为<code>false</code>。<code>transform</code>钩子可以覆盖这一点。</p><p>关于如何使用meta选项，请参阅<a href="https://rollupjs.org/guide/en/#custom-module-meta-data" target="_blank" rel="noopener noreferrer">自定义模块元数据<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>。如果这个钩子返回一个元对象，它将与由 resolveId 钩子返回的任何元对象进行浅层合并。如果没有钩子返回一个元对象，它将默认为一个空对象。transform钩子可以进一步添加或替换这个对象的属性。</p><p>你可以使用<a href="https://rollupjs.org/guide/en/#thisgetmoduleinfomoduleid-string--moduleinfo--null" target="_blank" rel="noopener noreferrer">this.getModuleInfo<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>来找出这个钩子里面的moduleSideEffects、syntheticNamedExports和meta的前一个值。</p><h4 id="moduleparsed" tabindex="-1"><a class="header-anchor" href="#moduleparsed" aria-hidden="true">#</a> moduleParsed</h4><p>Type: (moduleInfo: ModuleInfo) =&gt; void Kind: async, parallel Previous Hook: <a href="https://rollupjs.org/guide/en/#transform" target="_blank" rel="noopener noreferrer">transform<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>当前处理的文件的转换位置 NextHook: <a href="https://rollupjs.org/guide/en/#resolveid" target="_blank" rel="noopener noreferrer">resolveId<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>和<a href="https://rollupjs.org/guide/en/#resolvedynamicimport" target="_blank" rel="noopener noreferrer">resolveDynamicImport<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>来解决所有发现的静态和动态导入（如果存在），否则<a href="https://rollupjs.org/guide/en/#buildend" target="_blank" rel="noopener noreferrer">buildEnd<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>。</p><p>每次 Rollup 完全解析模块时都会调用此钩子。有关传递给此钩子的信息，请参阅 <a href="https://rollupjs.org/guide/en/#thisgetmoduleinfomoduleid-string--moduleinfo--null" target="_blank" rel="noopener noreferrer">this.getModuleInfo<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>。</p><p>与<a href="https://rollupjs.org/guide/en/#transform" target="_blank" rel="noopener noreferrer">转换<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>钩子相反，这个钩子从不被缓存，可以用来获取缓存和其他模块的信息，包括元属性的最终形状、代码和星号。</p><p>请注意，这个钩子中还没有关于导入模块的信息，而且关于导入模块的信息可能是不完整的，因为后来可能会发现更多的导入者。如果你需要这些信息，请使用<a href="https://rollupjs.org/guide/en/#buildend" target="_blank" rel="noopener noreferrer">buildEnd<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>钩子。</p><h4 id="options" tabindex="-1"><a class="header-anchor" href="#options" aria-hidden="true">#</a> options</h4><p>Type: (options: InputOptions) =&gt; InputOptions | null Kind: async, sequential Previous Hook: 这是构建阶段的第一个钩子。 Next Hook: <a href="https://rollupjs.org/guide/en/#buildstart" target="_blank" rel="noopener noreferrer">buildStart<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p>替换或操作传递给rollup.rollup的选项对象。返回null不会替换任何东西。如果你只需要读取选项，建议使用<a href="https://rollupjs.org/guide/en/#buildstart" target="_blank" rel="noopener noreferrer">buildStart<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>钩子，因为该钩子可以在考虑到所有选项钩子的转换后访问选项。</p><p>这是唯一不能访问大多数插件上下文<a href="https://rollupjs.org/guide/en/#plugin-context" target="_blank" rel="noopener noreferrer">实用功能<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>的钩子，因为它是在rollup完全配置之前运行的。</p><h4 id="resolvedynamicimport" tabindex="-1"><a class="header-anchor" href="#resolvedynamicimport" aria-hidden="true">#</a> resolveDynamicImport</h4><p>Type: (specifier: string | ESTree.Node, importer: string) =&gt; string | false | null | {id: string, external?: boolean} Kind: async, first Previous Hook: 为导入文件<a href="https://rollupjs.org/guide/en/#moduleparsed" target="_blank" rel="noopener noreferrer">解析模块<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>。 Next Hook: 如果钩子解决了一个尚未加载的id，则为<a href="https://rollupjs.org/guide/en/#load" target="_blank" rel="noopener noreferrer">load<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>；如果动态导入包含一个字符串，且未被钩子解决，则为<a href="https://rollupjs.org/guide/en/#resolveid" target="_blank" rel="noopener noreferrer">resolveId<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>；否则为<a href="https://rollupjs.org/guide/en/#buildend" target="_blank" rel="noopener noreferrer">buildEnd<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>。</p><p>定义了一个用于动态导入的自定义解析器。返回 false 表示导入应该保持原样，不被传递给其他解析器，从而使其成为外部的。与 <a href="https://rollupjs.org/guide/en/#resolveid" target="_blank" rel="noopener noreferrer">resolveId<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> 钩子类似，你也可以返回一个对象来将导入解析为一个不同的 id，同时将其标记为外部。</p><p>如果一个动态导入被传递一个字符串作为参数，从这个钩子返回的字符串将被解释为一个现有的模块ID，而返回null将推迟到其他解析器并最终到resolveId。</p><p>如果动态导入没有传递一个字符串作为参数，这个钩子就会获得原始AST节点的分析权，并在以下方面表现得略有不同。</p><ul><li><p>如果所有的插件都返回null，则导入被视为<code>外部的</code>，没有警告。</p></li><li><p>如果返回一个字符串，这个字符串不会被解释为模块ID，而是被用作import参数的替代。确保生成的代码是有效的，这是插件的责任。</p></li><li><p>为了解决这样一个导入现有模块的问题，你仍然可以返回一个对象<code>{id, external}</code>。</p></li></ul><p>请注意，这个钩子的返回值之后不会传递给 <code>resolveId</code>；如果你需要访问静态解析算法，你可以在插件上下文上使用 <a href="https://rollupjs.org/guide/en/#thisresolvesource-string-importer-string-options-skipself-boolean-custom-plugin-string-any--promiseid-string-external-boolean--absolute-modulesideeffects-boolean--no-treeshake-syntheticnamedexports-boolean--string-meta-plugin-string-any--null" target="_blank" rel="noopener noreferrer">this.resolve(source, importer)<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> 。</p><h4 id="resolveid" tabindex="-1"><a class="header-anchor" href="#resolveid" aria-hidden="true">#</a> resolveId</h4><p>Type: (source: string, importer: string | undefined, options: {custom?: {[plugin: string]: any}) =&gt; string | false | null | {id: string, external?: boolean | &quot;relative&quot; | &quot;absolute&quot;, moduleSideEffects?: boolean | &quot;no-treeshake&quot; | null, syntheticNamedExports?: boolean | string | null, meta?: {[plugin: string]: any} | null} Kind: async, first Previous Hook: 如果我们正在解决一个入口点，则使用<a href="https://rollupjs.org/guide/en/#buildstart" target="_blank" rel="noopener noreferrer">buildStart<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>；如果我们正在解决一个导入，则使用<a href="https://rollupjs.org/guide/en/#moduleparsed" target="_blank" rel="noopener noreferrer">moduleParsed<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>；或者作为<a href="https://rollupjs.org/guide/en/#resolvedynamicimport" target="_blank" rel="noopener noreferrer">resolveDynamicImport<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>的回退。此外，这个钩子可以在构建阶段通过调用<a href="https://rollupjs.org/guide/en/#thisemitfileemittedfile-emittedchunk--emittedasset--string" target="_blank" rel="noopener noreferrer">this.emitFile<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>来触发一个入口点，或者在任何时候通过调用<a href="https://rollupjs.org/guide/en/#thisresolvesource-string-importer-string-options-skipself-boolean-custom-plugin-string-any--promiseid-string-external-boolean--absolute-modulesideeffects-boolean--no-treeshake-syntheticnamedexports-boolean--string-meta-plugin-string-any--null" target="_blank" rel="noopener noreferrer">this.resolve<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>来手动解析一个id。 Next Hook: 如果解决了尚未<a href="https://rollupjs.org/guide/en/#load" target="_blank" rel="noopener noreferrer">加载<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>的id，则加载，否则<a href="https://rollupjs.org/guide/en/#buildend" target="_blank" rel="noopener noreferrer">buildEnd<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>。</p><p>定义了一个自定义的解析器。解析器对于定位第三方的依赖关系等非常有用。这里的source是指导入者，与导入语句中写的完全一样，也就是说，对于</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> foo <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;../bar.js&#39;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>源将是“../bar.js”“。</p><p><code>importer</code>是导入模块的完全解析id。当解析入口点时，importer将是未定义的。例如，你可以把它作为一种机制，为入口点定义自定义代理模块。</p><p>下面的插件将只从入口点暴露默认的出口，同时仍然保持命名的出口可用于内部使用。</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">async</span> <span class="token function">resolveId</span><span class="token punctuation">(</span><span class="token parameter">source<span class="token punctuation">,</span>importer</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>importer<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// We need to skip this plugin to avoid an infinite loop</span>
    <span class="token keyword">const</span> resolution <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>source<span class="token punctuation">,</span> <span class="token keyword">undefined</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">skipSelf</span><span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// If it cannot be resolved, return `null` so that Rollup displays an error</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>resolution<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>resolution<span class="token punctuation">.</span>id<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">?entry-proxy</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token function">load</span><span class="token punctuation">(</span><span class="token parameter">id</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>id<span class="token punctuation">.</span><span class="token function">endsWith</span><span class="token punctuation">(</span><span class="token string">&#39;?entry-proxy&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> importee <span class="token operator">=</span> id<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token string">&#39;?entry-proxy&#39;</span><span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// Note that this will throw if there is no default export</span>
    <span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">export {default} from &#39;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>importee<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&#39;;</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>返回<code>null</code>会推迟到其他的<code>resolveId</code>函数，最终是默认的解析行为。返回 <code>false</code> 表示 <code>source</code> 应该被视为外部模块而不包括在捆绑包中。如果这发生在相对导入的情况下，id将被重新规范化，与使用外部选项时的方式相同。</p><p>如果你返回一个对象，那么就有可能将一个导入解析为一个不同的id，同时将其从捆绑中排除。这允许你用外部依赖替换依赖，而不需要用户通过外部选项手动将其标记为 &quot;<code>外部</code>&quot;。</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token function">resolveId</span><span class="token punctuation">(</span><span class="token parameter">source</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>source <span class="token operator">===</span> <span class="token string">&#39;my-dependency&#39;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span><span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token string">&#39;my-dependency-develop&#39;</span><span class="token punctuation">,</span> <span class="token literal-property property">external</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>如果<code>external</code>为真，那么绝对id将根据用户对<a href="https://rollupjs.org/guide/en/#makeabsoluteexternalsrelative" target="_blank" rel="noopener noreferrer">makeAbsoluteExternalsRelative<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>选项的选择被转换为相对id。这个选择可以通过传递<code>external: &quot;relative &quot;</code>来始终将绝对id转换为相对<code>id</code>，或者将<code>external: &quot;absolute &quot;</code>来保持它是一个绝对id。当返回一个对象时，相对的外部id，即以./或./开头的id，将不会被内部转换为绝对id，并在输出中转换为相对id，而是不变地包含在输出中。如果你想让相对的id被重新规范化和重复利用，请返回一个绝对的文件系统位置作为id并选择<code>external: &quot;relative&quot;</code>。</p><p>如果在第一个解析模块ID的钩子中，<code>moduleSideEffects</code>返回<code>false</code>，并且没有其他模块从这个模块导入任何东西，那么即使这个模块会有副作用，也不会被包括在内。如果返回 &quot;true&quot;，Rollup将使用其默认算法，包括该模块中所有有副作用的语句（如修改全局或导出的变量）。如果返回 &quot;no-treeshake&quot;，这个模块的树形处理将被关闭，即使它是空的，也会被包含在一个生成的块中。如果返回null或者省略该标志，那么moduleSideEffects将由<code>treeshake.moduleSideEffects</code>选项决定或者默认为true。<code>加载</code>和转换钩子可以覆盖这一点。</p><p>请参阅<a href="https://rollupjs.org/guide/en/#synthetic-named-exports" target="_blank" rel="noopener noreferrer">SyntheticnamedExports<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>选项的效果的合成名称导出。如果返回<code>null</code>或省略标志，则<code>SyntheticnamedExports</code>将默认为<code>false</code>。负载和变换钩可以覆盖此。</p><p>关于如何<a href="https://rollupjs.org/guide/en/#custom-module-meta-data" target="_blank" rel="noopener noreferrer">使用meta选项<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>，请参阅自定义模块元数据。如果返回null或者省略了该选项，那么meta将默认为一个空对象。加载和转换钩子可以添加或替换这个对象的属性。</p><p>当通过<a href="https://rollupjs.org/guide/en/#thisresolvesource-string-importer-string-options-skipself-boolean-custom-plugin-string-any--promiseid-string-external-boolean--absolute-modulesideeffects-boolean--no-treeshake-syntheticnamedexports-boolean--string-meta-plugin-string-any--null" target="_blank" rel="noopener noreferrer">this.resolve(source, importer, options)<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>从一个插件触发这个钩子时，可以向这个钩子传递一个自定义选项对象。虽然这个对象将被传递，未经修改，但插件应该遵循惯例，用一个对象添加一个自定义属性，其中的键对应于选项所针对的插件的名称。详情见<a href="https://rollupjs.org/guide/en/#custom-resolver-options" target="_blank" rel="noopener noreferrer">自定义解析器选项<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>。</p><h4 id="transform" tabindex="-1"><a class="header-anchor" href="#transform" aria-hidden="true">#</a> transform</h4><p>Type: <code>(code: string, id: string) =&gt; string | null | {code?: string, map?: string | SourceMap, ast? : ESTree.Program, moduleSideEffects?: boolean | &quot;no-treeshake&quot; | null, syntheticNamedExports?: boolean | string | null, meta?: {[plugin: string]: any} | null}</code> Kind: <code>async</code>, <code>sequential</code> Previous Hook: <a href="https://rollupjs.org/guide/en/#load" target="_blank" rel="noopener noreferrer">加载<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>当前处理的文件的加载位置。 NextHook: <a href="https://rollupjs.org/guide/en/#moduleparsed" target="_blank" rel="noopener noreferrer">moduleParsed<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> 一旦文件被处理和解析。</p><p>可以用来转换单个模块。为了防止额外的解析开销，例如这个钩子已经因为某些原因使用<code>this.parse</code>来生成AST，这个钩子可以选择返回一个<code>{ code, ast, map }</code>对象。<code>ast</code>必须是一个标准的<code>ESTree AST</code>，每个节点都有开始和结束属性。如果转换不移动代码，你可以通过将map设置为null来保留现有的源映射。否则你可能需要生成源码图。参见<a href="https://rollupjs.org/#source-code-transformations" target="_blank" rel="noopener noreferrer">源代码转换部分<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>。</p><p>请注意，在监视模式下，此钩子的结果在重建时会被缓存，并且仅当模块的<code>代码</code>已更改或上次通过 <code>this.addWatchFile</code> 添加的文件已更改时，才会为模块 ID 再次触发此钩子为该模块触发了钩子。</p><p>您还可以使用返回值的对象形式来配置模块的附加属性。请注意，可以只返回属性而不返回代码转换。</p><p>如果为 <code>moduleSideEffects</code> 返回 <code>false</code> 并且没有其他模块从该模块导入任何内容，则即使该模块有副作用，也不会包含该模块。</p><p>如果返回 <code>true</code>，<code>Rollup</code> 将使用其默认算法来包含模块中具有副作用（例如修改全局或导出变量）的所有语句。</p><p>如果返回<code>“no-treeshake”</code>，则此模块的 <code>treeshaking</code> 将关闭，并且即使它为空，它也会包含在生成的块之一中。</p><p>如果返回<code>null</code>或省略标志，则<code>ModulesIDeeFfects</code>将由加载此模块的加载钩确定，该挂钩解析此模块的第一个解析挂钩，<code>treeshake.modulesideefects</code>选项，或最终默认为<code>true</code>。</p><p>关于 <a href="https://rollupjs.org/guide/en/#synthetic-named-exports" target="_blank" rel="noopener noreferrer">synthetic named exports<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> 选项的效果，请看 <code>syntheticNamedExports</code>。如果返回<code>null</code>或者省略该标志，那么<code>syntheticNamedExports</code>将由加载该模块的<code>load hook</code>、解析该模块的第一个<code>resolveId hook</code>、<code>treeshake.moduleSideEffects</code>选项决定，或者最终默认为<code>false</code>。</p><p>请参阅<a href="https://rollupjs.org/guide/en/#custom-module-meta-data" target="_blank" rel="noopener noreferrer">自定义模块元数据<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>，了解如何使用<code>元选项</code>。如果返回NULL或省略选项，则<code>META</code>将由加载此模块的负载挂钩确定，该挂钩解决此模块的第一个解析挂钩或最终默认为空对象。</p><p>你可以使用<a href="https://rollupjs.org/guide/en/#thisgetmoduleinfomoduleid-string--moduleinfo--null" target="_blank" rel="noopener noreferrer">this.getModuleInfo<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>来找出这个钩子里面的<code>moduleSideEffects</code>、<code>syntheticNamedExports</code>和<code>meta</code>的前一个值。</p><h4 id="watchchange" tabindex="-1"><a class="header-anchor" href="#watchchange" aria-hidden="true">#</a> watchChange</h4><p>Type: <code>watchChange: (id: string, change: {event: &#39;create&#39; | &#39;update&#39; | &#39;delete&#39;}) =&gt; void</code> Kind: <code>sync</code>, <code>sequential</code> Previous/Next Hook: 这个钩子可以在构建和输出生成阶段的任何时候被触发。如果是这种情况，当前的构建仍将继续进行，但一旦当前的构建完成，新的构建将被安排开始，从<a href="https://rollupjs.org/guide/en/#options" target="_blank" rel="noopener noreferrer">选项<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>中重新开始。</p><h3 id="output-generation-hooks" tabindex="-1"><a class="header-anchor" href="#output-generation-hooks" aria-hidden="true">#</a> Output Generation Hooks</h3><p><a href="https://rollupjs.org/guide/en/#output-generation-hooks" target="_blank" rel="noopener noreferrer">rollup<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p></div><!--[--><!--]--></div><footer class="page-meta"><!----><div class="meta-item last-updated"><span class="meta-item-label">Last Updated: </span><!----></div><div class="meta-item contributors"><span class="meta-item-label">Contributors: </span><span class="meta-item-info"><!--[--><!--[--><span class="contributor" title="email: suiyi19920228@qq.com">suiyi</span><!----><!--]--><!--]--></span></div></footer><!----><!--[--><!--]--></main><!--]--></div><!----><!--]--></div>
    <script type="module" src="/notes/assets/app.013e756e.js" defer></script>
  </body>
</html>
