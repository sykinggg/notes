(window.webpackJsonp=window.webpackJsonp||[]).push([[607],{1086:function(t,s,a){"use strict";a.r(s);var _=a(1),v=Object(_.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"项目性能优化"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#项目性能优化"}},[t._v("#")]),t._v(" 项目性能优化")]),t._v(" "),a("hr"),t._v(" "),a("h2",{attrs:{id:"_1-编码优化"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-编码优化"}},[t._v("#")]),t._v(" "),a("strong",[t._v("1. 编码优化")])]),t._v(" "),a("p",[t._v("编码优化，指的就是 在代码编写时的，通过一些 "),a("strong",[t._v("最佳实践")]),t._v("，提升代码的执行性能。通常这并不会带来非常大的收益，但这属于 程序猿的自修养，而且这也是面试中经常被问到的一个方面，考察自管理与细节的处理。")]),t._v(" "),a("ul",[a("li",[a("p",[a("strong",[t._v("数据读取")]),t._v(":")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("通过"),a("code",[t._v("作用域链")]),t._v(" / "),a("code",[t._v("原型链")]),t._v(" 读取变量或方法时，需要更多的耗时，且越长越慢；")])]),t._v(" "),a("li",[a("p",[t._v("对象嵌套越深，读取值也越慢；")])]),t._v(" "),a("li",[a("p",[a("strong",[t._v("最佳实践")]),t._v(":")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("尽量在局部作用域中进行 "),a("strong",[t._v("变量缓存")]),t._v("；")])]),t._v(" "),a("li",[a("p",[t._v("避免嵌套过深的数据结构，"),a("strong",[t._v("数据扁平化")]),t._v(" 有利于数据的读取和维护；")])])])])])]),t._v(" "),a("li",[a("p",[t._v("循环: 循环通常是编码性能的关键点；")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("代码的性能问题会再循环中被指数倍放大；")])]),t._v(" "),a("li",[a("p",[a("strong",[t._v("最佳实践")]),t._v(":")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("尽可能 "),a("strong",[t._v("减少循环次数")]),t._v("；")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("减少遍历的数据量；")])]),t._v(" "),a("li",[a("p",[t._v("完成目的后马上结束循环；")])])])]),t._v(" "),a("li",[a("p",[t._v("避免在循环中执行大量的运算，避免重复计算，相同的执行结果应该使用缓存；")])]),t._v(" "),a("li",[a("p",[t._v("js 中使用 "),a("strong",[t._v("倒序循环")]),t._v(" 会略微提升性能；")])]),t._v(" "),a("li",[a("p",[t._v("尽量避免使用 for-in 循环，因为它会枚举原型对象，耗时大于普通循环；")])])])])])]),t._v(" "),a("li",[a("p",[a("strong",[t._v("条件流程性能")]),t._v(": "),a("code",[t._v("Map")]),t._v(" / "),a("code",[t._v("Object")]),t._v(" > "),a("code",[t._v("switch")]),t._v(" > "),a("code",[t._v("if-else")])])])]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 使用 if-else")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("type "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("type "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("type "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 使用 switch")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("switch")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("type"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("case")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("\n\t\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("break")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("case")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("\n\t\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("break")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("case")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("\n\t\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("break")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("break")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 使用 Map")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" map "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Map")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nmap"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("get")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("type"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 使用 Objext")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" obj "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\nobj"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("type"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("ul",[a("li",[a("p",[a("strong",[t._v("减少 cookie 体积")]),t._v(": 能有效减少每次请求的体积和响应时间；")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("去除不必要的 "),a("code",[t._v("cookie")]),t._v("；")])]),t._v(" "),a("li",[a("p",[t._v("压缩 "),a("code",[t._v("cookie")]),t._v(" 大小；")])]),t._v(" "),a("li",[a("p",[t._v("设置 "),a("code",[t._v("domain")]),t._v(" 与 过期时间；")])])])]),t._v(" "),a("li",[a("p",[a("strong",[t._v("dom 优化")]),t._v(":")]),t._v(" "),a("ul",[a("li",[a("p",[a("strong",[t._v("减少访问 dom 的次数")]),t._v("，如需多次，将 dom 缓存于变量中；")])]),t._v(" "),a("li",[a("p",[a("strong",[t._v("减少重绘与回流")]),t._v(":")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("多次操作合并为一次；")])]),t._v(" "),a("li",[a("p",[t._v("减少对计算属性的访问；")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("例如 offsetTop， getComputedStyle 等")])]),t._v(" "),a("li",[a("p",[t._v("因为浏览器需要获取最新准确的值，因此必须立即进行重排，这样会破坏了浏览器的队列整合，尽量将值进行缓存使用；")])])])]),t._v(" "),a("li",[a("p",[t._v("大量操作时，可将 dom 脱离文档流或者隐藏，待操作完成后再重新恢复；")])]),t._v(" "),a("li",[a("p",[t._v("使用"),a("code",[t._v("DocumentFragment")]),t._v(" / "),a("code",[t._v("cloneNode")]),t._v(" / "),a("code",[t._v("replaceChild")]),t._v("进行操作；")])])])]),t._v(" "),a("li",[a("p",[t._v("使用事件委托，避免大量的事件绑定；")])])])]),t._v(" "),a("li",[a("p",[a("strong",[t._v("css 优化")]),t._v(":")]),t._v(" "),a("ul",[a("li",[a("p",[a("strong",[t._v("层级扁平")]),t._v("，避免过于多层级的选择器嵌套；")])]),t._v(" "),a("li",[a("p",[a("strong",[t._v("特定的选择器")]),t._v(" 好过一层一层查找:  .xxx-child-text{} 优于 .xxx .child .text{}")])]),t._v(" "),a("li",[a("p",[a("strong",[t._v("减少使用通配符与属性选择器")]),t._v("；")])]),t._v(" "),a("li",[a("p",[a("strong",[t._v("减少不必要的多余属性")]),t._v("；")])]),t._v(" "),a("li",[a("p",[t._v("使用 "),a("strong",[t._v("动画属性")]),t._v(" 实现动画，动画时脱离文档流，开启硬件加速，优先使用 css 动画；")])]),t._v(" "),a("li",[a("p",[t._v("使用 "),a("code",[t._v("<link>")]),t._v(" 替代原生 "),a("code",[t._v("@import")]),t._v("；")])])])]),t._v(" "),a("li",[a("p",[a("strong",[t._v("html 优化")]),t._v(":")]),t._v(" "),a("ul",[a("li",[a("p",[a("strong",[t._v("减少 dom 数量")]),t._v("，避免不必要的节点或嵌套；")])]),t._v(" "),a("li",[a("p",[a("strong",[t._v("避免"),a("code",[t._v('<img src="" />')]),t._v("空标签")]),t._v("，能减少服务器压力，因为 src 为空时，浏览器仍然会发起请求")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("IE 向页面所在的目录发送请求；")])]),t._v(" "),a("li",[a("p",[t._v("Safari、Chrome、Firefox 向页面本身发送请求；")])]),t._v(" "),a("li",[a("p",[t._v("Opera 不执行任何操作。")])])])]),t._v(" "),a("li",[a("p",[t._v("图片提前 "),a("strong",[t._v("指定宽高")]),t._v(" 或者 "),a("strong",[t._v("脱离文档流")]),t._v("，能有效减少因图片加载导致的页面回流；")])]),t._v(" "),a("li",[a("p",[a("strong",[t._v("语义化标签")]),t._v(" 有利于 SEO 与浏览器的解析时间；")])]),t._v(" "),a("li",[a("p",[t._v("减少使用 table 进行布局，避免使用"),a("code",[t._v("<br />")]),t._v("与"),a("code",[t._v("<hr />")]),t._v("；")])])])])]),t._v(" "),a("h2",{attrs:{id:"_2-页面基础优化"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-页面基础优化"}},[t._v("#")]),t._v(" "),a("strong",[t._v("2. 页面基础优化")])]),t._v(" "),a("ul",[a("li",[a("p",[a("strong",[t._v("引入位置")]),t._v(": css 文件"),a("code",[t._v("<head>")]),t._v("中引入， js 文件"),a("code",[t._v("<body>")]),t._v("底部引入；")]),t._v(" "),a("ul",[a("li",[t._v("影响首屏的，优先级很高的 js 也可以头部引入，甚至内联；")])])]),t._v(" "),a("li",[a("p",[a("strong",[t._v("减少请求")]),t._v(" (http 1.0 - 1.1)，合并请求，正确设置 http 缓存；")])]),t._v(" "),a("li",[a("p",[a("strong",[t._v("减少文件体积")]),t._v(":")]),t._v(" "),a("ul",[a("li",[a("p",[a("strong",[t._v("删除多余代码")]),t._v(":")]),t._v(" "),a("ul",[a("li",[a("p",[a("code",[t._v("tree-shaking")])])]),t._v(" "),a("li",[a("p",[a("code",[t._v("UglifyJs")])])]),t._v(" "),a("li",[a("p",[a("code",[t._v("code-spliting")])])])])]),t._v(" "),a("li",[a("p",[a("strong",[t._v("混淆")]),t._v(" / "),a("strong",[t._v("压缩代码")]),t._v("，开启 gzip 压缩；")])]),t._v(" "),a("li",[a("p",[a("strong",[t._v("多份编译文件按条件引入")]),t._v(":")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("针对现代浏览器直接给 ES6 文件，只针对低端浏览器引用编译后的 ES5 文件；")])]),t._v(" "),a("li",[a("p",[t._v("可以利用"),a("code",[t._v('<script type="module">')]),t._v(" / "),a("code",[t._v('<script type="module">')]),t._v("进行条件引入用")])])])]),t._v(" "),a("li",[a("p",[a("strong",[t._v("动态 polyfill")]),t._v("，只针对不支持的浏览器引入 polyfill；")])])])]),t._v(" "),a("li",[a("p",[a("strong",[t._v("图片优化")]),t._v(":")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("根据业务场景，与UI探讨选择 "),a("strong",[t._v("合适质量")]),t._v("，"),a("strong",[t._v("合适尺寸")]),t._v("；")])]),t._v(" "),a("li",[a("p",[t._v("根据需求和平台，选择 "),a("strong",[t._v("合适格式")]),t._v("，例如非透明时可用 jpg；非苹果端，使用 webp；")])]),t._v(" "),a("li",[a("p",[t._v("小图片合成 "),a("code",[t._v("雪碧图")]),t._v("，低于 5K 的图片可以转换成 "),a("code",[t._v("base64")]),t._v(" 内嵌；")])]),t._v(" "),a("li",[a("p",[t._v("合适场景下，使用 "),a("code",[t._v("iconfont")]),t._v(" 或者 "),a("code",[t._v("svg")]),t._v("；")])])])]),t._v(" "),a("li",[a("p",[a("strong",[t._v("使用缓存")]),t._v(":")]),t._v(" "),a("ul",[a("li",[a("p",[a("strong",[t._v("浏览器缓存")]),t._v(": 通过设置请求的过期时间，合理运用浏览器缓存；")])]),t._v(" "),a("li",[a("p",[a("strong",[t._v("CDN缓存")]),t._v(": 静态文件合理使用 CDN 缓存技术；")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("HTML 放于自己的服务器上；")])]),t._v(" "),a("li",[a("p",[t._v("打包后的图片 / js / css 等资源上传到 CDN 上，文件带上 hash 值；")])]),t._v(" "),a("li",[a("p",[t._v("由于浏览器对单个域名请求的限制，可以将资源放在多个不同域的 CDN 上，可以绕开该限制；")])])])]),t._v(" "),a("li",[a("p",[a("strong",[t._v("服务器缓存")]),t._v(": 将不变的数据、页面缓存到 内存 或 远程存储(redis等) 上；")])]),t._v(" "),a("li",[a("p",[a("strong",[t._v("数据缓存")]),t._v(": 通过各种存储将不常变的数据进行缓存，缩短数据的获取时间；")])])])])]),t._v(" "),a("h2",{attrs:{id:"_3-首屏渲染优化"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-首屏渲染优化"}},[t._v("#")]),t._v(" "),a("strong",[t._v("3. 首屏渲染优化")])]),t._v(" "),a("ul",[a("li",[a("p",[a("strong",[t._v("css / js 分割")]),t._v("，使首屏依赖的文件体积最小，内联首屏关键 css / js；")])]),t._v(" "),a("li",[a("p",[t._v("非关键性的文件尽可能的 "),a("code",[t._v("异步加载")]),t._v("和"),a("code",[t._v("懒加载")]),t._v("，避免阻塞首页渲染；")])]),t._v(" "),a("li",[a("p",[t._v("使用"),a("code",[t._v("dns-prefetch")]),t._v(" / "),a("code",[t._v("preconnect")]),t._v(" / "),a("code",[t._v("prefetch")]),t._v(" / "),a("code",[t._v("preload")]),t._v("等浏览器提供的资源提示，加快文件传输；")])]),t._v(" "),a("li",[a("p",[t._v("谨慎控制好 "),a("strong",[t._v("Web字体")]),t._v("，一个大字体包足够让功亏一篑；")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("控制字体包的加载时机；")])]),t._v(" "),a("li",[a("p",[t._v("如果使用的字体有限，那尽可能只将使用的文字单独打包，能有效减少体积；")])])])]),t._v(" "),a("li",[a("p",[t._v("合理利用 Localstorage / server-worker 等存储方式进行 "),a("strong",[t._v("数据与资源缓存")]),t._v("；")])]),t._v(" "),a("li",[a("p",[a("strong",[t._v("分清轻重缓急")]),t._v(":")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("重要的元素优先渲染；")])]),t._v(" "),a("li",[a("p",[t._v("视窗内的元素优先渲染；")])])])]),t._v(" "),a("li",[a("p",[a("strong",[t._v("服务端渲染(SSR)")]),t._v(":")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("减少首屏需要的数据量，剔除冗余数据和请求；")])]),t._v(" "),a("li",[a("p",[t._v("控制好缓存，对数据/页面进行合理的缓存；")])]),t._v(" "),a("li",[a("p",[t._v("页面的请求使用流的形式进行传递；")])])])]),t._v(" "),a("li",[a("p",[a("strong",[t._v("优化用户感知")]),t._v(":")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("利用一些动画 "),a("code",[t._v("过渡效果")]),t._v("，能有效减少用户对卡顿的感知；")])]),t._v(" "),a("li",[a("p",[t._v("尽可能利用 "),a("code",[t._v("骨架屏(Placeholder)")]),t._v(" / "),a("code",[t._v("Loading")]),t._v(" 等减少用户对白屏的感知；")])]),t._v(" "),a("li",[a("p",[t._v("动画帧数尽量保证在 "),a("code",[t._v("30帧")]),t._v(" 以上，低帧数、卡顿的动画宁愿不要；")])]),t._v(" "),a("li",[a("p",[t._v("js 执行时间避免超过 "),a("code",[t._v("100ms")]),t._v("，超过的话就需要做:")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("寻找可 "),a("code",[t._v("缓存")]),t._v(" 的点；")])]),t._v(" "),a("li",[a("p",[t._v("任务的 "),a("code",[t._v("分割异步")]),t._v(" 或 "),a("code",[t._v("web worker")]),t._v(" 执行；")])])])])])])])])}),[],!1,null,null,null);s.default=v.exports}}]);