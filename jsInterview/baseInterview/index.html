<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>第一套js综合基础面试题 | 前端 学习</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.7.1/katex.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/github-markdown-css/2.10.0/github-markdown.min.css">
    <link rel="manifest" href="/notes/manifest.webmanifest" crossorigin="use-credentials">
    <meta name="description" content="君子藏器于身 待时而动 天下有道则见 无道则隐">
    <meta property="og:url" content="/notes/jsInterview/baseInterview.html">
    <meta property="og:site_name" content="前端 学习">
    <meta property="og:title" content="第一套js综合基础面试题">
    <meta property="og:description" content="第一套js综合基础面试题 1. 原型 / 构造函数 / 实例 --- 原型(prototype): 一个简单的对象，用于实现对象的 属性继承。可以简单的理解成对象的爹。在 Firefox 和 Chrome 中，每个JavaScript对象中都包含一个proto (非标准)的属性指向它爹(该对象的原型)，可obj.proto进行访问。; 构造函数: 可以通过n">
    <meta property="og:type" content="article">
    <meta property="og:locale" content="en-US">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image:alt" content="前端 学习">
    <meta property="article:author" content="sy">
    <meta name="theme-color" content="#46bd87">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
    
    <link rel="preload" href="/notes/assets/css/0.styles.5a16df27.css" as="style"><link rel="preload" href="/notes/assets/js/app.2a7b403f.js" as="script"><link rel="preload" href="/notes/assets/js/vendors~layout-Layout.bad6b0ac.js" as="script"><link rel="preload" href="/notes/assets/js/vendors~layout-Blog~layout-Layout~layout-NotFound.f2412bde.js" as="script"><link rel="preload" href="/notes/assets/js/page-第一套js综合基础面试题.d70ec353.js" as="script"><link rel="preload" href="/notes/assets/js/vendors~layout-Blog~layout-Layout~layout-NotFound~layout-Slide.8a19680c.js" as="script"><link rel="prefetch" href="/notes/assets/js/645.8af7b421.js"><link rel="prefetch" href="/notes/assets/js/646.9cbbad1b.js"><link rel="prefetch" href="/notes/assets/js/647.5679ee0c.js"><link rel="prefetch" href="/notes/assets/js/layout-Blog.eb05d08e.js"><link rel="prefetch" href="/notes/assets/js/layout-Layout.a53d4054.js"><link rel="prefetch" href="/notes/assets/js/layout-NotFound.932ab794.js"><link rel="prefetch" href="/notes/assets/js/layout-Slide.716eb990.js"><link rel="prefetch" href="/notes/assets/js/page-$mount.2abe53f3.js"><link rel="prefetch" href="/notes/assets/js/page--0036d571.2c479ddc.js"><link rel="prefetch" href="/notes/assets/js/page--022ad8a1.d68e66b4.js"><link rel="prefetch" href="/notes/assets/js/page--049c9a9f.22556b8e.js"><link rel="prefetch" href="/notes/assets/js/page--050f4996.2c6297e0.js"><link rel="prefetch" href="/notes/assets/js/page--05ca34d9.0ea87582.js"><link rel="prefetch" href="/notes/assets/js/page--06138101.7abfc024.js"><link rel="prefetch" href="/notes/assets/js/page--078553ea.1046cdac.js"><link rel="prefetch" href="/notes/assets/js/page--07c5ad21.277dcbce.js"><link rel="prefetch" href="/notes/assets/js/page--07f0b7af.6be7bdb7.js"><link rel="prefetch" href="/notes/assets/js/page--08402fbe.1f0e575d.js"><link rel="prefetch" href="/notes/assets/js/page--0a137961.69c24388.js"><link rel="prefetch" href="/notes/assets/js/page--0b6292d3.3fb88369.js"><link rel="prefetch" href="/notes/assets/js/page--0b81571e.18165ff5.js"><link rel="prefetch" href="/notes/assets/js/page--0c7d4a27.eecf40eb.js"><link rel="prefetch" href="/notes/assets/js/page--0d936993.d19430ef.js"><link rel="prefetch" href="/notes/assets/js/page--0e573275.34395c8d.js"><link rel="prefetch" href="/notes/assets/js/page--0f2ef575.4fc1b4d8.js"><link rel="prefetch" href="/notes/assets/js/page--0fb13921.02521cc9.js"><link rel="prefetch" href="/notes/assets/js/page--0fe0372e.804ad64f.js"><link rel="prefetch" href="/notes/assets/js/page--10902ffe.32e9da79.js"><link rel="prefetch" href="/notes/assets/js/page--12bc566b.c5775f29.js"><link rel="prefetch" href="/notes/assets/js/page--135834a1.e129ceb2.js"><link rel="prefetch" href="/notes/assets/js/page--15961e72.0bd93e52.js"><link rel="prefetch" href="/notes/assets/js/page--17036b33.8ca26798.js"><link rel="prefetch" href="/notes/assets/js/page--172068b9.8ebfb996.js"><link rel="prefetch" href="/notes/assets/js/page--18126b85.12fb3413.js"><link rel="prefetch" href="/notes/assets/js/page--19a1b422.6a88783c.js"><link rel="prefetch" href="/notes/assets/js/page--1a00028a.a9cb4b98.js"><link rel="prefetch" href="/notes/assets/js/page--1c6aa5c2.6149c8b8.js"><link rel="prefetch" href="/notes/assets/js/page--1fece121.5b2b773e.js"><link rel="prefetch" href="/notes/assets/js/page--201cfbe1.fe0f9969.js"><link rel="prefetch" href="/notes/assets/js/page--2095282b.2114b91e.js"><link rel="prefetch" href="/notes/assets/js/page--21792c01.45b9398a.js"><link rel="prefetch" href="/notes/assets/js/page--226f1079.75a7e31c.js"><link rel="prefetch" href="/notes/assets/js/page--2518076e.c7d43e5e.js"><link rel="prefetch" href="/notes/assets/js/page--25cb6e5f.a11d0705.js"><link rel="prefetch" href="/notes/assets/js/page--2616bc7e.8a98e2b0.js"><link rel="prefetch" href="/notes/assets/js/page--27a556ad.f8c8101f.js"><link rel="prefetch" href="/notes/assets/js/page--27c21126.2e864756.js"><link rel="prefetch" href="/notes/assets/js/page--28435cbb.42ca783c.js"><link rel="prefetch" href="/notes/assets/js/page--28c148fe.9eeb8519.js"><link rel="prefetch" href="/notes/assets/js/page--2ae50662.53097b84.js"><link rel="prefetch" href="/notes/assets/js/page--2c665981.64d86697.js"><link rel="prefetch" href="/notes/assets/js/page--2d021821.892f11d3.js"><link rel="prefetch" href="/notes/assets/js/page--31799879.2122260c.js"><link rel="prefetch" href="/notes/assets/js/page--33b11326.b78e5e5c.js"><link rel="prefetch" href="/notes/assets/js/page--3477437b.73718d43.js"><link rel="prefetch" href="/notes/assets/js/page--34ad062f.1b0a4ffe.js"><link rel="prefetch" href="/notes/assets/js/page--357aec57.d32f42b3.js"><link rel="prefetch" href="/notes/assets/js/page--35f61a61.4a2711ed.js"><link rel="prefetch" href="/notes/assets/js/page--36897e27.925fabc8.js"><link rel="prefetch" href="/notes/assets/js/page--36b30161.120277bd.js"><link rel="prefetch" href="/notes/assets/js/page--377508c1.914c38d1.js"><link rel="prefetch" href="/notes/assets/js/page--3779bcfe.3f421261.js"><link rel="prefetch" href="/notes/assets/js/page--389d5da5.9567efe8.js"><link rel="prefetch" href="/notes/assets/js/page--38ef908f.8d4c0e77.js"><link rel="prefetch" href="/notes/assets/js/page--39c1a916.08f662d2.js"><link rel="prefetch" href="/notes/assets/js/page--39e34c63.63804bbe.js"><link rel="prefetch" href="/notes/assets/js/page--3bbd34b1.c2cdc0e6.js"><link rel="prefetch" href="/notes/assets/js/page--3d00ca45.a1cca1a3.js"><link rel="prefetch" href="/notes/assets/js/page--3d121781.0e9b8ed9.js"><link rel="prefetch" href="/notes/assets/js/page--3d5ab373.6490827f.js"><link rel="prefetch" href="/notes/assets/js/page--41d1702a.31247c34.js"><link rel="prefetch" href="/notes/assets/js/page--427db7c1.f97cf9be.js"><link rel="prefetch" href="/notes/assets/js/page--4365fcbe.53e21630.js"><link rel="prefetch" href="/notes/assets/js/page--466a516d.ad1b5757.js"><link rel="prefetch" href="/notes/assets/js/page--46f53541.7837d780.js"><link rel="prefetch" href="/notes/assets/js/page--4776c269.1f783f46.js"><link rel="prefetch" href="/notes/assets/js/page--4803a967.9db63a04.js"><link rel="prefetch" href="/notes/assets/js/page--48c4e433.66312ec3.js"><link rel="prefetch" href="/notes/assets/js/page--48f9c9d9.549f360a.js"><link rel="prefetch" href="/notes/assets/js/page--4a252f57.e22d15bf.js"><link rel="prefetch" href="/notes/assets/js/page--4b35cd6a.288d7e17.js"><link rel="prefetch" href="/notes/assets/js/page--4bd2c839.4fa90b31.js"><link rel="prefetch" href="/notes/assets/js/page--4be1980d.c6794c38.js"><link rel="prefetch" href="/notes/assets/js/page--4c3dfc92.d80647d1.js"><link rel="prefetch" href="/notes/assets/js/page--4c9b9bf3.98da5654.js"><link rel="prefetch" href="/notes/assets/js/page--4caf2956.be821505.js"><link rel="prefetch" href="/notes/assets/js/page--4df59ba1.8d40d239.js"><link rel="prefetch" href="/notes/assets/js/page--4dfb2a67.fc9b72c2.js"><link rel="prefetch" href="/notes/assets/js/page--4e2425dd.4465162a.js"><link rel="prefetch" href="/notes/assets/js/page--4eb2620a.227969e3.js"><link rel="prefetch" href="/notes/assets/js/page--4fd512b5.983274f8.js"><link rel="prefetch" href="/notes/assets/js/page--4ff1cd2e.c383df52.js"><link rel="prefetch" href="/notes/assets/js/page--505dfb41.7442abc1.js"><link rel="prefetch" href="/notes/assets/js/page--5293e923.27a5daa3.js"><link rel="prefetch" href="/notes/assets/js/page--5381ba01.df0bcdb6.js"><link rel="prefetch" href="/notes/assets/js/page--550b58e9.fecbc9d4.js"><link rel="prefetch" href="/notes/assets/js/page--564b24b3.a24050ea.js"><link rel="prefetch" href="/notes/assets/js/page--598867f3.96abbce5.js"><link rel="prefetch" href="/notes/assets/js/page--5be0cf2e.3809e728.js"><link rel="prefetch" href="/notes/assets/js/page--5c1b876b.d5b11f84.js"><link rel="prefetch" href="/notes/assets/js/page--60c3812d.dae70070.js"><link rel="prefetch" href="/notes/assets/js/page--6213086b.6c86cb32.js"><link rel="prefetch" href="/notes/assets/js/page--624c4841.60cdd7ff.js"><link rel="prefetch" href="/notes/assets/js/page--6389398f.5ced4b93.js"><link rel="prefetch" href="/notes/assets/js/page--6497f0a1.a3784ae2.js"><link rel="prefetch" href="/notes/assets/js/page--649d273e.9bab0aae.js"><link rel="prefetch" href="/notes/assets/js/page--663eaefe.21d55e07.js"><link rel="prefetch" href="/notes/assets/js/page--66f10201.5257daa6.js"><link rel="prefetch" href="/notes/assets/js/page--6877a3e2.bf4fd275.js"><link rel="prefetch" href="/notes/assets/js/page--6afe7ce1.2da62f33.js"><link rel="prefetch" href="/notes/assets/js/page--6cbf38e1.457e00da.js"><link rel="prefetch" href="/notes/assets/js/page--6ce92f3e.654df084.js"><link rel="prefetch" href="/notes/assets/js/page--6e597d21.94abe3d6.js"><link rel="prefetch" href="/notes/assets/js/page--6e740896.b537b3c1.js"><link rel="prefetch" href="/notes/assets/js/page--6f049967.27e55ed1.js"><link rel="prefetch" href="/notes/assets/js/page--6ff33237.231fff23.js"><link rel="prefetch" href="/notes/assets/js/page--70f1ad1b.dea159d2.js"><link rel="prefetch" href="/notes/assets/js/page--7458eaaa.7b7d771d.js"><link rel="prefetch" href="/notes/assets/js/page--746db89a.6a0d71d1.js"><link rel="prefetch" href="/notes/assets/js/page--762ae66f.66b45ecb.js"><link rel="prefetch" href="/notes/assets/js/page--78218936.db97f059.js"><link rel="prefetch" href="/notes/assets/js/page--7a6b8eb1.dc466aae.js"><link rel="prefetch" href="/notes/assets/js/page--7b0b14b7.1516d2ea.js"><link rel="prefetch" href="/notes/assets/js/page--7b24903e.05c8c0c9.js"><link rel="prefetch" href="/notes/assets/js/page--7c0f4619.73500221.js"><link rel="prefetch" href="/notes/assets/js/page--7c62eb01.4358ae9f.js"><link rel="prefetch" href="/notes/assets/js/page--7c8b8781.b9b447ec.js"><link rel="prefetch" href="/notes/assets/js/page--7d3b14f1.95b0dcd5.js"><link rel="prefetch" href="/notes/assets/js/page--7e94c3bb.71e1f972.js"><link rel="prefetch" href="/notes/assets/js/page--7fc7e4a1.b44a35f7.js"><link rel="prefetch" href="/notes/assets/js/page--82271b92.56975da8.js"><link rel="prefetch" href="/notes/assets/js/page--828e159e.db3c71af.js"><link rel="prefetch" href="/notes/assets/js/page--8cd36aaa.68a08647.js"><link rel="prefetch" href="/notes/assets/js/page--8e28d8be.981e16c5.js"><link rel="prefetch" href="/notes/assets/js/page--9009daaa.dc718bb2.js"><link rel="prefetch" href="/notes/assets/js/page--9230e83a.c0354b2d.js"><link rel="prefetch" href="/notes/assets/js/page--9fdba57e.de900d9c.js"><link rel="prefetch" href="/notes/assets/js/page--a051453e.eaaed1e0.js"><link rel="prefetch" href="/notes/assets/js/page--a1c4239e.071d21b8.js"><link rel="prefetch" href="/notes/assets/js/page--a8a8c1be.6a7b3ef8.js"><link rel="prefetch" href="/notes/assets/js/page--aabdd1a6.a3ee4544.js"><link rel="prefetch" href="/notes/assets/js/page--b0ec1952.895ab792.js"><link rel="prefetch" href="/notes/assets/js/page--b5901aa6.d6132350.js"><link rel="prefetch" href="/notes/assets/js/page--c185ca2a.8798050f.js"><link rel="prefetch" href="/notes/assets/js/page--c4cd30aa.20adbbb9.js"><link rel="prefetch" href="/notes/assets/js/page--cba59586.7ca00231.js"><link rel="prefetch" href="/notes/assets/js/page--cc19dc5e.8ae4d0e9.js"><link rel="prefetch" href="/notes/assets/js/page--cf39bd12.00a566dd.js"><link rel="prefetch" href="/notes/assets/js/page--d0d30f3e.a1fe2a3b.js"><link rel="prefetch" href="/notes/assets/js/page--d206ab7e.b229bf87.js"><link rel="prefetch" href="/notes/assets/js/page--d2ed8dae.27f2906a.js"><link rel="prefetch" href="/notes/assets/js/page--d676831e.65972e02.js"><link rel="prefetch" href="/notes/assets/js/page--d6d819fe.ad33e3e1.js"><link rel="prefetch" href="/notes/assets/js/page--d994fd7e.dfb60f2f.js"><link rel="prefetch" href="/notes/assets/js/page--dd5a1a16.c427a2cf.js"><link rel="prefetch" href="/notes/assets/js/page--df9ce13a.4a27eeb8.js"><link rel="prefetch" href="/notes/assets/js/page--e0b57efe.6b117b35.js"><link rel="prefetch" href="/notes/assets/js/page--eb673c12.b8a57727.js"><link rel="prefetch" href="/notes/assets/js/page--ebf2773e.90f1dff0.js"><link rel="prefetch" href="/notes/assets/js/page--ef64acb6.08ae3a9c.js"><link rel="prefetch" href="/notes/assets/js/page--f77f473e.ac0c6645.js"><link rel="prefetch" href="/notes/assets/js/page--fb1d49b6.adf7a235.js"><link rel="prefetch" href="/notes/assets/js/page-1、说说你对SPA单页面的理解，它的优缺点分别是什么？.77a128a6.js"><link rel="prefetch" href="/notes/assets/js/page-24个JavaScript循环遍历方法.b4274e9e.js"><link rel="prefetch" href="/notes/assets/js/page-44个Javascript变态题解析.7fd197e3.js"><link rel="prefetch" href="/notes/assets/js/page-49个CSS知识点.02a8105e.js"><link rel="prefetch" href="/notes/assets/js/page-@charset.eceb3900.js"><link rel="prefetch" href="/notes/assets/js/page-@types.5a3a505a.js"><link rel="prefetch" href="/notes/assets/js/page-@umijsplugin-dva.61469a9c.js"><link rel="prefetch" href="/notes/assets/js/page-@umijsplugin-qiankun.ba9aa268.js"><link rel="prefetch" href="/notes/assets/js/page-AMD模块.f1fd8f7c.js"><link rel="prefetch" href="/notes/assets/js/page-API.cf51811b.js"><link rel="prefetch" href="/notes/assets/js/page-Arrayprototypeflat().7a85b66e.js"><link rel="prefetch" href="/notes/assets/js/page-Barrel.929b7429.js"><link rel="prefetch" href="/notes/assets/js/page-Bind是有害的.03a7d3d0.js"><link rel="prefetch" href="/notes/assets/js/page-CSSGrid网格布局教程.9b7ca2e8.js"><link rel="prefetch" href="/notes/assets/js/page-CSS选择符.70c96f94.js"><link rel="prefetch" href="/notes/assets/js/page-Canvas和SVG区别.30da068f.js"><link rel="prefetch" href="/notes/assets/js/page-CommonJS.9ba78b97.js"><link rel="prefetch" href="/notes/assets/js/page-Configuration.e830b3e7.js"><link rel="prefetch" href="/notes/assets/js/page-Consumer向上找不到Provider的时候怎么办.3c0c7f01.js"><link rel="prefetch" href="/notes/assets/js/page-ContentTypes.bcb15007.js"><link rel="prefetch" href="/notes/assets/js/page-Css单位.234e4f90.js"><link rel="prefetch" href="/notes/assets/js/page-Decorators.1b7a6500.js"><link rel="prefetch" href="/notes/assets/js/page-Diff算法.9ffc6e1a.js"><link rel="prefetch" href="/notes/assets/js/page-ES10新特性（2019）.1ef56e38.js"><link rel="prefetch" href="/notes/assets/js/page-ES6新特性（2015）.3fcc97b6.js"><link rel="prefetch" href="/notes/assets/js/page-ES7新特性（2016）.78fec664.js"><link rel="prefetch" href="/notes/assets/js/page-ES8新特性（2017）.910b5e36.js"><link rel="prefetch" href="/notes/assets/js/page-ES9新特性（2018）.ba036087.js"><link rel="prefetch" href="/notes/assets/js/page-FetchAPI教程.c8eac083.js"><link rel="prefetch" href="/notes/assets/js/page-FileReader.6a77adc0.js"><link rel="prefetch" href="/notes/assets/js/page-Flex布局教程：实例篇.042fa3da.js"><link rel="prefetch" href="/notes/assets/js/page-Flex布局教程：语法篇.ad9bdc53.js"><link rel="prefetch" href="/notes/assets/js/page-Flyweight模式.52aac770.js"><link rel="prefetch" href="/notes/assets/js/page-Fragment.59e83302.js"><link rel="prefetch" href="/notes/assets/js/page-Freshness.1eaf0972.js"><link rel="prefetch" href="/notes/assets/js/page-Generator.c0a5023e.js"><link rel="prefetch" href="/notes/assets/js/page-Git面试知识点.2457ee57.js"><link rel="prefetch" href="/notes/assets/js/page-HTML5datalist标签.4f1f6ff1.js"><link rel="prefetch" href="/notes/assets/js/page-HTML常用特殊字符.7d215c96.js"><link rel="prefetch" href="/notes/assets/js/page-Home.dfe3b93b.js"><link rel="prefetch" href="/notes/assets/js/page-Hook原理(副作用Hook).1d5a059c.js"><link rel="prefetch" href="/notes/assets/js/page-Hook原理(概览).907ae1bb.js"><link rel="prefetch" href="/notes/assets/js/page-Hook原理(状态Hook).42cd01d5.js"><link rel="prefetch" href="/notes/assets/js/page-Hybrid.9f05ef5b.js"><link rel="prefetch" href="/notes/assets/js/page-ID选择器.6f079967.js"><link rel="prefetch" href="/notes/assets/js/page-ImmutableData.a002ea55.js"><link rel="prefetch" href="/notes/assets/js/page-Introduction.bbb9b3bf.js"><link rel="prefetch" href="/notes/assets/js/page-JSONstringify悲伤的故事.f4466a49.js"><link rel="prefetch" href="/notes/assets/js/page-JSX和React.8098d136.js"><link rel="prefetch" href="/notes/assets/js/page-JavaScript一行代码.6b7c50e2.js"><link rel="prefetch" href="/notes/assets/js/page-JavaScript实现双向链表.8caf24c7.js"><link rel="prefetch" href="/notes/assets/js/page-JavaScript执行机制.697a1ebb.js"><link rel="prefetch" href="/notes/assets/js/page-JavaScript设计模式的分类.5c12ac72.js"><link rel="prefetch" href="/notes/assets/js/page-MVC模式.1eec914b.js"><link rel="prefetch" href="/notes/assets/js/page-MVP模式.934b1344.js"><link rel="prefetch" href="/notes/assets/js/page-MVVM.ab0a45c5.js"><link rel="prefetch" href="/notes/assets/js/page-Map.6c14371a.js"><link rel="prefetch" href="/notes/assets/js/page-Mixin模式.ffba597a.js"><link rel="prefetch" href="/notes/assets/js/page-Modulardesign(模块化设计).c6c4e91f.js"><link rel="prefetch" href="/notes/assets/js/page-Never.df1c8b3e.js"><link rel="prefetch" href="/notes/assets/js/page-Objectis（）.085d489e.js"><link rel="prefetch" href="/notes/assets/js/page-Portals.240e8cba.js"><link rel="prefetch" href="/notes/assets/js/page-ProgressEvent.f61a9c6a.js"><link rel="prefetch" href="/notes/assets/js/page-Promise.6215441d.js"><link rel="prefetch" href="/notes/assets/js/page-Promise面试题总结.a19221ee.js"><link rel="prefetch" href="/notes/assets/js/page-Props(v2611).4ebcd59c.js"><link rel="prefetch" href="/notes/assets/js/page-Quirks模式是什么？它和Standards模式有什么区别.124aeb8a.js"><link rel="prefetch" href="/notes/assets/js/page-React+TypeScript规范.c4103a38.js"><link rel="prefetch" href="/notes/assets/js/page-ReactComponent.30b56697.js"><link rel="prefetch" href="/notes/assets/js/page-ReactContext原理.8f3304e0.js"><link rel="prefetch" href="/notes/assets/js/page-ReactJSX.9f9f664a.js"><link rel="prefetch" href="/notes/assets/js/page-React中使用TypeScript.fbe6bc93.js"><link rel="prefetch" href="/notes/assets/js/page-React中的优先级管理.2887be96.js"><link rel="prefetch" href="/notes/assets/js/page-React合成事件.111f39c5.js"><link rel="prefetch" href="/notes/assets/js/page-React工作循环(workLoop).eb83f6a0.js"><link rel="prefetch" href="/notes/assets/js/page-React应用中的高频对象.cdf4674e.js"><link rel="prefetch" href="/notes/assets/js/page-React应用的启动过程.9af907d6.js"><link rel="prefetch" href="/notes/assets/js/page-React应用的宏观包结构(web开发).ac152094.js"><link rel="prefetch" href="/notes/assets/js/page-React引用传递ForwardingRefs.ea9bb657.js"><link rel="prefetch" href="/notes/assets/js/page-React源码解析.b80ddcf3.js"><link rel="prefetch" href="/notes/assets/js/page-React算法之位运算.d45eeedb.js"><link rel="prefetch" href="/notes/assets/js/page-React算法之堆排序.03f2c32d.js"><link rel="prefetch" href="/notes/assets/js/page-React算法之栈操作.77216577.js"><link rel="prefetch" href="/notes/assets/js/page-React算法之深度优先遍历.53417659.js"><link rel="prefetch" href="/notes/assets/js/page-React算法之调和算法.d0a25044.js"><link rel="prefetch" href="/notes/assets/js/page-React算法之链表操作.dfbe95e5.js"><link rel="prefetch" href="/notes/assets/js/page-React调度原理(scheduler).4e423ee6.js"><link rel="prefetch" href="/notes/assets/js/page-React运行时优化方案.cc8fc188.js"><link rel="prefetch" href="/notes/assets/js/page-React高阶组件(HOC).1330f133.js"><link rel="prefetch" href="/notes/assets/js/page-ReflectMetadata.d8eafdf2.js"><link rel="prefetch" href="/notes/assets/js/page-Stack.9b0cd0a2.js"><link rel="prefetch" href="/notes/assets/js/page-StickyFooter，完美的绝对底部.1adc196e.js"><link rel="prefetch" href="/notes/assets/js/page-String.dba10acd.js"><link rel="prefetch" href="/notes/assets/js/page-Suspense组件.cc16f956.js"><link rel="prefetch" href="/notes/assets/js/page-Symbol.f24e26ad.js"><link rel="prefetch" href="/notes/assets/js/page-Table组件性能.0502d645.js"><link rel="prefetch" href="/notes/assets/js/page-ThisType.a5871eeb.js"><link rel="prefetch" href="/notes/assets/js/page-TransformBuildApi.97e4f7d1.js"><link rel="prefetch" href="/notes/assets/js/page-Truthy.73159807.js"><link rel="prefetch" href="/notes/assets/js/page-TypeScript37.728c76cb.js"><link rel="prefetch" href="/notes/assets/js/page-TypeScript38.39f9229d.js"><link rel="prefetch" href="/notes/assets/js/page-TypeScript39.8ebcfdf5.js"><link rel="prefetch" href="/notes/assets/js/page-TypeScript中unknown与any有啥区别.73955cbe.js"><link rel="prefetch" href="/notes/assets/js/page-TypeScript中的静态构造函数.68a9d804.js"><link rel="prefetch" href="/notes/assets/js/page-TypeScript高效缓存库.6090aeb0.js"><link rel="prefetch" href="/notes/assets/js/page-VNode.378e2700.js"><link rel="prefetch" href="/notes/assets/js/page-VirtualDOM.b9f1751d.js"><link rel="prefetch" href="/notes/assets/js/page-Vue-Router.59fe2e1b.js"><link rel="prefetch" href="/notes/assets/js/page-VueRouter对象.ec35effb.js"><link rel="prefetch" href="/notes/assets/js/page-Vuejs九个性能优化技巧.24622708.js"><link rel="prefetch" href="/notes/assets/js/page-Vuejs源码构建.4b93ede6.js"><link rel="prefetch" href="/notes/assets/js/page-Vuejs源码目录设计.e2d818c6.js"><link rel="prefetch" href="/notes/assets/js/page-Vuex.5516dbd0.js"><link rel="prefetch" href="/notes/assets/js/page-Vuex初始化.e8cae8c5.js"><link rel="prefetch" href="/notes/assets/js/page-Vue事件API.76bb99d2.js"><link rel="prefetch" href="/notes/assets/js/page-Vue实例挂载的实现.b4fc40b9.js"><link rel="prefetch" href="/notes/assets/js/page-Vue模板渲染的原理.b821e1bf.js"><link rel="prefetch" href="/notes/assets/js/page-Vue获取页面元素的相对位置.e8fc6d2b.js"><link rel="prefetch" href="/notes/assets/js/page-Webpack.a8664b33.js"><link rel="prefetch" href="/notes/assets/js/page-XMLHttpRequest.7a1034de.js"><link rel="prefetch" href="/notes/assets/js/page-accesskey.15885776.js"><link rel="prefetch" href="/notes/assets/js/page-arguments[]函数参数数组.ba20c0fe.js"><link rel="prefetch" href="/notes/assets/js/page-asyncawait原理.8805f09b.js"><link rel="prefetch" href="/notes/assets/js/page-babel编译原理.61058ddd.js"><link rel="prefetch" href="/notes/assets/js/page-before和after中双冒号和单冒号.ab0c2e62.js"><link rel="prefetch" href="/notes/assets/js/page-beginWork.c946c22a.js"><link rel="prefetch" href="/notes/assets/js/page-codegen.cf61d4a8.js"><link rel="prefetch" href="/notes/assets/js/page-coerceRef.f5e0e5ed.js"><link rel="prefetch" href="/notes/assets/js/page-commitAllHostEffects.6cf19efe.js"><link rel="prefetch" href="/notes/assets/js/page-commitAllLifeCycles.d620cee7.js"><link rel="prefetch" href="/notes/assets/js/page-commitBeforeMutationLifecycles.103d76ae.js"><link rel="prefetch" href="/notes/assets/js/page-commitDeletion.52aeba89.js"><link rel="prefetch" href="/notes/assets/js/page-commitPlacement.086cbe9b.js"><link rel="prefetch" href="/notes/assets/js/page-commitRoot.8a6d8d9a.js"><link rel="prefetch" href="/notes/assets/js/page-commitWork.491acb0f.js"><link rel="prefetch" href="/notes/assets/js/page-constructor和getInitialState.39b87320.js"><link rel="prefetch" href="/notes/assets/js/page-createComponent.1d4453c8.js"><link rel="prefetch" href="/notes/assets/js/page-createElement.47f01051.js"><link rel="prefetch" href="/notes/assets/js/page-css优先级：.f5876792.js"><link rel="prefetch" href="/notes/assets/js/page-css兼容性整理.0d57b110.js"><link rel="prefetch" href="/notes/assets/js/page-css基础面试.e7603a5b.js"><link rel="prefetch" href="/notes/assets/js/page-demo.d8ce8d06.js"><link rel="prefetch" href="/notes/assets/js/page-device.e038e4d2.js"><link rel="prefetch" href="/notes/assets/js/page-divonClick={handlerClick}单击单击div有什么区别.0f1f9935.js"><link rel="prefetch" href="/notes/assets/js/page-es6module.2ea975eb.js"><link rel="prefetch" href="/notes/assets/js/page-event.cce3342b.js"><link rel="prefetch" href="/notes/assets/js/page-exportdefault被认为是有害的.4f3aeacb.js"><link rel="prefetch" href="/notes/assets/js/page-fiber树构造(初次创建).199159ff.js"><link rel="prefetch" href="/notes/assets/js/page-fiber树构造(基础准备).eb928c62.js"><link rel="prefetch" href="/notes/assets/js/page-fiber树构造(对比更新).ffef4a3a.js"><link rel="prefetch" href="/notes/assets/js/page-fiber树渲染.8d2be0e0.js"><link rel="prefetch" href="/notes/assets/js/page-fixed失效.b970358b.js"><link rel="prefetch" href="/notes/assets/js/page-function.d28593a1.js"><link rel="prefetch" href="/notes/assets/js/page-gitrebase.373ced11.js"><link rel="prefetch" href="/notes/assets/js/page-hydrate.7cef46c6.js"><link rel="prefetch" href="/notes/assets/js/page-infer.e8f44dc3.js"><link rel="prefetch" href="/notes/assets/js/page-inline-block元素间间距.347259d6.js"><link rel="prefetch" href="/notes/assets/js/page-invokeGuardedCallback.283215c2.js"><link rel="prefetch" href="/notes/assets/js/page-js奇怪的小问题.db2c7b1c.js"><link rel="prefetch" href="/notes/assets/js/page-js异步历史.b8e295da.js"><link rel="prefetch" href="/notes/assets/js/page-js总结.eadfd58c.js"><link rel="prefetch" href="/notes/assets/js/page-js高频手写题.c95b587d.js"><link rel="prefetch" href="/notes/assets/js/page-keep-alive.a42cdbc5.js"><link rel="prefetch" href="/notes/assets/js/page-lazycomponent.143f3fc0.js"><link rel="prefetch" href="/notes/assets/js/page-libdts.e6072a42.js"><link rel="prefetch" href="/notes/assets/js/page-loader.bdc95f6e.js"><link rel="prefetch" href="/notes/assets/js/page-matcher.796b48a8.js"><link rel="prefetch" href="/notes/assets/js/page-module、export、import分别有什么作用？.06aceb29.js"><link rel="prefetch" href="/notes/assets/js/page-mountIndeterminateComponent.bf6262b9.js"><link rel="prefetch" href="/notes/assets/js/page-mountLazyCompont.d5cb3dce.js"><link rel="prefetch" href="/notes/assets/js/page-newVue发生了什么.4e427b41.js"><link rel="prefetch" href="/notes/assets/js/page-nextTick.1499a999.js"><link rel="prefetch" href="/notes/assets/js/page-nginx使用综合场景.2783f2e7.js"><link rel="prefetch" href="/notes/assets/js/page-optimize.4e319e56.js"><link rel="prefetch" href="/notes/assets/js/page-parse.fd985f5e.js"><link rel="prefetch" href="/notes/assets/js/page-patch.91f1d71c.js"><link rel="prefetch" href="/notes/assets/js/page-plugin.97d7acab.js"><link rel="prefetch" href="/notes/assets/js/page-plugins.70c5c678.js"><link rel="prefetch" href="/notes/assets/js/page-public设置.0c9d6cf8.js"><link rel="prefetch" href="/notes/assets/js/page-react-dom.9318f0a0.js"><link rel="prefetch" href="/notes/assets/js/page-react-hooks.dc9adc39.js"><link rel="prefetch" href="/notes/assets/js/page-react-hooks使用.bf9b6e3c.js"><link rel="prefetch" href="/notes/assets/js/page-react-hooks原理.6cfde67f.js"><link rel="prefetch" href="/notes/assets/js/page-react-redux源码.f7ab9b35.js"><link rel="prefetch" href="/notes/assets/js/page-readonly.c73b45ce.js"><link rel="prefetch" href="/notes/assets/js/page-reconcileChildren.c97f82a6.js"><link rel="prefetch" href="/notes/assets/js/page-reconcileChildrenArray.ebf1328c.js"><link rel="prefetch" href="/notes/assets/js/page-reconcileSingleElement.91c5a506.js"><link rel="prefetch" href="/notes/assets/js/page-reconciler运作流程.384cea1a.js"><link rel="prefetch" href="/notes/assets/js/page-redux源码解读.44fcc2d6.js"><link rel="prefetch" href="/notes/assets/js/page-render.dadf4ab5.js"><link rel="prefetch" href="/notes/assets/js/page-resolveCurrentlyRenderingFiber.d002a55b.js"><link rel="prefetch" href="/notes/assets/js/page-set.05d1d844.js"><link rel="prefetch" href="/notes/assets/js/page-setState.9374420a.js"><link rel="prefetch" href="/notes/assets/js/page-setState执行流程.89270bc4.js"><link rel="prefetch" href="/notes/assets/js/page-setState背后的批量更新如何实现.1042179b.js"><link rel="prefetch" href="/notes/assets/js/page-slot.1444771d.js"><link rel="prefetch" href="/notes/assets/js/page-suspense.480ee2b8.js"><link rel="prefetch" href="/notes/assets/js/page-throwException.82863c1e.js"><link rel="prefetch" href="/notes/assets/js/page-transition-group.cf2a3d67.js"><link rel="prefetch" href="/notes/assets/js/page-transition.a139e8e9.js"><link rel="prefetch" href="/notes/assets/js/page-tsconfigjson的行为.22c6d40b.js"><link rel="prefetch" href="/notes/assets/js/page-typescript综合面试.ee9e6169.js"><link rel="prefetch" href="/notes/assets/js/page-update.4a71bc45.js"><link rel="prefetch" href="/notes/assets/js/page-updateClassComponent.bcfe4dcd.js"><link rel="prefetch" href="/notes/assets/js/page-updateContextConsumer.85d605f3.js"><link rel="prefetch" href="/notes/assets/js/page-updateContextProvider.b09b6903.js"><link rel="prefetch" href="/notes/assets/js/page-updateForwardRef.8a9eaed1.js"><link rel="prefetch" href="/notes/assets/js/page-updateFragment.c822234f.js"><link rel="prefetch" href="/notes/assets/js/page-updateFunctionalComponent.7b51d57f.js"><link rel="prefetch" href="/notes/assets/js/page-updateHostComponent.456e3026.js"><link rel="prefetch" href="/notes/assets/js/page-updateHostRoot.729e27a3.js"><link rel="prefetch" href="/notes/assets/js/page-updateHostText.15f0edfb.js"><link rel="prefetch" href="/notes/assets/js/page-updateMode.16ed37ff.js"><link rel="prefetch" href="/notes/assets/js/page-updatePortalComponent.04881c76.js"><link rel="prefetch" href="/notes/assets/js/page-updateProfiler.a2298686.js"><link rel="prefetch" href="/notes/assets/js/page-updateSuspenseComponent.9cc3df46.js"><link rel="prefetch" href="/notes/assets/js/page-useCallbackuseMemo.e172a9d3.js"><link rel="prefetch" href="/notes/assets/js/page-useContext.2812997c.js"><link rel="prefetch" href="/notes/assets/js/page-useEffect.3fc7b870.js"><link rel="prefetch" href="/notes/assets/js/page-useState.dc1f35eb.js"><link rel="prefetch" href="/notes/assets/js/page-v-model.b8e8f80a.js"><link rel="prefetch" href="/notes/assets/js/page-vue响应式详解（重学前端-vue篇1）.e1ed899c.js"><link rel="prefetch" href="/notes/assets/js/page-vue的优点.5f7424d4.js"><link rel="prefetch" href="/notes/assets/js/page-webAnimations.5d836b30.js"><link rel="prefetch" href="/notes/assets/js/page-web工程通用脚手架工具.e574235a.js"><link rel="prefetch" href="/notes/assets/js/page-【进阶1-1期】理解JavaScript中的执行上下文和执行栈.5b634c46.js"><link rel="prefetch" href="/notes/assets/js/page-【进阶1-2期】JavaScript深入之执行上下文栈和变量对象.5655f3b1.js"><link rel="prefetch" href="/notes/assets/js/page-【进阶1-3期】JavaScript深入之内存空间详细图解.c1a53afc.js"><link rel="prefetch" href="/notes/assets/js/page-【进阶1-4期】JavaScript深入之带走进内存机制.ffb7a8db.js"><link rel="prefetch" href="/notes/assets/js/page-【进阶1-5期】JavaScript深入之4类常见内存泄漏及如何避免.39d2fda5.js"><link rel="prefetch" href="/notes/assets/js/page-【进阶1-6期】JavaScript预编译.5375287d.js"><link rel="prefetch" href="/notes/assets/js/page-【进阶2-1期】深入浅出图解作用域链和闭包.7dfbbe4c.js"><link rel="prefetch" href="/notes/assets/js/page-【进阶2-2期】JavaScript深入之从作用域链理解闭包.bb9d596c.js"><link rel="prefetch" href="/notes/assets/js/page-【进阶2-3期】JavaScript深入之闭包面试题解.e96e9cf0.js"><link rel="prefetch" href="/notes/assets/js/page-【进阶3-1期】JavaScript深入之史上最全--5种this绑定全面解析.e530bc55.js"><link rel="prefetch" href="/notes/assets/js/page-【进阶3-2期】JavaScript深入之重新认识箭头函数的this.e55e93f2.js"><link rel="prefetch" href="/notes/assets/js/page-【进阶3-3期】深度广度解析call和apply原理、使用场景及实现.cf94cc45.js"><link rel="prefetch" href="/notes/assets/js/page-【进阶3-4期】深度解析bind原理、使用场景及模拟实现.6cfc7f3d.js"><link rel="prefetch" href="/notes/assets/js/page-【进阶3-5期】深度解析new原理及模拟实现.198c845d.js"><link rel="prefetch" href="/notes/assets/js/page-【进阶4-1期】详细解析赋值、浅拷贝和深拷贝的区别.fbc459f5.js"><link rel="prefetch" href="/notes/assets/js/page-【进阶4-2期】Objectassign原理及其实现.8af512aa.js"><link rel="prefetch" href="/notes/assets/js/page-【进阶4-3期】面试题之如何实现一个深拷贝.5f5bc108.js"><link rel="prefetch" href="/notes/assets/js/page-【进阶4-4期】Lodash是如何实现深拷贝的.568d0584.js"><link rel="prefetch" href="/notes/assets/js/page-【进阶5-1期】重新认识构造函数、原型和原型链.6c350765.js"><link rel="prefetch" href="/notes/assets/js/page-【进阶5-2期】图解原型链及其继承优缺点.d04ad89c.js"><link rel="prefetch" href="/notes/assets/js/page-【进阶5-3期】深入探究FunctionObject鸡蛋问题.7fa6ddc5.js"><link rel="prefetch" href="/notes/assets/js/page-【进阶6-1期】JavaScript高阶函数浅析.1879934e.js"><link rel="prefetch" href="/notes/assets/js/page-【进阶6-2期】深入高阶函数应用之柯里化.32f2e517.js"><link rel="prefetch" href="/notes/assets/js/page-【进阶6-3期】Array原型方法源码实现大解密.0033fa7d.js"><link rel="prefetch" href="/notes/assets/js/page-【进阶7-1期】深入浅出节流函数throttle.2fe3e497.js"><link rel="prefetch" href="/notes/assets/js/page-【进阶7-2期】深入浅出防抖函数debounce.0f41b954.js"><link rel="prefetch" href="/notes/assets/js/page-【进阶7-3期】Throttle和Debounce在React中的应用.adf07e49.js"><link rel="prefetch" href="/notes/assets/js/page-【进阶7-4期】深入篇阿里P6必会Lodash防抖节流函数实现原理.e68aa8e6.js"><link rel="prefetch" href="/notes/assets/js/page-【进阶7-5期】浅出篇7个角度吃透Lodash防抖节流原理.082d3e4e.js"><link rel="prefetch" href="/notes/assets/js/page-一、Webpack原理.da7276fe.js"><link rel="prefetch" href="/notes/assets/js/page-一、为什么JavaScript是单线程？.6ba8a0de.js"><link rel="prefetch" href="/notes/assets/js/page-一、概述.8ae5599f.js"><link rel="prefetch" href="/notes/assets/js/page-一、简介.278dcf8c.js"><link rel="prefetch" href="/notes/assets/js/page-一些不能按预期工作的代码.697baa1d.js"><link rel="prefetch" href="/notes/assets/js/page-一些常见的Feature需求.504eb21e.js"><link rel="prefetch" href="/notes/assets/js/page-一些常见的「bug」并不是bug.6d387367.js"><link rel="prefetch" href="/notes/assets/js/page-一正确理解react-router.0570c1d4.js"><link rel="prefetch" href="/notes/assets/js/page-严格模式.04cb252a.js"><link rel="prefetch" href="/notes/assets/js/page-中介者模式.66718b8b.js"><link rel="prefetch" href="/notes/assets/js/page-事件模块的注入模式.aaeb0105.js"><link rel="prefetch" href="/notes/assets/js/page-事件监听句柄.3de1458c.js"><link rel="prefetch" href="/notes/assets/js/page-事件绑定.24504002.js"><link rel="prefetch" href="/notes/assets/js/page-事件触发.70937c72.js"><link rel="prefetch" href="/notes/assets/js/page-从JavaScript迁移.722aac43.js"><link rel="prefetch" href="/notes/assets/js/page-从new一个Vue对象开始.56859697.js"><link rel="prefetch" href="/notes/assets/js/page-从入口开始.c811becc.js"><link rel="prefetch" href="/notes/assets/js/page-代理模式.612946c3.js"><link rel="prefetch" href="/notes/assets/js/page-代码分割.f467a772.js"><link rel="prefetch" href="/notes/assets/js/page-代码分离.dc3e0340.js"><link rel="prefetch" href="/notes/assets/js/page-传参.d44dd151.js"><link rel="prefetch" href="/notes/assets/js/page-伪元素.998f3d15.js"><link rel="prefetch" href="/notes/assets/js/page-伪类.828418b7.js"><link rel="prefetch" href="/notes/assets/js/page-作用.6d8cff96.js"><link rel="prefetch" href="/notes/assets/js/page-使用Es6.566369c3.js"><link rel="prefetch" href="/notes/assets/js/page-依赖收集.cf6e0eb3.js"><link rel="prefetch" href="/notes/assets/js/page-元素选择器.470fdf21.js"><link rel="prefetch" href="/notes/assets/js/page-入口起点(entrypoints).76f1c519.js"><link rel="prefetch" href="/notes/assets/js/page-全局属性：用于任何HTML5元素的属性.c95abf0f.js"><link rel="prefetch" href="/notes/assets/js/page-关于ReactHooks.ae5b17d0.js"><link rel="prefetch" href="/notes/assets/js/page-具体使用.b269c144.js"><link rel="prefetch" href="/notes/assets/js/page-写一个方法去掉字符串中的空格.15c9b961.js"><link rel="prefetch" href="/notes/assets/js/page-减少setter属性的使用.b5f3c347.js"><link rel="prefetch" href="/notes/assets/js/page-函数.c02b209a.js"><link rel="prefetch" href="/notes/assets/js/page-函数参数.08075070.js"><link rel="prefetch" href="/notes/assets/js/page-函数式编程.c74e9ec7.js"><link rel="prefetch" href="/notes/assets/js/page-创建event对象.b829d7b9.js"><link rel="prefetch" href="/notes/assets/js/page-创建数组.e6b583ca.js"><link rel="prefetch" href="/notes/assets/js/page-前端缓存.649b9d5b.js"><link rel="prefetch" href="/notes/assets/js/page-动态导入表达式.3571ad2b.js"><link rel="prefetch" href="/notes/assets/js/page-协变与逆变.1e0b3c6e.js"><link rel="prefetch" href="/notes/assets/js/page-单例模式.3b665f8c.js"><link rel="prefetch" href="/notes/assets/js/page-原型模式.37069733.js"><link rel="prefetch" href="/notes/assets/js/page-原理图.8ed513f0.js"><link rel="prefetch" href="/notes/assets/js/page-发射器.912ad609.js"><link rel="prefetch" href="/notes/assets/js/page-可能不需要使用派生state.c556da63.js"><link rel="prefetch" href="/notes/assets/js/page-可视化拖拽组件库原理分析.5ac8b955.js"><link rel="prefetch" href="/notes/assets/js/page-可调用的.fc8fe72f.js"><link rel="prefetch" href="/notes/assets/js/page-合并配置.e77516f7.js"><link rel="prefetch" href="/notes/assets/js/page-名义化类型.7247e820.js"><link rel="prefetch" href="/notes/assets/js/page-后代选择器.11b0f141.js"><link rel="prefetch" href="/notes/assets/js/page-命令模式.bb70cac2.js"><link rel="prefetch" href="/notes/assets/js/page-命令行的行为.362e847a.js"><link rel="prefetch" href="/notes/assets/js/page-命名空间.8658093b.js"><link rel="prefetch" href="/notes/assets/js/page-响应式对象.63feb8d4.js"><link rel="prefetch" href="/notes/assets/js/page-块格式化上下文.c97d7224.js"><link rel="prefetch" href="/notes/assets/js/page-基于字符串的枚举.da2f611d.js"><link rel="prefetch" href="/notes/assets/js/page-基本概念.0e040d38.js"><link rel="prefetch" href="/notes/assets/js/page-基础分类.cba5c17c.js"><link rel="prefetch" href="/notes/assets/js/page-声明空间.d874a5e3.js"><link rel="prefetch" href="/notes/assets/js/page-外观模式.c439c4b1.js"><link rel="prefetch" href="/notes/assets/js/page-外边距重叠.d4d865b6.js"><link rel="prefetch" href="/notes/assets/js/page-大文件上传和断点续传.175fc470.js"><link rel="prefetch" href="/notes/assets/js/page-如何关闭表单自动填充.ba036e3d.js"><link rel="prefetch" href="/notes/assets/js/page-子选择器.3726c4d6.js"><link rel="prefetch" href="/notes/assets/js/page-字面量类型.3ec2c3df.js"><link rel="prefetch" href="/notes/assets/js/page-实现一个web代码模板快速生成CLI工具.20451de3.js"><link rel="prefetch" href="/notes/assets/js/page-对象字面量的惰性初始化.65f9a3e4.js"><link rel="prefetch" href="/notes/assets/js/page-层叠上下文.ddca19ec.js"><link rel="prefetch" href="/notes/assets/js/page-展开语法.b63bd401.js"><link rel="prefetch" href="/notes/assets/js/page-展示长列表.9bdc30ec.js"><link rel="prefetch" href="/notes/assets/js/page-属性选择器.1bb013b8.js"><link rel="prefetch" href="/notes/assets/js/page-工具类.1d8dbf41.js"><link rel="prefetch" href="/notes/assets/js/page-工厂模式.ff661a6c.js"><link rel="prefetch" href="/notes/assets/js/page-布局和包含块.f8db8a87.js"><link rel="prefetch" href="/notes/assets/js/page-常用块级元素：.ad0eba64.js"><link rel="prefetch" href="/notes/assets/js/page-常见的Error.bc60d2cf.js"><link rel="prefetch" href="/notes/assets/js/page-并发模型与事件循环.b1e727c1.js"><link rel="prefetch" href="/notes/assets/js/page-建造者模式.16b4d58a.js"><link rel="prefetch" href="/notes/assets/js/page-开始.07da2ea5.js"><link rel="prefetch" href="/notes/assets/js/page-异常处理.52e82844.js"><link rel="prefetch" href="/notes/assets/js/page-异步组件.5d522b59.js"><link rel="prefetch" href="/notes/assets/js/page-引入.9b3a88b3.js"><link rel="prefetch" href="/notes/assets/js/page-引用.6fa2a266.js"><link rel="prefetch" href="/notes/assets/js/page-引用官网.ccb07d29.js"><link rel="prefetch" href="/notes/assets/js/page-总结.e755d8e0.js"><link rel="prefetch" href="/notes/assets/js/page-惰性初始模式.9385ab88.js"><link rel="prefetch" href="/notes/assets/js/page-扩展.a7628b82.js"><link rel="prefetch" href="/notes/assets/js/page-扫描器.adb7607f.js"><link rel="prefetch" href="/notes/assets/js/page-抽象DOM树.22b218d6.js"><link rel="prefetch" href="/notes/assets/js/page-抽象语法树.a604c871.js"><link rel="prefetch" href="/notes/assets/js/page-接口.a771c1c5.js"><link rel="prefetch" href="/notes/assets/js/page-插件.371fb3e7.js"><link rel="prefetch" href="/notes/assets/js/page-操作DOM.738a5b97.js"><link rel="prefetch" href="/notes/assets/js/page-支持JSX.07c5624f.js"><link rel="prefetch" href="/notes/assets/js/page-改善antdTable组件的渲染效率.7b6ec7c9.js"><link rel="prefetch" href="/notes/assets/js/page-数据绑定原理.5807171a.js"><link rel="prefetch" href="/notes/assets/js/page-数据驱动.5b237be8.js"><link rel="prefetch" href="/notes/assets/js/page-数组方法另一个角度总结.cc582cd5.js"><link rel="prefetch" href="/notes/assets/js/page-文档声明区别.afc4c89c.js"><link rel="prefetch" href="/notes/assets/js/page-新js环境要求.c14a95dc.js"><link rel="prefetch" href="/notes/assets/js/page-暴露模块模式.718b0abf.js"><link rel="prefetch" href="/notes/assets/js/page-服务器基础.64ccb042.js"><link rel="prefetch" href="/notes/assets/js/page-术语表.7aae2f94.js"><link rel="prefetch" href="/notes/assets/js/page-构建切换.75c55eb2.js"><link rel="prefetch" href="/notes/assets/js/page-构造器模式.f729d87d.js"><link rel="prefetch" href="/notes/assets/js/page-枚举.9474de01.js"><link rel="prefetch" href="/notes/assets/js/page-柯里化.5280fa15.js"><link rel="prefetch" href="/notes/assets/js/page-标准的CSS的盒子模型？低版本IE的盒子模型.7c971d18.js"><link rel="prefetch" href="/notes/assets/js/page-检查器.60042afd.js"><link rel="prefetch" href="/notes/assets/js/page-检测变化的注意事项.a86d5139.js"><link rel="prefetch" href="/notes/assets/js/page-概念.5fcb21e7.js"><link rel="prefetch" href="/notes/assets/js/page-概览.48a71a5f.js"><link rel="prefetch" href="/notes/assets/js/page-模块.6e9b5c99.js"><link rel="prefetch" href="/notes/assets/js/page-模块化模式.7f6a8da0.js"><link rel="prefetch" href="/notes/assets/js/page-正则表达式.41e66bb3.js"><link rel="prefetch" href="/notes/assets/js/page-泛型.98a9fd5f.js"><link rel="prefetch" href="/notes/assets/js/page-泛型的实例化类型.88b2aeef.js"><link rel="prefetch" href="/notes/assets/js/page-派发更新.9eeb1761.js"><link rel="prefetch" href="/notes/assets/js/page-流动的类型.19e65689.js"><link rel="prefetch" href="/notes/assets/js/page-浏览器输入URL.d291f79e.js"><link rel="prefetch" href="/notes/assets/js/page-浏览器重绘与回流.56af5f6a.js"><link rel="prefetch" href="/notes/assets/js/page-深入TypeScript.3b83fb9d.js"><link rel="prefetch" href="/notes/assets/js/page-深入响应式原理.28543931.js"><link rel="prefetch" href="/notes/assets/js/page-深入源码剖析componentWillXXX为什么UNSAFE.73fbdb17.js"><link rel="prefetch" href="/notes/assets/js/page-混合.f64c650e.js"><link rel="prefetch" href="/notes/assets/js/page-状态与副作用.2ec49ce2.js"><link rel="prefetch" href="/notes/assets/js/page-状态函数.3b871c77.js"><link rel="prefetch" href="/notes/assets/js/page-环境声明.65f51be8.js"><link rel="prefetch" href="/notes/assets/js/page-生命周期.b51d9d81.js"><link rel="prefetch" href="/notes/assets/js/page-用递归算法实现，数组长度为5且元素的随机数在2-32间不重复的值.a4dee7e7.js"><link rel="prefetch" href="/notes/assets/js/page-相邻兄弟选择器.b71abaaf.js"><link rel="prefetch" href="/notes/assets/js/page-知识体系.e8a2faf0.js"><link rel="prefetch" href="/notes/assets/js/page-程序.fb8e92bb.js"><link rel="prefetch" href="/notes/assets/js/page-第10天简要描述下什么是回调函数并写一个例子出来.5e20c5dd.js"><link rel="prefetch" href="/notes/assets/js/page-第11天简要描述下JS有哪些内置的对象.1e72b903.js"><link rel="prefetch" href="/notes/assets/js/page-第12天写一个获取当前url查询字符串中的参数的方法.bbf23e9f.js"><link rel="prefetch" href="/notes/assets/js/page-第13天说说你对javascript的作用域的理解.e6eac7fd.js"><link rel="prefetch" href="/notes/assets/js/page-第14天什么是闭包？优缺点分别是什么？.947fc3df.js"><link rel="prefetch" href="/notes/assets/js/page-第15天写一个数组去重的方法（支持多维数组）.5c4e3d20.js"><link rel="prefetch" href="/notes/assets/js/page-第16天返回到顶部的方法有哪些？把其中一个方法出来.75f82540.js"><link rel="prefetch" href="/notes/assets/js/page-第17天typeof('abc')和typeof'abc'都是string,那么typeof是操作符还是函数？.7528d251.js"><link rel="prefetch" href="/notes/assets/js/page-第18天你理解的usestrict;是什么使用它有什么优缺点？.26d2cc21.js"><link rel="prefetch" href="/notes/assets/js/page-第19天attribute和property有什么不同？.1d7a7a6d.js"><link rel="prefetch" href="/notes/assets/js/page-第1天用递归算法实现，数组长度为5且元素的随机数在2-32间不重复的值.8fdf8550.js"><link rel="prefetch" href="/notes/assets/js/page-第20天写一个验证身份证号的方法.c9bb1e8d.js"><link rel="prefetch" href="/notes/assets/js/page-第21天写一个方法验证是否为中文.03b60071.js"><link rel="prefetch" href="/notes/assets/js/page-第22天你对new操作符的理解是什么？手动实现一个new方法.19c1bb43.js"><link rel="prefetch" href="/notes/assets/js/page-第23天01+02、01+03和0102分别等于多少？并解释下为什么？.39fb38a2.js"><link rel="prefetch" href="/notes/assets/js/page-第24天如何快速让一个数组乱序，写出来.f9ea1aed.js"><link rel="prefetch" href="/notes/assets/js/page-第25天写一个判断设备来源的方法.4075d056.js"><link rel="prefetch" href="/notes/assets/js/page-第26天说说bind、call、apply的区别？并手写实现一个bind的方法.5df9aa2e.js"><link rel="prefetch" href="/notes/assets/js/page-第27天说说你对arguments的理解，它是数组吗？.42760d21.js"><link rel="prefetch" href="/notes/assets/js/page-第28天解释下这段代码的意思！.cf889e1a.js"><link rel="prefetch" href="/notes/assets/js/page-第29天写一个获取数组的最大值、最小值的方法.fe95fbd7.js"><link rel="prefetch" href="/notes/assets/js/page-第2天写一个方法去掉字符串中的空格.65c0a5d0.js"><link rel="prefetch" href="/notes/assets/js/page-第30天写一个方法判断字符串是否为回文字符串.94eb0662.js"><link rel="prefetch" href="/notes/assets/js/page-第3天去除字符串中最后一个指定的字符.6f89d439.js"><link rel="prefetch" href="/notes/assets/js/page-第4天写一个方法把下划线命名转成大驼峰命名.a5bf1fd7.js"><link rel="prefetch" href="/notes/assets/js/page-第5天写一个把字符串大小写切换的方法.554506ee.js"><link rel="prefetch" href="/notes/assets/js/page-第6天写一个去除制表符和换行符的方法.d7664ad8.js"><link rel="prefetch" href="/notes/assets/js/page-第7天统计某一字符或字符串在另一个字符串中出现的次数.44684f63.js"><link rel="prefetch" href="/notes/assets/js/page-第8天写一个加密字符串的方法.30dbbe5d.js"><link rel="prefetch" href="/notes/assets/js/page-第9天写一个判断数据类型的方法.11bc7bda.js"><link rel="prefetch" href="/notes/assets/js/page-第一套webpack综合基础面试题.66d99ce4.js"><link rel="prefetch" href="/notes/assets/js/page-管理资源.db159ca3.js"><link rel="prefetch" href="/notes/assets/js/page-类.12ac426a.js"><link rel="prefetch" href="/notes/assets/js/page-类型保护.2f379bb5.js"><link rel="prefetch" href="/notes/assets/js/page-类型兼容性.a3cf9a2e.js"><link rel="prefetch" href="/notes/assets/js/page-类型守卫.69cd1803.js"><link rel="prefetch" href="/notes/assets/js/page-类型安全的EventEmitter.7d822139.js"><link rel="prefetch" href="/notes/assets/js/page-类型推断.520c9849.js"><link rel="prefetch" href="/notes/assets/js/page-类型断言.0413db50.js"><link rel="prefetch" href="/notes/assets/js/page-类型系统的行为.50e92471.js"><link rel="prefetch" href="/notes/assets/js/page-类是有用的.0349d08a.js"><link rel="prefetch" href="/notes/assets/js/page-类选择器.d13180a0.js"><link rel="prefetch" href="/notes/assets/js/page-索引签名.141242b8.js"><link rel="prefetch" href="/notes/assets/js/page-组件化.dccaf13a.js"><link rel="prefetch" href="/notes/assets/js/page-组件卸载前，加在DOM元素的监听事件和定时器要不要手动清除.ffd4f039.js"><link rel="prefetch" href="/notes/assets/js/page-组件更新.742b5fc6.js"><link rel="prefetch" href="/notes/assets/js/page-组件注册.813c2fd7.js"><link rel="prefetch" href="/notes/assets/js/page-组件类.d04b305c.js"><link rel="prefetch" href="/notes/assets/js/page-组合模式.1b27c6cc.js"><link rel="prefetch" href="/notes/assets/js/page-绑定器.5a79c1b2.js"><link rel="prefetch" href="/notes/assets/js/page-结论.ea0211ee.js"><link rel="prefetch" href="/notes/assets/js/page-编译.25eee429.js"><link rel="prefetch" href="/notes/assets/js/page-编译上下文.419f394a.js"><link rel="prefetch" href="/notes/assets/js/page-编译入口.c294039e.js"><link rel="prefetch" href="/notes/assets/js/page-网站favicon图标.c1243a1a.js"><link rel="prefetch" href="/notes/assets/js/page-自定义hooks.01717d7b.js"><link rel="prefetch" href="/notes/assets/js/page-获取localStorage和sessionStorage当前已存储大小.b50daa10.js"><link rel="prefetch" href="/notes/assets/js/page-虚拟DOM和DOM-diff.0fa69c1a.js"><link rel="prefetch" href="/notes/assets/js/page-表单数据.293dbfa6.js"><link rel="prefetch" href="/notes/assets/js/page-装饰器.39a3ef54.js"><link rel="prefetch" href="/notes/assets/js/page-装饰模式.b6c87f05.js"><link rel="prefetch" href="/notes/assets/js/page-观察者模式.cb9bc9df.js"><link rel="prefetch" href="/notes/assets/js/page-解析器.43df85b1.js"><link rel="prefetch" href="/notes/assets/js/page-解读Errors.fcb97e9b.js"><link rel="prefetch" href="/notes/assets/js/page-计算属性VS侦听属性.314da9e1.js"><link rel="prefetch" href="/notes/assets/js/page-认识Flow.a1a965b5.js"><link rel="prefetch" href="/notes/assets/js/page-评论.7c835dea.js"><link rel="prefetch" href="/notes/assets/js/page-详解箭头函数和普通函数的区别以及箭头函数的注意事项、不适用场景.11d736e1.js"><link rel="prefetch" href="/notes/assets/js/page-说说对SPA单页面的理解，它的优缺点分别是什么？.80efde5f.js"><link rel="prefetch" href="/notes/assets/js/page-调和的过程.5f93084d.js"><link rel="prefetch" href="/notes/assets/js/page-调度原理.392897ea.js"><link rel="prefetch" href="/notes/assets/js/page-谨慎使用--outFile.d3f7ae86.js"><link rel="prefetch" href="/notes/assets/js/page-超链接target属性.bf9dbc49.js"><link rel="prefetch" href="/notes/assets/js/page-路径切换.cb392c3b.js"><link rel="prefetch" href="/notes/assets/js/page-路由注册.c9f347bd.js"><link rel="prefetch" href="/notes/assets/js/page-输出(output).c691141e.js"><link rel="prefetch" href="/notes/assets/js/page-辨析联合类型.d1c65669.js"><link rel="prefetch" href="/notes/assets/js/page-迭代协议.07660dcb.js"><link rel="prefetch" href="/notes/assets/js/page-迭代器模式.caa54720.js"><link rel="prefetch" href="/notes/assets/js/page-适配器模式.5132066f.js"><link rel="prefetch" href="/notes/assets/js/page-选择器列表.fcf93eb7.js"><link rel="prefetch" href="/notes/assets/js/page-通用兄弟选择器.e50d5143.js"><link rel="prefetch" href="/notes/assets/js/page-通过标签语义化优化SEO.a54403be.js"><link rel="prefetch" href="/notes/assets/js/page-通配选择器.da4c017d.js"><link rel="prefetch" href="/notes/assets/js/page-需求分析.c980c6be.js"><link rel="prefetch" href="/notes/assets/js/page-非ReactJSX.950e5b14.js"><link rel="prefetch" href="/notes/assets/js/page-项目性能优化.a6c88073.js"><link rel="prefetch" href="/notes/assets/js/page-🗿HEAD.35a8118a.js"><link rel="prefetch" href="/notes/assets/js/vendors~flowchart.553504a1.js"><link rel="prefetch" href="/notes/assets/js/vendors~mermaid.32e6aacf.js"><link rel="prefetch" href="/notes/assets/js/vendors~photo-swipe.9372e924.js">
    <link rel="stylesheet" href="/notes/assets/css/0.styles.5a16df27.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container has-navbar has-sidebar has-anchor"><header class="navbar"><!----> <div class="content__navbar-start"></div> <button title="Sidebar Button" class="sidebar-button"><span class="icon"></span></button> <a href="/notes/" class="home-link router-link-active"><!----> <!----> <span class="site-name can-hide">前端 学习</span></a> <!----> <div class="content__navbar-center"></div> <div class="links"><button tabindex="-1" aria-hidden="true" class="color-button"><svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="skin-icon"><path d="M224 800c0 9.6 3.2 44.8 6.4 54.4 6.4 48-48 76.8-48 76.8s80 41.6 147.2 0 134.4-134.4
        38.4-195.2c-22.4-12.8-41.6-19.2-57.6-19.2C259.2 716.8 227.2 761.6 224 800zM560 675.2l-32
        51.2c-51.2 51.2-83.2 32-83.2 32 25.6 67.2 0 112-12.8 128 25.6 6.4 51.2 9.6 80 9.6 54.4 0
        102.4-9.6 150.4-32l0 0c3.2 0 3.2-3.2 3.2-3.2 22.4-16 12.8-35.2
        6.4-44.8-9.6-12.8-12.8-25.6-12.8-41.6 0-54.4 60.8-99.2 137.6-99.2 6.4 0 12.8 0 22.4
        0 12.8 0 38.4 9.6 48-25.6 0-3.2 0-3.2 3.2-6.4 0-3.2 3.2-6.4 3.2-6.4 6.4-16 6.4-16 6.4-19.2
        9.6-35.2 16-73.6 16-115.2 0-105.6-41.6-198.4-108.8-268.8C704 396.8 560 675.2 560 675.2zM224
        419.2c0-28.8 22.4-51.2 51.2-51.2 28.8 0 51.2 22.4 51.2 51.2 0 28.8-22.4 51.2-51.2 51.2C246.4
        470.4 224 448 224 419.2zM320 284.8c0-22.4 19.2-41.6 41.6-41.6 22.4 0 41.6 19.2 41.6 41.6 0
        22.4-19.2 41.6-41.6 41.6C339.2 326.4 320 307.2 320 284.8zM457.6 208c0-12.8 12.8-25.6 25.6-25.6
        12.8 0 25.6 12.8 25.6 25.6 0 12.8-12.8 25.6-25.6 25.6C470.4 233.6 457.6 220.8 457.6 208zM128
        505.6C128 592 153.6 672 201.6 736c28.8-60.8 112-60.8 124.8-60.8-16-51.2 16-99.2
        16-99.2l316.8-422.4c-48-19.2-99.2-32-150.4-32C297.6 118.4 128 291.2 128 505.6zM764.8
        86.4c-22.4 19.2-390.4 518.4-390.4 518.4-22.4 28.8-12.8 76.8 22.4 99.2l9.6 6.4c35.2 22.4
        80 12.8 99.2-25.6 0 0 6.4-12.8 9.6-19.2 54.4-105.6 275.2-524.8 288-553.6
        6.4-19.2-3.2-32-19.2-32C777.6 76.8 771.2 80 764.8 86.4z"></path></svg> <div class="color-picker-menu" style="display:none;"><div class="theme-options"><ul class="themecolor-select"><label for="themecolor-select">Theme Color:</label> <li><span class="default-theme"></span></li> </ul> <div class="darkmode-toggle"><label for="darkmode-toggle" class="desc">Theme Mode:</label> <div class="darkmode-switch"><div class="item day"><svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon light-icon"><path d="M512 256a42.667 42.667 0 0 0 42.667-42.667V128a42.667 42.667 0 0 0-85.334 0v85.333A42.667 42.667 0 0 0 512 256zm384 213.333h-85.333a42.667 42.667 0 0 0 0 85.334H896a42.667 42.667 0 0 0 0-85.334zM256 512a42.667 42.667 0 0 0-42.667-42.667H128a42.667 42.667 0 0 0 0 85.334h85.333A42.667 42.667 0 0 0 256 512zm9.387-298.667a42.667 42.667 0 0 0-59.307 62.72l61.44 59.307a42.667 42.667 0 0 0 31.147 11.947 42.667 42.667 0 0 0 30.72-13.227 42.667 42.667 0 0 0 0-60.16zm459.946 133.974a42.667 42.667 0 0 0 29.44-11.947l61.44-59.307a42.667 42.667 0 0 0-57.6-62.72l-61.44 60.587a42.667 42.667 0 0 0 0 60.16 42.667 42.667 0 0 0 28.16 13.227zM512 768a42.667 42.667 0 0 0-42.667 42.667V896a42.667 42.667 0 0 0 85.334 0v-85.333A42.667 42.667 0 0 0 512 768zm244.48-79.36a42.667 42.667 0 0 0-59.307 61.44l61.44 60.587a42.667 42.667 0 0 0 29.44 11.946 42.667 42.667 0 0 0 30.72-12.8 42.667 42.667 0 0 0 0-60.586zm-488.96 0-61.44 59.307a42.667 42.667 0 0 0 0 60.586 42.667 42.667 0 0 0 30.72 12.8 42.667 42.667 0 0 0 28.587-10.666l61.44-59.307a42.667 42.667 0 0 0-59.307-61.44zM512 341.333A170.667 170.667 0 1 0 682.667 512 170.667 170.667 0 0 0 512 341.333z" fill="currentColor"></path></svg></div> <div class="item auto active"><svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon auto-icon"><path d="M460.864 539.072H564.8L510.592 376l-49.728 163.072zM872 362.368V149.504H659.648L510.528 0l-149.12 149.504H149.12v212.928L0 511.872l149.12 149.504v212.928h212.352l149.12 149.504 149.12-149.504h212.352V661.376l149.12-149.504L872 362.368zM614.464 693.12l-31.616-90.624H438.272l-31.616 90.624h-85.888l144.576-407.68h90.368l144.576 407.68h-85.824zm0 0" fill="currentColor"></path></svg></div> <div class="item night"><svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon dark-icon"><path d="M935.539 630.402c-11.43-11.432-28.674-14.739-43.531-8.354-46.734 20.103-96.363 30.297-147.508 30.297-99.59 0-193.221-38.784-263.64-109.203-108.637-108.637-139.61-270.022-78.908-411.148a39.497 39.497 0 0 0-51.886-51.887c-52.637 22.64-100.017 54.81-140.826 95.616-85.346 85.346-132.346 198.821-132.346 319.52 0 120.7 47.001 234.172 132.347 319.519S408.063 947.11 528.76 947.11c120.7 0 234.172-47.003 319.52-132.351 40.809-40.81 72.978-88.19 95.616-140.826a39.497 39.497 0 0 0-8.356-43.532z" fill="currentColor"></path></svg></div></div> <!----></div></div></div></button> <div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="js" class="dropdown-title"><span class="title"><!---->
        js
      </span> <span class="arrow"></span></button> <ul class="nav-dropdown"><li class="dropdown-item"><a href="/notes/mozillajs/baseObject/symbol.html" class="nav-link"><!---->
  mozilla：基本对象
</a></li><li class="dropdown-item"><a href="/notes/jsInterview/baseInterview.html" class="nav-link"><!---->
  基础面试题
</a></li><li class="dropdown-item"><a href="/notes/js/stack/executionStack.html" class="nav-link"><!---->
  js 概念
</a></li><li class="dropdown-item"><a href="/notes/es6/interview1.html" class="nav-link"><!---->
  es6
</a></li><li class="dropdown-item"><a href="/notes/es7/interview1.html" class="nav-link"><!---->
  es7
</a></li><li class="dropdown-item"><a href="/notes/es8/interview1.html" class="nav-link"><!---->
  es8
</a></li><li class="dropdown-item"><a href="/notes/es9/interview1.html" class="nav-link"><!---->
  es9
</a></li><li class="dropdown-item"><a href="/notes/es10/interview1.html" class="nav-link"><!---->
  es10
</a></li><li class="dropdown-item"><a href="/notes/ts/jsx/support.html" class="nav-link"><!---->
  JSX
</a></li><li class="dropdown-item"><a href="/notes/ts/project/inDepthTs.html" class="nav-link"><!---->
  TypeScript 项目
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="css" class="dropdown-title"><span class="title"><!---->
        css
      </span> <span class="arrow"></span></button> <ul class="nav-dropdown"><li class="dropdown-item"><a href="/notes/mozillaCss/reference/universalSelectors.html" class="nav-link"><!---->
  第 1 期：CSS API
</a></li><li class="dropdown-item"><a href="/notes/css/interview/baseCss.html" class="nav-link"><!---->
  零散记录
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="html" class="dropdown-title"><span class="title"><!---->
        html
      </span> <span class="arrow"></span></button> <ul class="nav-dropdown"><li class="dropdown-item"><a href="/notes/html/interview/linkImport.html" class="nav-link"><!---->
  零散记录
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="端" class="dropdown-title"><span class="title"><!---->
        端
      </span> <span class="arrow"></span></button> <ul class="nav-dropdown"><li class="dropdown-item"><a href="/notes/browser/interview/baseInterview.html" class="nav-link"><!---->
  基础浏览器
</a></li><li class="dropdown-item"><a href="/notes/http/interview/baseInterview.html" class="nav-link"><!---->
  基础http
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="工具" class="dropdown-title"><span class="title"><!---->
        工具
      </span> <span class="arrow"></span></button> <ul class="nav-dropdown"><li class="dropdown-item"><a href="/notes/webpack/interview/webpackInterview.html" class="nav-link"><!---->
  webpack
</a></li><li class="dropdown-item"><a href="/notes/esbuild/description.html" class="nav-link"><!---->
  esbuild
</a></li><li class="dropdown-item"><a href="/notes/rollup/introduction.html" class="nav-link"><!---->
  rollup
</a></li><li class="dropdown-item"><a href="/notes/git/indx.html" class="nav-link"><!---->
  git
</a></li><li class="dropdown-item"><a href="/notes/nginx/base.html" class="nav-link"><!---->
  nginx
</a></li><li class="dropdown-item"><a href="/notes/cli/base.html" class="nav-link"><!---->
  cli
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="react" class="dropdown-title"><span class="title"><!---->
        react
      </span> <span class="arrow"></span></button> <ul class="nav-dropdown"><li class="dropdown-item"><a href="/notes/ILoveDevelop/react/principle/base.html" class="nav-link"><!---->
  react 源码阅读 代码视角
</a></li><li class="dropdown-item"><a href="/notes/react/preparation/idea.html" class="nav-link"><!---->
  react 源码阅读 思想视角
</a></li><li class="dropdown-item"><a href="/notes/react-illustration-series/main/macro-structure.html" class="nav-link"><!---->
  图解React源码
</a></li><li class="dropdown-item"><a href="/notes/umi/interview/pluginDva.html" class="nav-link"><!---->
  umi
</a></li><li class="dropdown-item"><a href="/notes/reactInterview/interview1.html" class="nav-link"><!---->
  整理
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="vue" class="dropdown-title"><span class="title"><!---->
        vue
      </span> <span class="arrow"></span></button> <ul class="nav-dropdown"><li class="dropdown-item"><a href="/notes/vue/prepare/flow.html" class="nav-link"><!---->
  第 1 期：源码解读-准备工作
</a></li><li class="dropdown-item"><a href="/notes/vue/data-driven/_index.html" class="nav-link"><!---->
  第2期：源码解读-数据驱动
</a></li><li class="dropdown-item"><a href="/notes/vue/components/create-component.html" class="nav-link"><!---->
  第3期：源码解读-组件化
</a></li><li class="dropdown-item"><a href="/notes/vue/reactive/reactive-object.html" class="nav-link"><!---->
  第4期：源码解读-深入响应式原理
</a></li><li class="dropdown-item"><a href="/notes/vue/compile/entrance.html" class="nav-link"><!---->
  第5期：源码解读-编译
</a></li><li class="dropdown-item"><a href="/notes/vue/extend/event.html" class="nav-link"><!---->
  第6期：源码解读-扩展
</a></li><li class="dropdown-item"><a href="/notes/vue/vue-router/install.html" class="nav-link"><!---->
  第7期：源码解读-VueRouter
</a></li><li class="dropdown-item"><a href="/notes/vue/vuex/idex.html" class="nav-link"><!---->
  第8期：源码解读-Vuex
</a></li><li class="dropdown-item"><a href="/notes/vue/interview/baseInterview.html" class="nav-link"><!---->
  第9期：基础面试题
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="性能优化" class="dropdown-title"><span class="title"><!---->
        性能优化
      </span> <span class="arrow"></span></button> <ul class="nav-dropdown"><li class="dropdown-item"><a href="/notes/performance/vue/vue2Base.html" class="nav-link"><!---->
  vue-性能优化
</a></li><li class="dropdown-item"><a href="/notes/performance/react/reactBase.html" class="nav-link"><!---->
  react-性能优化
</a></li><li class="dropdown-item"><a href="/notes/performance/base/drag1.html" class="nav-link"><!---->
  组件设计
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="算法&amp;设计" class="dropdown-title"><span class="title"><!---->
        算法&amp;设计
      </span> <span class="arrow"></span></button> <ul class="nav-dropdown"><li class="dropdown-item"><a href="/notes/algorithm/interview/baseInterview.html" class="nav-link"><!---->
  第 1 期：基础面试题
</a></li><li class="dropdown-item"><a href="/notes/design/overview.html" class="nav-link"><!---->
  设计模式
</a></li></ul></div></div></nav> <!----> <!----> <!----> <div class="content__navbar-end"></div></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><!----> <!----> <div class="content__sidebar-top"></div> <nav class="sidebar-nav-links"><div class="nav-item"><div class="mobile-dropdown-wrapper"><button type="button" aria-label="js" class="dropdown-title"><span class="title"><!---->
      js
    </span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/notes/mozillajs/baseObject/symbol.html" class="nav-link"><!---->
  mozilla：基本对象
</a></li><li class="dropdown-item"><!----> <a href="/notes/jsInterview/baseInterview.html" class="nav-link"><!---->
  基础面试题
</a></li><li class="dropdown-item"><!----> <a href="/notes/js/stack/executionStack.html" class="nav-link"><!---->
  js 概念
</a></li><li class="dropdown-item"><!----> <a href="/notes/es6/interview1.html" class="nav-link"><!---->
  es6
</a></li><li class="dropdown-item"><!----> <a href="/notes/es7/interview1.html" class="nav-link"><!---->
  es7
</a></li><li class="dropdown-item"><!----> <a href="/notes/es8/interview1.html" class="nav-link"><!---->
  es8
</a></li><li class="dropdown-item"><!----> <a href="/notes/es9/interview1.html" class="nav-link"><!---->
  es9
</a></li><li class="dropdown-item"><!----> <a href="/notes/es10/interview1.html" class="nav-link"><!---->
  es10
</a></li><li class="dropdown-item"><!----> <a href="/notes/ts/jsx/support.html" class="nav-link"><!---->
  JSX
</a></li><li class="dropdown-item"><!----> <a href="/notes/ts/project/inDepthTs.html" class="nav-link"><!---->
  TypeScript 项目
</a></li></ul></div></div><div class="nav-item"><div class="mobile-dropdown-wrapper"><button type="button" aria-label="css" class="dropdown-title"><span class="title"><!---->
      css
    </span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/notes/mozillaCss/reference/universalSelectors.html" class="nav-link"><!---->
  第 1 期：CSS API
</a></li><li class="dropdown-item"><!----> <a href="/notes/css/interview/baseCss.html" class="nav-link"><!---->
  零散记录
</a></li></ul></div></div><div class="nav-item"><div class="mobile-dropdown-wrapper"><button type="button" aria-label="html" class="dropdown-title"><span class="title"><!---->
      html
    </span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/notes/html/interview/linkImport.html" class="nav-link"><!---->
  零散记录
</a></li></ul></div></div><div class="nav-item"><div class="mobile-dropdown-wrapper"><button type="button" aria-label="端" class="dropdown-title"><span class="title"><!---->
      端
    </span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/notes/browser/interview/baseInterview.html" class="nav-link"><!---->
  基础浏览器
</a></li><li class="dropdown-item"><!----> <a href="/notes/http/interview/baseInterview.html" class="nav-link"><!---->
  基础http
</a></li></ul></div></div><div class="nav-item"><div class="mobile-dropdown-wrapper"><button type="button" aria-label="工具" class="dropdown-title"><span class="title"><!---->
      工具
    </span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/notes/webpack/interview/webpackInterview.html" class="nav-link"><!---->
  webpack
</a></li><li class="dropdown-item"><!----> <a href="/notes/esbuild/description.html" class="nav-link"><!---->
  esbuild
</a></li><li class="dropdown-item"><!----> <a href="/notes/rollup/introduction.html" class="nav-link"><!---->
  rollup
</a></li><li class="dropdown-item"><!----> <a href="/notes/git/indx.html" class="nav-link"><!---->
  git
</a></li><li class="dropdown-item"><!----> <a href="/notes/nginx/base.html" class="nav-link"><!---->
  nginx
</a></li><li class="dropdown-item"><!----> <a href="/notes/cli/base.html" class="nav-link"><!---->
  cli
</a></li></ul></div></div><div class="nav-item"><div class="mobile-dropdown-wrapper"><button type="button" aria-label="react" class="dropdown-title"><span class="title"><!---->
      react
    </span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/notes/ILoveDevelop/react/principle/base.html" class="nav-link"><!---->
  react 源码阅读 代码视角
</a></li><li class="dropdown-item"><!----> <a href="/notes/react/preparation/idea.html" class="nav-link"><!---->
  react 源码阅读 思想视角
</a></li><li class="dropdown-item"><!----> <a href="/notes/react-illustration-series/main/macro-structure.html" class="nav-link"><!---->
  图解React源码
</a></li><li class="dropdown-item"><!----> <a href="/notes/umi/interview/pluginDva.html" class="nav-link"><!---->
  umi
</a></li><li class="dropdown-item"><!----> <a href="/notes/reactInterview/interview1.html" class="nav-link"><!---->
  整理
</a></li></ul></div></div><div class="nav-item"><div class="mobile-dropdown-wrapper"><button type="button" aria-label="vue" class="dropdown-title"><span class="title"><!---->
      vue
    </span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/notes/vue/prepare/flow.html" class="nav-link"><!---->
  第 1 期：源码解读-准备工作
</a></li><li class="dropdown-item"><!----> <a href="/notes/vue/data-driven/_index.html" class="nav-link"><!---->
  第2期：源码解读-数据驱动
</a></li><li class="dropdown-item"><!----> <a href="/notes/vue/components/create-component.html" class="nav-link"><!---->
  第3期：源码解读-组件化
</a></li><li class="dropdown-item"><!----> <a href="/notes/vue/reactive/reactive-object.html" class="nav-link"><!---->
  第4期：源码解读-深入响应式原理
</a></li><li class="dropdown-item"><!----> <a href="/notes/vue/compile/entrance.html" class="nav-link"><!---->
  第5期：源码解读-编译
</a></li><li class="dropdown-item"><!----> <a href="/notes/vue/extend/event.html" class="nav-link"><!---->
  第6期：源码解读-扩展
</a></li><li class="dropdown-item"><!----> <a href="/notes/vue/vue-router/install.html" class="nav-link"><!---->
  第7期：源码解读-VueRouter
</a></li><li class="dropdown-item"><!----> <a href="/notes/vue/vuex/idex.html" class="nav-link"><!---->
  第8期：源码解读-Vuex
</a></li><li class="dropdown-item"><!----> <a href="/notes/vue/interview/baseInterview.html" class="nav-link"><!---->
  第9期：基础面试题
</a></li></ul></div></div><div class="nav-item"><div class="mobile-dropdown-wrapper"><button type="button" aria-label="性能优化" class="dropdown-title"><span class="title"><!---->
      性能优化
    </span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/notes/performance/vue/vue2Base.html" class="nav-link"><!---->
  vue-性能优化
</a></li><li class="dropdown-item"><!----> <a href="/notes/performance/react/reactBase.html" class="nav-link"><!---->
  react-性能优化
</a></li><li class="dropdown-item"><!----> <a href="/notes/performance/base/drag1.html" class="nav-link"><!---->
  组件设计
</a></li></ul></div></div><div class="nav-item"><div class="mobile-dropdown-wrapper"><button type="button" aria-label="算法&amp;设计" class="dropdown-title"><span class="title"><!---->
      算法&amp;设计
    </span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/notes/algorithm/interview/baseInterview.html" class="nav-link"><!---->
  第 1 期：基础面试题
</a></li><li class="dropdown-item"><!----> <a href="/notes/design/overview.html" class="nav-link"><!---->
  设计模式
</a></li></ul></div></div> <!----></nav> <!----> <div class="content__sidebar-center"></div> <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading clickable open"><!----> <span class="title">第 1 期：基础面试题</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/notes/jsInterview/webAnimations/" class="sidebar-link">web Animations</a></li><li><a href="/notes/jsInterview/44Questions/" class="sidebar-link">44个 Javascript 变态题解析</a></li><li><a href="/notes/jsInterview/jsHandwriting/" class="sidebar-link">js 高频手写题</a></li><li><a href="/notes/jsInterview/jsonStringify/" class="sidebar-link">JSON.stringify 悲伤的故事</a></li><li><a href="/notes/jsInterview/useEs6/" class="sidebar-link">使用Es6</a></li><li><a href="/notes/jsInterview/asyncAwait/" class="sidebar-link">async/await原理</a></li><li><a href="/notes/jsInterview/cycle/" class="sidebar-link">24个 JavaScript 循环遍历方法</a></li><li><a href="/notes/jsInterview/cycleOtherWay/" class="sidebar-link">数组方法另一个角度总结</a></li><li><a href="/notes/jsInterview/largeFileResumableUpload/" class="sidebar-link">大文件上传和断点续传</a></li><li><a href="/notes/jsInterview/baseInterview/" aria-current="page" class="active sidebar-link">第一套js综合基础面试题</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/notes/jsInterview/baseInterview/#_1-原型-构造函数-实例" class="sidebar-link">1. 原型 / 构造函数 / 实例</a></li><li class="sidebar-sub-header"><a href="/notes/jsInterview/baseInterview/#_2-原型链" class="sidebar-link">2.原型链：</a></li><li class="sidebar-sub-header"><a href="/notes/jsInterview/baseInterview/#_3-执行上下文-ec" class="sidebar-link">3. 执行上下文(EC)</a></li><li class="sidebar-sub-header"><a href="/notes/jsInterview/baseInterview/#_4-变量对象" class="sidebar-link">4.变量对象</a></li><li class="sidebar-sub-header"><a href="/notes/jsInterview/baseInterview/#_5-作用域" class="sidebar-link">5. 作用域</a></li><li class="sidebar-sub-header"><a href="/notes/jsInterview/baseInterview/#_6-作用域链" class="sidebar-link">6.作用域链</a></li><li class="sidebar-sub-header"><a href="/notes/jsInterview/baseInterview/#_7-闭包" class="sidebar-link">7. 闭包</a></li><li class="sidebar-sub-header"><a href="/notes/jsInterview/baseInterview/#_8-script-引入方式" class="sidebar-link">8.script 引入方式：</a></li><li class="sidebar-sub-header"><a href="/notes/jsInterview/baseInterview/#_9-对象的拷贝" class="sidebar-link">9.对象的拷贝</a></li><li class="sidebar-sub-header"><a href="/notes/jsInterview/baseInterview/#_10-new运算符的执行过程" class="sidebar-link">10.new运算符的执行过程</a></li><li class="sidebar-sub-header"><a href="/notes/jsInterview/baseInterview/#_11-instanceof原理" class="sidebar-link">11.instanceof原理</a></li><li class="sidebar-sub-header"><a href="/notes/jsInterview/baseInterview/#_12-代码的复用" class="sidebar-link">12.代码的复用</a></li><li class="sidebar-sub-header"><a href="/notes/jsInterview/baseInterview/#_13-继承" class="sidebar-link">13.继承</a></li><li class="sidebar-sub-header"><a href="/notes/jsInterview/baseInterview/#_14-类型转换" class="sidebar-link">14.类型转换</a></li><li class="sidebar-sub-header"><a href="/notes/jsInterview/baseInterview/#_15-模块化" class="sidebar-link">15.模块化</a></li><li class="sidebar-sub-header"><a href="/notes/jsInterview/baseInterview/#_16-函数执行改变this" class="sidebar-link">16. 函数执行改变this</a></li><li class="sidebar-sub-header"><a href="/notes/jsInterview/baseInterview/#_17-es6-es7" class="sidebar-link">17. ES6/ES7</a></li><li class="sidebar-sub-header"><a href="/notes/jsInterview/baseInterview/#_18-ast" class="sidebar-link">18. AST</a></li><li class="sidebar-sub-header"><a href="/notes/jsInterview/baseInterview/#_19-babel编译原理" class="sidebar-link">19. babel编译原理</a></li><li class="sidebar-sub-header"><a href="/notes/jsInterview/baseInterview/#_20-函数柯里化" class="sidebar-link">20. 函数柯里化</a></li><li class="sidebar-sub-header"><a href="/notes/jsInterview/baseInterview/#_21-数组-array" class="sidebar-link">21. 数组(array)</a></li><li class="sidebar-sub-header"><a href="/notes/jsInterview/baseInterview/#_22-数据类型" class="sidebar-link">22. 数据类型</a></li><li class="sidebar-sub-header"><a href="/notes/jsInterview/baseInterview/#_23-、-和-运算符分别能做什么" class="sidebar-link">23. &amp;&amp; 、 ||和!! 运算符分别能做什么</a></li><li class="sidebar-sub-header"><a href="/notes/jsInterview/baseInterview/#_24-js的数据类型的转换" class="sidebar-link">24. js的数据类型的转换</a></li><li class="sidebar-sub-header"><a href="/notes/jsInterview/baseInterview/#_25-js中数据类型的判断-typeof-instanceof-constructor-object-prototype-tostring-call" class="sidebar-link">25. JS中数据类型的判断（ typeof，instanceof，constructor，Object.prototype.toString.call()</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/notes/jsInterview/baseInterview/#typeof" class="sidebar-link heading3">typeof</a></li><li class="sidebar-sub-header"><a href="/notes/jsInterview/baseInterview/#_2-instanceof" class="sidebar-link heading3">（2）instanceof</a></li><li class="sidebar-sub-header"><a href="/notes/jsInterview/baseInterview/#_3-constructor" class="sidebar-link heading3">（3）constructor</a></li><li class="sidebar-sub-header"><a href="/notes/jsInterview/baseInterview/#_4-object-prototype-tostring-call-使用-object-对象的原型方法-tostring-使用-call-进行狸猫换太子-借用object的-tostring-方法" class="sidebar-link heading3">（4）Object.prototype.toString.call() 使用 Object 对象的原型方法 toString ，使用 call 进行狸猫换太子，借用Object的 toString 方法</a></li></ul></li><li class="sidebar-sub-header"><a href="/notes/jsInterview/baseInterview/#_26-内置对象" class="sidebar-link">26. 内置对象</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/notes/jsInterview/baseInterview/#标准内置对象的分类" class="sidebar-link heading3">标准内置对象的分类</a></li></ul></li><li class="sidebar-sub-header"><a href="/notes/jsInterview/baseInterview/#_27-undefined-与-undeclared-的区别" class="sidebar-link">27. undefined 与 undeclared 的区别</a></li><li class="sidebar-sub-header"><a href="/notes/jsInterview/baseInterview/#_28-null-和-undefined-的区别" class="sidebar-link">28. null 和 undefined 的区别</a></li><li class="sidebar-sub-header"><a href="/notes/jsInterview/baseInterview/#_29-和-的-valueof-和-tostring-的结果是什么" class="sidebar-link">29. {} 和 [] 的 valueOf 和 toString 的结果是什么？</a></li><li class="sidebar-sub-header"><a href="/notes/jsInterview/baseInterview/#_30-javascript-的作用域和作用域链" class="sidebar-link">30. Javascript 的作用域和作用域链</a></li><li class="sidebar-sub-header"><a href="/notes/jsInterview/baseInterview/#_31-javascript-创建对象的几种方式" class="sidebar-link">31. Javascript 创建对象的几种方式</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/notes/jsInterview/baseInterview/#_1-第一种是工厂模式" class="sidebar-link heading3">（1）第一种是工厂模式</a></li><li class="sidebar-sub-header"><a href="/notes/jsInterview/baseInterview/#_2-第二种是构造函数模式" class="sidebar-link heading3">（2）第二种是构造函数模式</a></li><li class="sidebar-sub-header"><a href="/notes/jsInterview/baseInterview/#_3-第三种模式是原型模式" class="sidebar-link heading3">（3）第三种模式是原型模式</a></li><li class="sidebar-sub-header"><a href="/notes/jsInterview/baseInterview/#_4-第四种模式是组合使用构造函数模式和原型模式" class="sidebar-link heading3">（4）第四种模式是组合使用构造函数模式和原型模式</a></li><li class="sidebar-sub-header"><a href="/notes/jsInterview/baseInterview/#_5-第五种模式是动态原型模式" class="sidebar-link heading3">（5）第五种模式是动态原型模式</a></li><li class="sidebar-sub-header"><a href="/notes/jsInterview/baseInterview/#_6-第六种模式是寄生构造函数模式" class="sidebar-link heading3">（6）第六种模式是寄生构造函数模式</a></li></ul></li><li class="sidebar-sub-header"><a href="/notes/jsInterview/baseInterview/#_32-javascript-继承的几种实现方式" class="sidebar-link">32. JavaScript 继承的几种实现方式</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/notes/jsInterview/baseInterview/#_1-第一种是以原型链的方式来实现继承" class="sidebar-link heading3">（1）第一种是以原型链的方式来实现继承</a></li><li class="sidebar-sub-header"><a href="/notes/jsInterview/baseInterview/#_2-第二种方式是使用借用构造函数的方式" class="sidebar-link heading3">（2）第二种方式是使用借用构造函数的方式</a></li><li class="sidebar-sub-header"><a href="/notes/jsInterview/baseInterview/#_3-第三种方式是组合继承" class="sidebar-link heading3">（3）第三种方式是组合继承</a></li><li class="sidebar-sub-header"><a href="/notes/jsInterview/baseInterview/#_4-第四种方式是原型式继承" class="sidebar-link heading3">（4）第四种方式是原型式继承</a></li><li class="sidebar-sub-header"><a href="/notes/jsInterview/baseInterview/#_5-第五种方式是寄生式继承" class="sidebar-link heading3">（5）第五种方式是寄生式继承</a></li><li class="sidebar-sub-header"><a href="/notes/jsInterview/baseInterview/#_6-第六种方式是寄生式组合继承" class="sidebar-link heading3">（6）第六种方式是寄生式组合继承</a></li></ul></li><li class="sidebar-sub-header"><a href="/notes/jsInterview/baseInterview/#_33-寄生式组合继承的实现" class="sidebar-link">33. 寄生式组合继承的实现</a></li><li class="sidebar-sub-header"><a href="/notes/jsInterview/baseInterview/#_34-谈谈你对this、call、apply和bind的理解" class="sidebar-link">34. 谈谈你对this、call、apply和bind的理解</a></li><li class="sidebar-sub-header"><a href="/notes/jsInterview/baseInterview/#_35-javascript-原型-原型链" class="sidebar-link">35. JavaScript 原型，原型链</a></li><li class="sidebar-sub-header"><a href="/notes/jsInterview/baseInterview/#_36-js-获取原型的方法" class="sidebar-link">36. js 获取原型的方法</a></li><li class="sidebar-sub-header"><a href="/notes/jsInterview/baseInterview/#_37-什么是闭包-为什么要用它" class="sidebar-link">37. 什么是闭包，为什么要用它</a></li><li class="sidebar-sub-header"><a href="/notes/jsInterview/baseInterview/#_38-什么是-dom-和-bom" class="sidebar-link">38. 什么是 DOM 和 BOM</a></li><li class="sidebar-sub-header"><a href="/notes/jsInterview/baseInterview/#_39-三种事件模型是什么" class="sidebar-link">39. 三种事件模型是什么</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/notes/jsInterview/baseInterview/#_1-dom0级模型" class="sidebar-link heading3">1. DOM0级模型</a></li><li class="sidebar-sub-header"><a href="/notes/jsInterview/baseInterview/#_2-ie-事件模型" class="sidebar-link heading3">2. IE 事件模型</a></li><li class="sidebar-sub-header"><a href="/notes/jsInterview/baseInterview/#_3-dom2-级事件模型" class="sidebar-link heading3">3. DOM2 级事件模型</a></li></ul></li><li class="sidebar-sub-header"><a href="/notes/jsInterview/baseInterview/#_40-事件委托是什么" class="sidebar-link">40. 事件委托是什么</a></li><li class="sidebar-sub-header"><a href="/notes/jsInterview/baseInterview/#_41-什么是事件传播" class="sidebar-link">41. 什么是事件传播</a></li><li class="sidebar-sub-header"><a href="/notes/jsInterview/baseInterview/#_42-什么是事件捕获" class="sidebar-link">42. 什么是事件捕获</a></li><li class="sidebar-sub-header"><a href="/notes/jsInterview/baseInterview/#_43-什么是事件冒泡" class="sidebar-link">43. 什么是事件冒泡</a></li><li class="sidebar-sub-header"><a href="/notes/jsInterview/baseInterview/#_44-dom-操作-怎样添加、移除、移动、复制、创建和查找节点" class="sidebar-link">44. DOM 操作——怎样添加、移除、移动、复制、创建和查找节点</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/notes/jsInterview/baseInterview/#_1-创建新节点" class="sidebar-link heading3">（1）创建新节点</a></li><li class="sidebar-sub-header"><a href="/notes/jsInterview/baseInterview/#_2-添加、移除、替换、插入" class="sidebar-link heading3">（2）添加、移除、替换、插入</a></li><li class="sidebar-sub-header"><a href="/notes/jsInterview/baseInterview/#_3-查找" class="sidebar-link heading3">（3）查找</a></li><li class="sidebar-sub-header"><a href="/notes/jsInterview/baseInterview/#_4-属性操作" class="sidebar-link heading3">（4）属性操作</a></li></ul></li><li class="sidebar-sub-header"><a href="/notes/jsInterview/baseInterview/#_45-js数组和对象有哪些原生方法" class="sidebar-link">45. js数组和对象有哪些原生方法</a></li><li class="sidebar-sub-header"><a href="/notes/jsInterview/baseInterview/#_46-常用的正则表达式" class="sidebar-link">46. 常用的正则表达式</a></li><li class="sidebar-sub-header"><a href="/notes/jsInterview/baseInterview/#_47-ajax-是什么-如何创建一个-ajax" class="sidebar-link">47. Ajax 是什么? 如何创建一个 Ajax</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/notes/jsInterview/baseInterview/#创建步骤" class="sidebar-link heading3">创建步骤：</a></li><li class="sidebar-sub-header"><a href="/notes/jsInterview/baseInterview/#面试手写-原生" class="sidebar-link heading3">面试手写（原生）：</a></li><li class="sidebar-sub-header"><a href="/notes/jsInterview/baseInterview/#jquery写法" class="sidebar-link heading3">jQuery写法</a></li><li class="sidebar-sub-header"><a href="/notes/jsInterview/baseInterview/#promise-封装实现" class="sidebar-link heading3">promise 封装实现：</a></li></ul></li><li class="sidebar-sub-header"><a href="/notes/jsInterview/baseInterview/#_48-js-延迟加载的方式有哪些" class="sidebar-link">48. js 延迟加载的方式有哪些</a></li><li class="sidebar-sub-header"><a href="/notes/jsInterview/baseInterview/#_49-谈谈你对模块化开发的理解" class="sidebar-link">49. 谈谈你对模块化开发的理解</a></li><li class="sidebar-sub-header"><a href="/notes/jsInterview/baseInterview/#_50-js-的几种模块规范" class="sidebar-link">50. js 的几种模块规范</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/notes/jsInterview/baseInterview/#第一种是-commonjs-方案" class="sidebar-link heading3">第一种是 CommonJS 方案</a></li><li class="sidebar-sub-header"><a href="/notes/jsInterview/baseInterview/#第二种是-amd-方案" class="sidebar-link heading3">第二种是 AMD 方案</a></li><li class="sidebar-sub-header"><a href="/notes/jsInterview/baseInterview/#第三种是-cmd-方案" class="sidebar-link heading3">第三种是 CMD 方案</a></li><li class="sidebar-sub-header"><a href="/notes/jsInterview/baseInterview/#第四种方案是-es6-提出的方案" class="sidebar-link heading3">第四种方案是 ES6 提出的方案</a></li></ul></li><li class="sidebar-sub-header"><a href="/notes/jsInterview/baseInterview/#_51-amd-和-cmd-规范的区别" class="sidebar-link">51. AMD 和 CMD 规范的区别</a></li><li class="sidebar-sub-header"><a href="/notes/jsInterview/baseInterview/#_52-es6-模块与-commonjs-模块、amd、cmd-的差异" class="sidebar-link">52. ES6 模块与 CommonJS 模块、AMD、CMD 的差异</a></li><li class="sidebar-sub-header"><a href="/notes/jsInterview/baseInterview/#_53-requirejs的核心原理是什么" class="sidebar-link">53. requireJS的核心原理是什么</a></li><li class="sidebar-sub-header"><a href="/notes/jsInterview/baseInterview/#_54-谈谈js的运行机制" class="sidebar-link">54. 谈谈JS的运行机制</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/notes/jsInterview/baseInterview/#_1-js单线程" class="sidebar-link heading3">1. js单线程</a></li><li class="sidebar-sub-header"><a href="/notes/jsInterview/baseInterview/#_2-js事件循环" class="sidebar-link heading3">2. js事件循环</a></li></ul></li><li class="sidebar-sub-header"><a href="/notes/jsInterview/baseInterview/#_55-arguments-的对象是什么" class="sidebar-link">55. arguments 的对象是什么</a></li><li class="sidebar-sub-header"><a href="/notes/jsInterview/baseInterview/#_56-为什么在调用这个函数时-代码中的b会变成一个全局变量" class="sidebar-link">56. 为什么在调用这个函数时，代码中的b会变成一个全局变量</a></li><li class="sidebar-sub-header"><a href="/notes/jsInterview/baseInterview/#_57-简单介绍一下-v8-引擎的垃圾回收机制" class="sidebar-link">57. 简单介绍一下 V8 引擎的垃圾回收机制</a></li><li class="sidebar-sub-header"><a href="/notes/jsInterview/baseInterview/#_58-哪些操作会造成内存泄漏" class="sidebar-link">58.  哪些操作会造成内存泄漏</a></li><li class="sidebar-sub-header"><a href="/notes/jsInterview/baseInterview/#_59-ecmascript-是什么" class="sidebar-link">59. ECMAScript 是什么</a></li><li class="sidebar-sub-header"><a href="/notes/jsInterview/baseInterview/#_60-ecmascript-2015-es6-有哪些新特性" class="sidebar-link">60. ECMAScript 2015（ES6）有哪些新特性</a></li><li class="sidebar-sub-header"><a href="/notes/jsInterview/baseInterview/#_61-var-let和const的区别是什么" class="sidebar-link">61. var,let和const的区别是什么</a></li><li class="sidebar-sub-header"><a href="/notes/jsInterview/baseInterview/#_62-什么是箭头函数" class="sidebar-link">62. 什么是箭头函数</a></li><li class="sidebar-sub-header"><a href="/notes/jsInterview/baseInterview/#_63-什么是类" class="sidebar-link">63. 什么是类</a></li><li class="sidebar-sub-header"><a href="/notes/jsInterview/baseInterview/#_64-什么是模板字符串" class="sidebar-link">64. 什么是模板字符串</a></li><li class="sidebar-sub-header"><a href="/notes/jsInterview/baseInterview/#_65-什么是对象解构" class="sidebar-link">65. 什么是对象解构</a></li><li class="sidebar-sub-header"><a href="/notes/jsInterview/baseInterview/#_66-什么是set对象-它是如何工作的" class="sidebar-link">66. 什么是Set对象，它是如何工作的</a></li><li class="sidebar-sub-header"><a href="/notes/jsInterview/baseInterview/#_67-什么是proxy" class="sidebar-link">67. 什么是Proxy</a></li><li class="sidebar-sub-header"><a href="/notes/jsInterview/baseInterview/#_68-写一个通用的事件侦听器函数" class="sidebar-link">68. 写一个通用的事件侦听器函数</a></li><li class="sidebar-sub-header"><a href="/notes/jsInterview/baseInterview/#_69-什么是函数式编程" class="sidebar-link">69. 什么是函数式编程</a></li><li class="sidebar-sub-header"><a href="/notes/jsInterview/baseInterview/#_70-什么是高阶函数" class="sidebar-link">70. 什么是高阶函数</a></li><li class="sidebar-sub-header"><a href="/notes/jsInterview/baseInterview/#_71-为什么函数被称为一等公民" class="sidebar-link">71. 为什么函数被称为一等公民</a></li><li class="sidebar-sub-header"><a href="/notes/jsInterview/baseInterview/#_72-手动实现-array-prototype-map-方法" class="sidebar-link">72. 手动实现 Array.prototype.map 方法</a></li><li class="sidebar-sub-header"><a href="/notes/jsInterview/baseInterview/#_73-手动实现array-prototype-filter方法" class="sidebar-link">73. 手动实现Array.prototype.filter方法</a></li><li class="sidebar-sub-header"><a href="/notes/jsInterview/baseInterview/#_74-手动实现array-prototype-reduce方法" class="sidebar-link">74. 手动实现Array.prototype.reduce方法</a></li><li class="sidebar-sub-header"><a href="/notes/jsInterview/baseInterview/#_75-js的深浅拷贝" class="sidebar-link">75. js的深浅拷贝</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/notes/jsInterview/baseInterview/#浅拷贝的实现方式" class="sidebar-link heading3">浅拷贝的实现方式：</a></li><li class="sidebar-sub-header"><a href="/notes/jsInterview/baseInterview/#深拷贝的实现方式" class="sidebar-link heading3">深拷贝的实现方式：</a></li></ul></li><li class="sidebar-sub-header"><a href="/notes/jsInterview/baseInterview/#_76-手写call、apply及bind函数" class="sidebar-link">76. 手写call、apply及bind函数</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/notes/jsInterview/baseInterview/#call-函数的实现步骤" class="sidebar-link heading3">call 函数的实现步骤</a></li><li class="sidebar-sub-header"><a href="/notes/jsInterview/baseInterview/#apply-函数的实现步骤" class="sidebar-link heading3">apply 函数的实现步骤</a></li><li class="sidebar-sub-header"><a href="/notes/jsInterview/baseInterview/#bind-函数的实现步骤" class="sidebar-link heading3">bind 函数的实现步骤</a></li></ul></li><li class="sidebar-sub-header"><a href="/notes/jsInterview/baseInterview/#_77-函数柯里化的实现" class="sidebar-link">77. 函数柯里化的实现</a></li><li class="sidebar-sub-header"><a href="/notes/jsInterview/baseInterview/#_78-js模拟new操作符的实现" class="sidebar-link">78. js模拟new操作符的实现</a></li><li class="sidebar-sub-header"><a href="/notes/jsInterview/baseInterview/#_79-什么是回调函数" class="sidebar-link">79. 什么是回调函数</a></li><li class="sidebar-sub-header"><a href="/notes/jsInterview/baseInterview/#_80-promise是什么" class="sidebar-link">80. Promise是什么</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/notes/jsInterview/baseInterview/#promise手写实现-面试够用版" class="sidebar-link heading3">promise手写实现，面试够用版：</a></li></ul></li><li class="sidebar-sub-header"><a href="/notes/jsInterview/baseInterview/#_81-iterator是什么-有什么作用" class="sidebar-link">81. Iterator是什么，有什么作用？</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/notes/jsInterview/baseInterview/#iterator语法" class="sidebar-link heading3">Iterator语法：</a></li><li class="sidebar-sub-header"><a href="/notes/jsInterview/baseInterview/#iterator-的作用有三个" class="sidebar-link heading3">Iterator 的作用有三个：</a></li><li class="sidebar-sub-header"><a href="/notes/jsInterview/baseInterview/#遍历过程" class="sidebar-link heading3">遍历过程：</a></li></ul></li><li class="sidebar-sub-header"><a href="/notes/jsInterview/baseInterview/#_82-generator函数是什么-有什么作用" class="sidebar-link">82. Generator函数是什么，有什么作用</a></li><li class="sidebar-sub-header"><a href="/notes/jsInterview/baseInterview/#_83-什么是-async-await-及其如何工作-有什么优缺点" class="sidebar-link">83. 什么是 async/await 及其如何工作,有什么优缺点</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/notes/jsInterview/baseInterview/#使用promise" class="sidebar-link heading3">使用Promise</a></li><li class="sidebar-sub-header"><a href="/notes/jsInterview/baseInterview/#使用async-await" class="sidebar-link heading3">使用async/await</a></li></ul></li><li class="sidebar-sub-header"><a href="/notes/jsInterview/baseInterview/#_84-instanceof的原理是什么-如何实现" class="sidebar-link">84. instanceof的原理是什么，如何实现</a></li><li class="sidebar-sub-header"><a href="/notes/jsInterview/baseInterview/#_85-js-的节流与防抖" class="sidebar-link">85. js 的节流与防抖</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/notes/jsInterview/baseInterview/#函数防抖" class="sidebar-link heading3">函数防抖</a></li><li class="sidebar-sub-header"><a href="/notes/jsInterview/baseInterview/#函数节流" class="sidebar-link heading3">函数节流</a></li></ul></li><li class="sidebar-sub-header"><a href="/notes/jsInterview/baseInterview/#_86-什么是设计模式" class="sidebar-link">86. 什么是设计模式</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/notes/jsInterview/baseInterview/#_1-概念" class="sidebar-link heading3">1. 概念</a></li><li class="sidebar-sub-header"><a href="/notes/jsInterview/baseInterview/#_2-设计原则" class="sidebar-link heading3">2. 设计原则</a></li><li class="sidebar-sub-header"><a href="/notes/jsInterview/baseInterview/#_3-设计模式的类型" class="sidebar-link heading3">3. 设计模式的类型</a></li></ul></li><li class="sidebar-sub-header"><a href="/notes/jsInterview/baseInterview/#_87-9种前端常见的设计模式" class="sidebar-link">87. 9种前端常见的设计模式</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/notes/jsInterview/baseInterview/#_1-外观模式-facade-pattern" class="sidebar-link heading3">1. 外观模式（Facade Pattern）</a></li><li class="sidebar-sub-header"><a href="/notes/jsInterview/baseInterview/#_2-代理模式-proxy-pattern" class="sidebar-link heading3">2. 代理模式（Proxy Pattern）</a></li><li class="sidebar-sub-header"><a href="/notes/jsInterview/baseInterview/#_3-工厂模式-factory-pattern" class="sidebar-link heading3">3. 工厂模式（Factory Pattern）</a></li><li class="sidebar-sub-header"><a href="/notes/jsInterview/baseInterview/#_4-单例模式-singleton-pattern" class="sidebar-link heading3">4. 单例模式（Singleton Pattern）</a></li><li class="sidebar-sub-header"><a href="/notes/jsInterview/baseInterview/#_5-策略模式-strategy-pattern" class="sidebar-link heading3">5. 策略模式（Strategy Pattern）</a></li><li class="sidebar-sub-header"><a href="/notes/jsInterview/baseInterview/#_6-迭代器模式-iterator-pattern" class="sidebar-link heading3">6. 迭代器模式（Iterator Pattern）</a></li><li class="sidebar-sub-header"><a href="/notes/jsInterview/baseInterview/#_7-观察者模式-observer-pattern" class="sidebar-link heading3">7. 观察者模式（Observer Pattern）</a></li><li class="sidebar-sub-header"><a href="/notes/jsInterview/baseInterview/#_8-中介者模式-mediator-pattern" class="sidebar-link heading3">8. 中介者模式（Mediator Pattern）</a></li><li class="sidebar-sub-header"><a href="/notes/jsInterview/baseInterview/#_9-访问者模式-visitor-pattern" class="sidebar-link heading3">9. 访问者模式（Visitor Pattern）</a></li></ul></li></ul></li><li><a href="/notes/jsInterview/babelCompile/" class="sidebar-link">babel 编译原理</a></li><li><a href="/notes/jsInterview/tsBaseInterview/" class="sidebar-link">typescript 综合面试</a></li><li><a href="/notes/jsInterview/base/" class="sidebar-link">js 总结</a></li><li><a href="/notes/jsInterview/weird/" class="sidebar-link">js 奇怪的小问题</a></li><li><a href="/notes/jsInterview/hybrid/" class="sidebar-link">Hybrid</a></li><li><a href="/notes/jsInterview/baseWebpack/" class="sidebar-link">Webpack</a></li><li><a href="/notes/jsInterview/webpackLoader/" class="sidebar-link">管理资源</a></li><li><a href="/notes/jsInterview/webpackPublic/" class="sidebar-link">public 设置</a></li><li><a href="/notes/jsInterview/codeSeparation/" class="sidebar-link">代码分离</a></li><li><a href="/notes/jsInterview/performance/" class="sidebar-link">项目性能优化</a></li><li><a href="/notes/jsInterview/spa/" class="sidebar-link">说说对 SPA 单页面的理解，它的优缺点分别是什么？</a></li><li><a href="/notes/jsInterview/promise/" class="sidebar-link">Promise 面试题总结</a></li><li><a href="/notes/jsInterview/executionMechanism/" class="sidebar-link">JavaScript 执行机制</a></li><li><a href="/notes/jsInterview/interview50/interview1/" class="sidebar-link">第1天 用递归算法实现，数组长度为5且元素的随机数在2-32间不重复的值</a></li><li><a href="/notes/jsInterview/interview50/interview2/" class="sidebar-link">第2天 写一个方法去掉字符串中的空格</a></li><li><a href="/notes/jsInterview/interview50/interview3/" class="sidebar-link">第3天 去除字符串中最后一个指定的字符</a></li><li><a href="/notes/jsInterview/interview50/interview4/" class="sidebar-link">第4天 写一个方法把下划线命名转成大驼峰命名</a></li><li><a href="/notes/jsInterview/interview50/interview5/" class="sidebar-link">第5天 写一个把字符串大小写切换的方法</a></li><li><a href="/notes/jsInterview/interview50/interview6/" class="sidebar-link">第6天 写一个去除制表符和换行符的方法</a></li><li><a href="/notes/jsInterview/interview50/interview7/" class="sidebar-link">第7天 统计某一字符或字符串在另一个字符串中出现的次数</a></li><li><a href="/notes/jsInterview/interview50/interview8/" class="sidebar-link">第8天 写一个加密字符串的方法</a></li><li><a href="/notes/jsInterview/interview50/interview9/" class="sidebar-link">第9天 写一个判断数据类型的方法</a></li><li><a href="/notes/jsInterview/interview50/interview10/" class="sidebar-link">第10天 简要描述下什么是回调函数并写一个例子出来</a></li><li><a href="/notes/jsInterview/interview50/interview11/" class="sidebar-link">第11天 简要描述下JS有哪些内置的对象</a></li><li><a href="/notes/jsInterview/interview50/interview12/" class="sidebar-link">第12天 写一个获取当前url查询字符串中的参数的方法</a></li><li><a href="/notes/jsInterview/interview50/interview13/" class="sidebar-link">第13天 说说你对javascript的作用域的理解</a></li><li><a href="/notes/jsInterview/interview50/interview14/" class="sidebar-link">第14天 什么是闭包？优缺点分别是什么？</a></li><li><a href="/notes/jsInterview/interview50/interview15/" class="sidebar-link">第15天 写一个数组去重的方法（支持多维数组）</a></li><li><a href="/notes/jsInterview/interview50/interview16/" class="sidebar-link">第16天 返回到顶部的方法有哪些？把其中一个方法出来</a></li><li><a href="/notes/jsInterview/interview50/interview17/" class="sidebar-link">第17天 typeof('abc')和typeof 'abc'都是string, 那么typeof是操作符还是函数？</a></li><li><a href="/notes/jsInterview/interview50/interview18/" class="sidebar-link">第18天 你理解的&quot;use strict&quot;;是什么?使用它有什么优缺点？</a></li><li><a href="/notes/jsInterview/interview50/interview19/" class="sidebar-link">第19天 &quot;attribute&quot;和&quot;property&quot;有什么不同？</a></li><li><a href="/notes/jsInterview/interview50/interview20/" class="sidebar-link">第20天 写一个验证身份证号的方法</a></li><li><a href="/notes/jsInterview/interview50/interview21/" class="sidebar-link">第21天 写一个方法验证是否为中文</a></li><li><a href="/notes/jsInterview/interview50/interview22/" class="sidebar-link">第22天 你对new操作符的理解是什么？手动实现一个new方法</a></li><li><a href="/notes/jsInterview/interview50/interview23/" class="sidebar-link">第23天 0.1 + 0.2、0.1 + 0.3和0.1 * 0.2分别等于多少？并解释下为什么？</a></li><li><a href="/notes/jsInterview/interview50/interview24/" class="sidebar-link">第24天 如何快速让一个数组乱序，写出来</a></li><li><a href="/notes/jsInterview/interview50/interview25/" class="sidebar-link">第25天 写一个判断设备来源的方法</a></li><li><a href="/notes/jsInterview/interview50/interview26/" class="sidebar-link">第26天 说说bind、call、apply的区别？并手写实现一个bind的方法</a></li><li><a href="/notes/jsInterview/interview50/interview27/" class="sidebar-link">第27天 说说你对arguments的理解，它是数组吗？</a></li><li><a href="/notes/jsInterview/interview50/interview28/" class="sidebar-link">第28天 解释下这段代码的意思！</a></li><li><a href="/notes/jsInterview/interview50/interview29/" class="sidebar-link">第29天 写一个获取数组的最大值、最小值的方法</a></li><li><a href="/notes/jsInterview/interview50/interview30/" class="sidebar-link">第30天 写一个方法判断字符串是否为回文字符串</a></li></ul></section></li></ul> <!----> <div class="content__sidebar-bottom"></div> <!----></aside> <main class="page"><nav class="breadcrumb disable"><!----></nav> <!----> <div class="content__page-top"></div> <div vocab="https://schema.org/" typeof="Article" class="page-title"><h1><!----> <span property="headline">第一套js综合基础面试题</span></h1> <div class="page-info"><!----> <!----><!----><span aria-label="Writing Date📅" data-balloon-pos="down" class="time-info"><svg viewBox="0 0 1030 1024" xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 0 1-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 0 1-33.473-33.473V143.657H180.6A134.314 134.314 0 0 0 46.66 277.595v535.756A134.314 134.314 0 0 0 180.6 947.289h669.74a134.36 134.36 0 0 0 133.94-133.938V277.595a134.314 134.314 0 0 0-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 0 1-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 0 1-33.472 33.473z" fill="currentColor"></path></svg> <span property="datePublished">2021-11-5</span></span><!----><!----><span aria-label="Reading Time⌛" data-balloon-pos="down" class="reading-time-info"><svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon timer-icon"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z" fill="currentColor"></path></svg> <span>About 99 min</span> <meta property="timeRequired" content="PT99M"></span></div> <!----> <hr></div> <div class="anchor-place-holder"><aside id="anchor"><div class="anchor-wrapper"><ul class="anchor-list"><li class="anchor"><a href="/notes/jsInterview/baseInterview/#_1-原型-构造函数-实例" class="anchor-link heading2"><div>1. 原型 / 构造函数 / 实例</div></a></li><li class="anchor"><a href="/notes/jsInterview/baseInterview/#_2-原型链" class="anchor-link heading2"><div>2.原型链：</div></a></li><li class="anchor"><a href="/notes/jsInterview/baseInterview/#_3-执行上下文-ec" class="anchor-link heading2"><div>3. 执行上下文(EC)</div></a></li><li class="anchor"><a href="/notes/jsInterview/baseInterview/#_4-变量对象" class="anchor-link heading2"><div>4.变量对象</div></a></li><li class="anchor"><a href="/notes/jsInterview/baseInterview/#_5-作用域" class="anchor-link heading2"><div>5. 作用域</div></a></li><li class="anchor"><a href="/notes/jsInterview/baseInterview/#_6-作用域链" class="anchor-link heading2"><div>6.作用域链</div></a></li><li class="anchor"><a href="/notes/jsInterview/baseInterview/#_7-闭包" class="anchor-link heading2"><div>7. 闭包</div></a></li><li class="anchor"><a href="/notes/jsInterview/baseInterview/#_8-script-引入方式" class="anchor-link heading2"><div>8.script 引入方式：</div></a></li><li class="anchor"><a href="/notes/jsInterview/baseInterview/#_9-对象的拷贝" class="anchor-link heading2"><div>9.对象的拷贝</div></a></li><li class="anchor"><a href="/notes/jsInterview/baseInterview/#_10-new运算符的执行过程" class="anchor-link heading2"><div>10.new运算符的执行过程</div></a></li><li class="anchor"><a href="/notes/jsInterview/baseInterview/#_11-instanceof原理" class="anchor-link heading2"><div>11.instanceof原理</div></a></li><li class="anchor"><a href="/notes/jsInterview/baseInterview/#_12-代码的复用" class="anchor-link heading2"><div>12.代码的复用</div></a></li><li class="anchor"><a href="/notes/jsInterview/baseInterview/#_13-继承" class="anchor-link heading2"><div>13.继承</div></a></li><li class="anchor"><a href="/notes/jsInterview/baseInterview/#_14-类型转换" class="anchor-link heading2"><div>14.类型转换</div></a></li><li class="anchor"><a href="/notes/jsInterview/baseInterview/#_15-模块化" class="anchor-link heading2"><div>15.模块化</div></a></li><li class="anchor"><a href="/notes/jsInterview/baseInterview/#_16-函数执行改变this" class="anchor-link heading2"><div>16. 函数执行改变this</div></a></li><li class="anchor"><a href="/notes/jsInterview/baseInterview/#_17-es6-es7" class="anchor-link heading2"><div>17. ES6/ES7</div></a></li><li class="anchor"><a href="/notes/jsInterview/baseInterview/#_18-ast" class="anchor-link heading2"><div>18. AST</div></a></li><li class="anchor"><a href="/notes/jsInterview/baseInterview/#_19-babel编译原理" class="anchor-link heading2"><div>19. babel编译原理</div></a></li><li class="anchor"><a href="/notes/jsInterview/baseInterview/#_20-函数柯里化" class="anchor-link heading2"><div>20. 函数柯里化</div></a></li><li class="anchor"><a href="/notes/jsInterview/baseInterview/#_21-数组-array" class="anchor-link heading2"><div>21. 数组(array)</div></a></li><li class="anchor"><a href="/notes/jsInterview/baseInterview/#_22-数据类型" class="anchor-link heading2"><div>22. 数据类型</div></a></li><li class="anchor"><a href="/notes/jsInterview/baseInterview/#_23-、-和-运算符分别能做什么" class="anchor-link heading2"><div>23. &amp;&amp; 、 ||和!! 运算符分别能做什么</div></a></li><li class="anchor"><a href="/notes/jsInterview/baseInterview/#_24-js的数据类型的转换" class="anchor-link heading2"><div>24. js的数据类型的转换</div></a></li><li class="anchor"><a href="/notes/jsInterview/baseInterview/#_25-js中数据类型的判断-typeof-instanceof-constructor-object-prototype-tostring-call" class="anchor-link heading2"><div>25. JS中数据类型的判断（ typeof，instanceof，constructor，Object.prototype.toString.call()</div></a></li><li class="anchor"><a href="/notes/jsInterview/baseInterview/#typeof" class="anchor-link heading3"><div>typeof</div></a></li><li class="anchor"><a href="/notes/jsInterview/baseInterview/#_2-instanceof" class="anchor-link heading3"><div>（2）instanceof</div></a></li><li class="anchor"><a href="/notes/jsInterview/baseInterview/#_3-constructor" class="anchor-link heading3"><div>（3）constructor</div></a></li><li class="anchor"><a href="/notes/jsInterview/baseInterview/#_4-object-prototype-tostring-call-使用-object-对象的原型方法-tostring-使用-call-进行狸猫换太子-借用object的-tostring-方法" class="anchor-link heading3"><div>（4）Object.prototype.toString.call() 使用 Object 对象的原型方法 toString ，使用 call 进行狸猫换太子，借用Object的 toString 方法</div></a></li><li class="anchor"><a href="/notes/jsInterview/baseInterview/#_26-内置对象" class="anchor-link heading2"><div>26. 内置对象</div></a></li><li class="anchor"><a href="/notes/jsInterview/baseInterview/#标准内置对象的分类" class="anchor-link heading3"><div>标准内置对象的分类</div></a></li><li class="anchor"><a href="/notes/jsInterview/baseInterview/#_27-undefined-与-undeclared-的区别" class="anchor-link heading2"><div>27. undefined 与 undeclared 的区别</div></a></li><li class="anchor"><a href="/notes/jsInterview/baseInterview/#_28-null-和-undefined-的区别" class="anchor-link heading2"><div>28. null 和 undefined 的区别</div></a></li><li class="anchor"><a href="/notes/jsInterview/baseInterview/#_29-和-的-valueof-和-tostring-的结果是什么" class="anchor-link heading2"><div>29. {} 和 [] 的 valueOf 和 toString 的结果是什么？</div></a></li><li class="anchor"><a href="/notes/jsInterview/baseInterview/#_30-javascript-的作用域和作用域链" class="anchor-link heading2"><div>30. Javascript 的作用域和作用域链</div></a></li><li class="anchor"><a href="/notes/jsInterview/baseInterview/#_31-javascript-创建对象的几种方式" class="anchor-link heading2"><div>31. Javascript 创建对象的几种方式</div></a></li><li class="anchor"><a href="/notes/jsInterview/baseInterview/#_1-第一种是工厂模式" class="anchor-link heading3"><div>（1）第一种是工厂模式</div></a></li><li class="anchor"><a href="/notes/jsInterview/baseInterview/#_2-第二种是构造函数模式" class="anchor-link heading3"><div>（2）第二种是构造函数模式</div></a></li><li class="anchor"><a href="/notes/jsInterview/baseInterview/#_3-第三种模式是原型模式" class="anchor-link heading3"><div>（3）第三种模式是原型模式</div></a></li><li class="anchor"><a href="/notes/jsInterview/baseInterview/#_4-第四种模式是组合使用构造函数模式和原型模式" class="anchor-link heading3"><div>（4）第四种模式是组合使用构造函数模式和原型模式</div></a></li><li class="anchor"><a href="/notes/jsInterview/baseInterview/#_5-第五种模式是动态原型模式" class="anchor-link heading3"><div>（5）第五种模式是动态原型模式</div></a></li><li class="anchor"><a href="/notes/jsInterview/baseInterview/#_6-第六种模式是寄生构造函数模式" class="anchor-link heading3"><div>（6）第六种模式是寄生构造函数模式</div></a></li><li class="anchor"><a href="/notes/jsInterview/baseInterview/#_32-javascript-继承的几种实现方式" class="anchor-link heading2"><div>32. JavaScript 继承的几种实现方式</div></a></li><li class="anchor"><a href="/notes/jsInterview/baseInterview/#_1-第一种是以原型链的方式来实现继承" class="anchor-link heading3"><div>（1）第一种是以原型链的方式来实现继承</div></a></li><li class="anchor"><a href="/notes/jsInterview/baseInterview/#_2-第二种方式是使用借用构造函数的方式" class="anchor-link heading3"><div>（2）第二种方式是使用借用构造函数的方式</div></a></li><li class="anchor"><a href="/notes/jsInterview/baseInterview/#_3-第三种方式是组合继承" class="anchor-link heading3"><div>（3）第三种方式是组合继承</div></a></li><li class="anchor"><a href="/notes/jsInterview/baseInterview/#_4-第四种方式是原型式继承" class="anchor-link heading3"><div>（4）第四种方式是原型式继承</div></a></li><li class="anchor"><a href="/notes/jsInterview/baseInterview/#_5-第五种方式是寄生式继承" class="anchor-link heading3"><div>（5）第五种方式是寄生式继承</div></a></li><li class="anchor"><a href="/notes/jsInterview/baseInterview/#_6-第六种方式是寄生式组合继承" class="anchor-link heading3"><div>（6）第六种方式是寄生式组合继承</div></a></li><li class="anchor"><a href="/notes/jsInterview/baseInterview/#_33-寄生式组合继承的实现" class="anchor-link heading2"><div>33. 寄生式组合继承的实现</div></a></li><li class="anchor"><a href="/notes/jsInterview/baseInterview/#_34-谈谈你对this、call、apply和bind的理解" class="anchor-link heading2"><div>34. 谈谈你对this、call、apply和bind的理解</div></a></li><li class="anchor"><a href="/notes/jsInterview/baseInterview/#_35-javascript-原型-原型链" class="anchor-link heading2"><div>35. JavaScript 原型，原型链</div></a></li><li class="anchor"><a href="/notes/jsInterview/baseInterview/#_36-js-获取原型的方法" class="anchor-link heading2"><div>36. js 获取原型的方法</div></a></li><li class="anchor"><a href="/notes/jsInterview/baseInterview/#_37-什么是闭包-为什么要用它" class="anchor-link heading2"><div>37. 什么是闭包，为什么要用它</div></a></li><li class="anchor"><a href="/notes/jsInterview/baseInterview/#_38-什么是-dom-和-bom" class="anchor-link heading2"><div>38. 什么是 DOM 和 BOM</div></a></li><li class="anchor"><a href="/notes/jsInterview/baseInterview/#_39-三种事件模型是什么" class="anchor-link heading2"><div>39. 三种事件模型是什么</div></a></li><li class="anchor"><a href="/notes/jsInterview/baseInterview/#_1-dom0级模型" class="anchor-link heading3"><div>1. DOM0级模型</div></a></li><li class="anchor"><a href="/notes/jsInterview/baseInterview/#_2-ie-事件模型" class="anchor-link heading3"><div>2. IE 事件模型</div></a></li><li class="anchor"><a href="/notes/jsInterview/baseInterview/#_3-dom2-级事件模型" class="anchor-link heading3"><div>3. DOM2 级事件模型</div></a></li><li class="anchor"><a href="/notes/jsInterview/baseInterview/#_40-事件委托是什么" class="anchor-link heading2"><div>40. 事件委托是什么</div></a></li><li class="anchor"><a href="/notes/jsInterview/baseInterview/#_41-什么是事件传播" class="anchor-link heading2"><div>41. 什么是事件传播</div></a></li><li class="anchor"><a href="/notes/jsInterview/baseInterview/#_42-什么是事件捕获" class="anchor-link heading2"><div>42. 什么是事件捕获</div></a></li><li class="anchor"><a href="/notes/jsInterview/baseInterview/#_43-什么是事件冒泡" class="anchor-link heading2"><div>43. 什么是事件冒泡</div></a></li><li class="anchor"><a href="/notes/jsInterview/baseInterview/#_44-dom-操作-怎样添加、移除、移动、复制、创建和查找节点" class="anchor-link heading2"><div>44. DOM 操作——怎样添加、移除、移动、复制、创建和查找节点</div></a></li><li class="anchor"><a href="/notes/jsInterview/baseInterview/#_1-创建新节点" class="anchor-link heading3"><div>（1）创建新节点</div></a></li><li class="anchor"><a href="/notes/jsInterview/baseInterview/#_2-添加、移除、替换、插入" class="anchor-link heading3"><div>（2）添加、移除、替换、插入</div></a></li><li class="anchor"><a href="/notes/jsInterview/baseInterview/#_3-查找" class="anchor-link heading3"><div>（3）查找</div></a></li><li class="anchor"><a href="/notes/jsInterview/baseInterview/#_4-属性操作" class="anchor-link heading3"><div>（4）属性操作</div></a></li><li class="anchor"><a href="/notes/jsInterview/baseInterview/#_45-js数组和对象有哪些原生方法" class="anchor-link heading2"><div>45. js数组和对象有哪些原生方法</div></a></li><li class="anchor"><a href="/notes/jsInterview/baseInterview/#_46-常用的正则表达式" class="anchor-link heading2"><div>46. 常用的正则表达式</div></a></li><li class="anchor"><a href="/notes/jsInterview/baseInterview/#_47-ajax-是什么-如何创建一个-ajax" class="anchor-link heading2"><div>47. Ajax 是什么? 如何创建一个 Ajax</div></a></li><li class="anchor"><a href="/notes/jsInterview/baseInterview/#创建步骤" class="anchor-link heading3"><div>创建步骤：</div></a></li><li class="anchor"><a href="/notes/jsInterview/baseInterview/#面试手写-原生" class="anchor-link heading3"><div>面试手写（原生）：</div></a></li><li class="anchor"><a href="/notes/jsInterview/baseInterview/#jquery写法" class="anchor-link heading3"><div>jQuery写法</div></a></li><li class="anchor"><a href="/notes/jsInterview/baseInterview/#promise-封装实现" class="anchor-link heading3"><div>promise 封装实现：</div></a></li><li class="anchor"><a href="/notes/jsInterview/baseInterview/#_48-js-延迟加载的方式有哪些" class="anchor-link heading2"><div>48. js 延迟加载的方式有哪些</div></a></li><li class="anchor"><a href="/notes/jsInterview/baseInterview/#_49-谈谈你对模块化开发的理解" class="anchor-link heading2"><div>49. 谈谈你对模块化开发的理解</div></a></li><li class="anchor"><a href="/notes/jsInterview/baseInterview/#_50-js-的几种模块规范" class="anchor-link heading2"><div>50. js 的几种模块规范</div></a></li><li class="anchor"><a href="/notes/jsInterview/baseInterview/#第一种是-commonjs-方案" class="anchor-link heading3"><div>第一种是 CommonJS 方案</div></a></li><li class="anchor"><a href="/notes/jsInterview/baseInterview/#第二种是-amd-方案" class="anchor-link heading3"><div>第二种是 AMD 方案</div></a></li><li class="anchor"><a href="/notes/jsInterview/baseInterview/#第三种是-cmd-方案" class="anchor-link heading3"><div>第三种是 CMD 方案</div></a></li><li class="anchor"><a href="/notes/jsInterview/baseInterview/#第四种方案是-es6-提出的方案" class="anchor-link heading3"><div>第四种方案是 ES6 提出的方案</div></a></li><li class="anchor"><a href="/notes/jsInterview/baseInterview/#_51-amd-和-cmd-规范的区别" class="anchor-link heading2"><div>51. AMD 和 CMD 规范的区别</div></a></li><li class="anchor"><a href="/notes/jsInterview/baseInterview/#_52-es6-模块与-commonjs-模块、amd、cmd-的差异" class="anchor-link heading2"><div>52. ES6 模块与 CommonJS 模块、AMD、CMD 的差异</div></a></li><li class="anchor"><a href="/notes/jsInterview/baseInterview/#_53-requirejs的核心原理是什么" class="anchor-link heading2"><div>53. requireJS的核心原理是什么</div></a></li><li class="anchor"><a href="/notes/jsInterview/baseInterview/#_54-谈谈js的运行机制" class="anchor-link heading2"><div>54. 谈谈JS的运行机制</div></a></li><li class="anchor"><a href="/notes/jsInterview/baseInterview/#_1-js单线程" class="anchor-link heading3"><div>1. js单线程</div></a></li><li class="anchor"><a href="/notes/jsInterview/baseInterview/#_2-js事件循环" class="anchor-link heading3"><div>2. js事件循环</div></a></li><li class="anchor"><a href="/notes/jsInterview/baseInterview/#_55-arguments-的对象是什么" class="anchor-link heading2"><div>55. arguments 的对象是什么</div></a></li><li class="anchor"><a href="/notes/jsInterview/baseInterview/#_56-为什么在调用这个函数时-代码中的b会变成一个全局变量" class="anchor-link heading2"><div>56. 为什么在调用这个函数时，代码中的b会变成一个全局变量</div></a></li><li class="anchor"><a href="/notes/jsInterview/baseInterview/#_57-简单介绍一下-v8-引擎的垃圾回收机制" class="anchor-link heading2"><div>57. 简单介绍一下 V8 引擎的垃圾回收机制</div></a></li><li class="anchor"><a href="/notes/jsInterview/baseInterview/#_58-哪些操作会造成内存泄漏" class="anchor-link heading2"><div>58.  哪些操作会造成内存泄漏</div></a></li><li class="anchor"><a href="/notes/jsInterview/baseInterview/#_59-ecmascript-是什么" class="anchor-link heading2"><div>59. ECMAScript 是什么</div></a></li><li class="anchor"><a href="/notes/jsInterview/baseInterview/#_60-ecmascript-2015-es6-有哪些新特性" class="anchor-link heading2"><div>60. ECMAScript 2015（ES6）有哪些新特性</div></a></li><li class="anchor"><a href="/notes/jsInterview/baseInterview/#_61-var-let和const的区别是什么" class="anchor-link heading2"><div>61. var,let和const的区别是什么</div></a></li><li class="anchor"><a href="/notes/jsInterview/baseInterview/#_62-什么是箭头函数" class="anchor-link heading2"><div>62. 什么是箭头函数</div></a></li><li class="anchor"><a href="/notes/jsInterview/baseInterview/#_63-什么是类" class="anchor-link heading2"><div>63. 什么是类</div></a></li><li class="anchor"><a href="/notes/jsInterview/baseInterview/#_64-什么是模板字符串" class="anchor-link heading2"><div>64. 什么是模板字符串</div></a></li><li class="anchor"><a href="/notes/jsInterview/baseInterview/#_65-什么是对象解构" class="anchor-link heading2"><div>65. 什么是对象解构</div></a></li><li class="anchor"><a href="/notes/jsInterview/baseInterview/#_66-什么是set对象-它是如何工作的" class="anchor-link heading2"><div>66. 什么是Set对象，它是如何工作的</div></a></li><li class="anchor"><a href="/notes/jsInterview/baseInterview/#_67-什么是proxy" class="anchor-link heading2"><div>67. 什么是Proxy</div></a></li><li class="anchor"><a href="/notes/jsInterview/baseInterview/#_68-写一个通用的事件侦听器函数" class="anchor-link heading2"><div>68. 写一个通用的事件侦听器函数</div></a></li><li class="anchor"><a href="/notes/jsInterview/baseInterview/#_69-什么是函数式编程" class="anchor-link heading2"><div>69. 什么是函数式编程</div></a></li><li class="anchor"><a href="/notes/jsInterview/baseInterview/#_70-什么是高阶函数" class="anchor-link heading2"><div>70. 什么是高阶函数</div></a></li><li class="anchor"><a href="/notes/jsInterview/baseInterview/#_71-为什么函数被称为一等公民" class="anchor-link heading2"><div>71. 为什么函数被称为一等公民</div></a></li><li class="anchor"><a href="/notes/jsInterview/baseInterview/#_72-手动实现-array-prototype-map-方法" class="anchor-link heading2"><div>72. 手动实现 Array.prototype.map 方法</div></a></li><li class="anchor"><a href="/notes/jsInterview/baseInterview/#_73-手动实现array-prototype-filter方法" class="anchor-link heading2"><div>73. 手动实现Array.prototype.filter方法</div></a></li><li class="anchor"><a href="/notes/jsInterview/baseInterview/#_74-手动实现array-prototype-reduce方法" class="anchor-link heading2"><div>74. 手动实现Array.prototype.reduce方法</div></a></li><li class="anchor"><a href="/notes/jsInterview/baseInterview/#_75-js的深浅拷贝" class="anchor-link heading2"><div>75. js的深浅拷贝</div></a></li><li class="anchor"><a href="/notes/jsInterview/baseInterview/#浅拷贝的实现方式" class="anchor-link heading3"><div>浅拷贝的实现方式：</div></a></li><li class="anchor"><a href="/notes/jsInterview/baseInterview/#深拷贝的实现方式" class="anchor-link heading3"><div>深拷贝的实现方式：</div></a></li><li class="anchor"><a href="/notes/jsInterview/baseInterview/#_76-手写call、apply及bind函数" class="anchor-link heading2"><div>76. 手写call、apply及bind函数</div></a></li><li class="anchor"><a href="/notes/jsInterview/baseInterview/#call-函数的实现步骤" class="anchor-link heading3"><div>call 函数的实现步骤</div></a></li><li class="anchor"><a href="/notes/jsInterview/baseInterview/#apply-函数的实现步骤" class="anchor-link heading3"><div>apply 函数的实现步骤</div></a></li><li class="anchor"><a href="/notes/jsInterview/baseInterview/#bind-函数的实现步骤" class="anchor-link heading3"><div>bind 函数的实现步骤</div></a></li><li class="anchor"><a href="/notes/jsInterview/baseInterview/#_77-函数柯里化的实现" class="anchor-link heading2"><div>77. 函数柯里化的实现</div></a></li><li class="anchor"><a href="/notes/jsInterview/baseInterview/#_78-js模拟new操作符的实现" class="anchor-link heading2"><div>78. js模拟new操作符的实现</div></a></li><li class="anchor"><a href="/notes/jsInterview/baseInterview/#_79-什么是回调函数" class="anchor-link heading2"><div>79. 什么是回调函数</div></a></li><li class="anchor"><a href="/notes/jsInterview/baseInterview/#_80-promise是什么" class="anchor-link heading2"><div>80. Promise是什么</div></a></li><li class="anchor"><a href="/notes/jsInterview/baseInterview/#promise手写实现-面试够用版" class="anchor-link heading3"><div>promise手写实现，面试够用版：</div></a></li><li class="anchor"><a href="/notes/jsInterview/baseInterview/#_81-iterator是什么-有什么作用" class="anchor-link heading2"><div>81. Iterator是什么，有什么作用？</div></a></li><li class="anchor"><a href="/notes/jsInterview/baseInterview/#iterator语法" class="anchor-link heading3"><div>Iterator语法：</div></a></li><li class="anchor"><a href="/notes/jsInterview/baseInterview/#iterator-的作用有三个" class="anchor-link heading3"><div>Iterator 的作用有三个：</div></a></li><li class="anchor"><a href="/notes/jsInterview/baseInterview/#遍历过程" class="anchor-link heading3"><div>遍历过程：</div></a></li><li class="anchor"><a href="/notes/jsInterview/baseInterview/#_82-generator函数是什么-有什么作用" class="anchor-link heading2"><div>82. Generator函数是什么，有什么作用</div></a></li><li class="anchor"><a href="/notes/jsInterview/baseInterview/#_83-什么是-async-await-及其如何工作-有什么优缺点" class="anchor-link heading2"><div>83. 什么是 async/await 及其如何工作,有什么优缺点</div></a></li><li class="anchor"><a href="/notes/jsInterview/baseInterview/#使用promise" class="anchor-link heading3"><div>使用Promise</div></a></li><li class="anchor"><a href="/notes/jsInterview/baseInterview/#使用async-await" class="anchor-link heading3"><div>使用async/await</div></a></li><li class="anchor"><a href="/notes/jsInterview/baseInterview/#_84-instanceof的原理是什么-如何实现" class="anchor-link heading2"><div>84. instanceof的原理是什么，如何实现</div></a></li><li class="anchor"><a href="/notes/jsInterview/baseInterview/#_85-js-的节流与防抖" class="anchor-link heading2"><div>85. js 的节流与防抖</div></a></li><li class="anchor"><a href="/notes/jsInterview/baseInterview/#函数防抖" class="anchor-link heading3"><div>函数防抖</div></a></li><li class="anchor"><a href="/notes/jsInterview/baseInterview/#函数节流" class="anchor-link heading3"><div>函数节流</div></a></li><li class="anchor"><a href="/notes/jsInterview/baseInterview/#_86-什么是设计模式" class="anchor-link heading2"><div>86. 什么是设计模式</div></a></li><li class="anchor"><a href="/notes/jsInterview/baseInterview/#_1-概念" class="anchor-link heading3"><div>1. 概念</div></a></li><li class="anchor"><a href="/notes/jsInterview/baseInterview/#_2-设计原则" class="anchor-link heading3"><div>2. 设计原则</div></a></li><li class="anchor"><a href="/notes/jsInterview/baseInterview/#_3-设计模式的类型" class="anchor-link heading3"><div>3. 设计模式的类型</div></a></li><li class="anchor"><a href="/notes/jsInterview/baseInterview/#_87-9种前端常见的设计模式" class="anchor-link heading2"><div>87. 9种前端常见的设计模式</div></a></li><li class="anchor"><a href="/notes/jsInterview/baseInterview/#_1-外观模式-facade-pattern" class="anchor-link heading3"><div>1. 外观模式（Facade Pattern）</div></a></li><li class="anchor"><a href="/notes/jsInterview/baseInterview/#_2-代理模式-proxy-pattern" class="anchor-link heading3"><div>2. 代理模式（Proxy Pattern）</div></a></li><li class="anchor"><a href="/notes/jsInterview/baseInterview/#_3-工厂模式-factory-pattern" class="anchor-link heading3"><div>3. 工厂模式（Factory Pattern）</div></a></li><li class="anchor"><a href="/notes/jsInterview/baseInterview/#_4-单例模式-singleton-pattern" class="anchor-link heading3"><div>4. 单例模式（Singleton Pattern）</div></a></li><li class="anchor"><a href="/notes/jsInterview/baseInterview/#_5-策略模式-strategy-pattern" class="anchor-link heading3"><div>5. 策略模式（Strategy Pattern）</div></a></li><li class="anchor"><a href="/notes/jsInterview/baseInterview/#_6-迭代器模式-iterator-pattern" class="anchor-link heading3"><div>6. 迭代器模式（Iterator Pattern）</div></a></li><li class="anchor"><a href="/notes/jsInterview/baseInterview/#_7-观察者模式-observer-pattern" class="anchor-link heading3"><div>7. 观察者模式（Observer Pattern）</div></a></li><li class="anchor"><a href="/notes/jsInterview/baseInterview/#_8-中介者模式-mediator-pattern" class="anchor-link heading3"><div>8. 中介者模式（Mediator Pattern）</div></a></li><li class="anchor"><a href="/notes/jsInterview/baseInterview/#_9-访问者模式-visitor-pattern" class="anchor-link heading3"><div>9. 访问者模式（Visitor Pattern）</div></a></li></ul></div></aside></div> <!----> <div class="content__content-top"></div> <div class="theme-default-content content__default"><h1 id="第一套js综合基础面试题"><a href="#第一套js综合基础面试题" class="header-anchor">#</a> 第一套js综合基础面试题</h1> <h2 id="_1-原型-构造函数-实例"><a href="#_1-原型-构造函数-实例" class="header-anchor">#</a> <strong>1. 原型 / 构造函数 / 实例</strong></h2> <ul><li><p>原型(<code>prototype</code>): 一个简单的对象，用于实现对象的 <strong>属性继承</strong>。可以简单的理解成对象的爹。在 Firefox 和 Chrome 中，每个<code>JavaScript</code>对象中都包含一个<code>__proto__</code> (非标准)的属性指向它爹(该对象的原型)，可<code>obj.__proto__</code>进行访问。</p></li> <li><p>构造函数: 可以通过<code>new</code>来 <strong>新建一个对象</strong> 的函数。</p></li> <li><p>实例: 通过构造函数和<code>new</code>创建出来的对象，便是实例。 <strong>实例通过</strong><code>__proto__</code><strong>指向原型，通过</strong><code>constructor</code><strong>指向构造函数</strong>。</p></li> <li><p><strong>注意: 其实实例上并不是真正有 <code>constructor</code> 这个指针，它其实是从原型链上获取的</strong></p></li></ul> <p>以<code>Object</code>为例，常用的<code>Object</code>便是一个构造函数，因此可以通过它构建实例。</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 实例</span>
<span class="token keyword">const</span> instance <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Object</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><p>则此时， <strong>实例为</strong><code>instance</code>, <strong>构造函数为</strong><code>Object</code>，知道，构造函数拥有一个<code>prototype</code>的属性指向原型，因此原型为:</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 原型</span>
<span class="token keyword">const</span> prototype <span class="token operator">=</span> <span class="token class-name">Object</span><span class="token punctuation">.</span>prototype
</code></pre></div><p>三者的关系:</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>实例<span class="token punctuation">.</span>__proto__ <span class="token operator">===</span> 原型

<span class="token class-name">原型</span><span class="token punctuation">.</span>constructor <span class="token operator">===</span> 构造函数

<span class="token class-name">构造函数</span><span class="token punctuation">.</span>prototype <span class="token operator">===</span> 原型

<span class="token comment">// 这条线其实是是基于原型进行获取的，可以理解成一条基于原型的映射线</span>
<span class="token comment">// 例如: </span>
<span class="token comment">// const o = new Object()</span>
<span class="token comment">// o.constructor === Object   --&gt; true</span>
<span class="token comment">// o.__proto__ = null;</span>
<span class="token comment">// o.constructor === Object   --&gt; false</span>
<span class="token comment">// 注意: 其实实例上并不是真正有 constructor 这个指针，它其实是从原型链上获取的</span>
<span class="token comment">//      instance.hasOwnProperty('constructor') === false</span>
<span class="token class-name">实例</span><span class="token punctuation">.</span>constructor <span class="token operator">===</span> 构造函数
</code></pre></div><p><img src="/notes/assets/168e9d9b940c4c6f.png" alt="原型示例图"></p> <h2 id="_2-原型链"><a href="#_2-原型链" class="header-anchor">#</a> <strong>2.原型链：</strong></h2> <p><strong>原型链是由原型对象组成</strong>，每个对象都有 <code>__proto__</code> 属性，指向了创建该对象的构造函数的原型，<code>__proto__</code> 将对象连接起来组成了原型链。是一个用来<strong>实现继承和共享属性</strong>的有限的对象链。</p> <ul><li><p><strong>属性查找机制</strong>: 当查找对象的属性时，如果实例对象自身不存在该属性，则沿着原型链往上一级查找，找到时则输出，不存在时，则继续沿着原型链往上一级查找，直至最顶级的原型对象<code>Object.prototype</code>，如还是没找到，则输出 <code>undefined</code>；</p></li> <li><p><strong>属性修改机制</strong>: 只会修改实例对象本身的属性，如果不存在，则进行添加该属性，如果需要修改原型的属性时，则可以用: <code>b.prototype.x = 2</code>；但是这样会造成所有继承于该对象的实例的属性发生改变。</p></li></ul> <h2 id="_3-执行上下文-ec"><a href="#_3-执行上下文-ec" class="header-anchor">#</a> <strong>3. 执行上下文(EC)</strong></h2> <p>执行上下文可以简单理解为一个对象:</p> <ul><li><p>它包含三个部分:</p> <ul><li><p>变量对象(VO)</p></li> <li><p>作用域链(词法作用域)</p></li> <li><p><code>this</code>指向</p></li></ul></li> <li><p>它的类型:</p> <ul><li><p>全局执行上下文</p></li> <li><p>函数执行上下文</p></li> <li><p>eval执行上下文</p></li></ul></li> <li><p>代码执行过程:</p> <ul><li><p>创建 <strong>全局上下文 (global EC)</strong></p></li> <li><p>全局执行上下文 (caller) 逐行 <strong>自上而下</strong> 执行。遇到函数时，<strong>函数执行上下文 (callee)</strong> 被<code>push</code>到执行栈顶层</p></li> <li><p>函数执行上下文被激活，成为 <code>active EC</code>, 开始执行函数中的代码，<code>caller</code> 被挂起</p></li> <li><p>函数执行完后，<code>callee</code> 被<code>pop</code>移除出执行栈，控制权交还<strong>全局上下文 (caller)</strong>，继续执行</p></li></ul></li></ul> <h2 id="_4-变量对象"><a href="#_4-变量对象" class="header-anchor">#</a> <strong>4.变量对象</strong></h2> <p>变量对象，是执行上下文中的一部分，可以抽象为一种 <strong>数据作用域</strong>，其实也可以理解为就是一个简单的对象，它存储着该执行上下文中的所有 <strong>变量和函数声明(不包含函数表达式)</strong>。</p> <blockquote><p>活动对象 (AO): 当变量对象所处的上下文为 active EC 时，称为活动对象。</p></blockquote> <h2 id="_5-作用域"><a href="#_5-作用域" class="header-anchor">#</a> <strong>5. 作用域</strong></h2> <p>执行上下文中还包含作用域链。理解作用域之前，先介绍下作用域。作用域其实可理解为该上下文中声明的 <strong>变量和声明的作用范围</strong>。可分为 <strong>块级作用域</strong> 和 <strong>函数作用域</strong></p> <p>特性:</p> <ul><li><p><strong>声明提前</strong>: 一个声明在函数体内都是可见的, 函数优先于变量</p></li> <li><p>非匿名自执行函数，函数变量为 <strong>只读</strong> 状态，无法修改</p></li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> <span class="token function-variable function">foo</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    foo <span class="token operator">=</span> <span class="token number">10</span>  <span class="token comment">// 由于foo在函数中只为可读，因此赋值无效</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>foo<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> 

<span class="token comment">// 结果打印：  ƒ foo() { foo = 10 ; console.log(foo) }</span>
</code></pre></div><h2 id="_6-作用域链"><a href="#_6-作用域链" class="header-anchor">#</a> <strong>6.作用域链</strong></h2> <p>可以在执行上下文中访问到父级甚至全局的变量，这便是作用域链的功劳。作用域链可以理解为一组对象列表，包含 <strong>父级和自身的变量对象</strong>，因此便能通过作用域链访问到父级里声明的变量或者函数。</p> <ul><li><p>由两部分组成:</p> <ul><li><p><code>[[scope]]</code>属性: 指向父级变量对象和作用域链，也就是包含了父级的<code>[[scope]]</code>和<code>AO</code></p></li> <li><p><strong>AO</strong>: 自身活动对象</p></li></ul></li></ul> <p>如此 <code>[[scopr]]</code>包含<code>[[scope]]</code>，便自上而下形成一条 <strong>链式作用域</strong>。</p> <h2 id="_7-闭包"><a href="#_7-闭包" class="header-anchor">#</a> <strong>7. 闭包</strong></h2> <p>闭包属于一种特殊的作用域，称为 <strong>静态作用域</strong>。它的定义可以理解为: <strong>父函数被销毁</strong> 的情况下，返回出的子函数的<code>[[scope]]</code>中仍然保留着父级的单变量对象和作用域链，因此可以继续访问到父级的变量对象，这样的函数称为闭包。</p> <ul><li><p>闭包会产生一个很经典的问题:</p> <ul><li>多个子函数的<code>[[scope]]</code>都是同时指向父级，是完全共享的。因此当父级的变量对象被修改时，所有子函数都受到影响。</li></ul></li> <li><p>解决:</p> <ul><li><p>变量可以通过 <strong>函数参数的形式</strong> 传入，避免使用默认的<code>[[scope]]</code>向上查找</p></li> <li><p>使用<code>setTimeout</code>包裹，通过第三个参数传入</p></li> <li><p>使用 <strong>块级作用域</strong>，让变量成为自己上下文的属性，避免共享</p></li></ul></li></ul> <h2 id="_8-script-引入方式"><a href="#_8-script-引入方式" class="header-anchor">#</a> <strong>8.script 引入方式：</strong></h2> <ul><li><p>html 静态<code>&lt;script&gt;</code>引入</p></li> <li><p>js 动态插入<code>&lt;script&gt;</code></p></li> <li><p><code>&lt;script defer&gt;</code>: 延迟加载，元素解析完成后执行</p></li> <li><p><code>&lt;script async&gt;</code>: 异步加载，但执行时会阻塞元素渲染</p></li></ul> <h2 id="_9-对象的拷贝"><a href="#_9-对象的拷贝" class="header-anchor">#</a> <strong>9.对象的拷贝</strong></h2> <ul><li><p>浅拷贝: 以赋值的形式拷贝引用对象，仍指向同一个地址，<strong>修改时原对象也会受到影响</strong></p> <ul><li><p><code>Object.assign</code></p></li> <li><p>展开运算符(...)</p></li></ul></li> <li><p>深拷贝: 完全拷贝一个新对象，<strong>修改时原对象不再受到任何影响</strong></p> <ul><li><p><code>JSON.parse(JSON.stringify(obj))</code>: 性能最快</p> <ul><li><p>具有循环引用的对象时，报错</p></li> <li><p>当值为函数、<code>undefined</code>、或<code>symbol</code>时，无法拷贝</p></li></ul></li> <li><p>递归进行逐一赋值</p></li></ul></li></ul> <h2 id="_10-new运算符的执行过程"><a href="#_10-new运算符的执行过程" class="header-anchor">#</a> <strong>10.new运算符的执行过程</strong></h2> <ul><li><p>新生成一个对象</p></li> <li><p>链接到原型: <code>obj.__proto__ = Con.prototype</code></p></li> <li><p>绑定<strong>this</strong>: <code>apply</code></p></li> <li><p>返回新对象(如果构造函数有自己 <strong>retrun</strong> 时，则返回该值)</p></li></ul> <h2 id="_11-instanceof原理"><a href="#_11-instanceof原理" class="header-anchor">#</a> <strong>11.instanceof原理</strong></h2> <p>能在实例的 <strong>原型对象链</strong> 中找到该构造函数的<code>prototype</code>属性所指向的 <strong>原型对象</strong>，就返回<code>true</code>。即:</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// __proto__: 代表原型对象链</span>
instance<span class="token punctuation">.</span><span class="token punctuation">[</span>__proto__<span class="token operator">...</span><span class="token punctuation">]</span> <span class="token operator">===</span> instance<span class="token punctuation">.</span>constructor<span class="token punctuation">.</span>prototype

<span class="token comment">// return true</span>
</code></pre></div><h2 id="_12-代码的复用"><a href="#_12-代码的复用" class="header-anchor">#</a> <strong>12.代码的复用</strong></h2> <ul><li><p>函数封装</p></li> <li><p>继承</p></li> <li><p>复制<code>extend</code></p></li> <li><p>混入<code>mixin</code></p></li> <li><p>借用<code>apply/call</code></p></li></ul> <h2 id="_13-继承"><a href="#_13-继承" class="header-anchor">#</a> <strong>13.继承</strong></h2> <p>在 JS 中，继承通常指的便是 <strong>原型链继承</strong>，也就是通过指定原型，并可以通过原型链继承原型上的属性或者方法。</p> <ul><li>最优化: <strong>圣杯模式</strong></li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> inherit <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">c<span class="token punctuation">,</span>p</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
	<span class="token keyword">var</span> <span class="token function-variable function">F</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">c<span class="token punctuation">,</span>p</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
		<span class="token class-name">F</span><span class="token punctuation">.</span>prototype <span class="token operator">=</span> p<span class="token punctuation">.</span>prototype<span class="token punctuation">;</span>
		c<span class="token punctuation">.</span>prototype <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">F</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		c<span class="token punctuation">.</span>uber <span class="token operator">=</span> p<span class="token punctuation">.</span>prototype<span class="token punctuation">;</span>
		c<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>constructor <span class="token operator">=</span> c<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>使用 ES6 的语法糖 <code>class / extends</code></li></ul> <h2 id="_14-类型转换"><a href="#_14-类型转换" class="header-anchor">#</a> <strong>14.类型转换</strong></h2> <p>大家都知道 JS 中在使用运算符号或者对比符时，会自带隐式转换，规则如下:</p> <ul><li><p>-、*、/、% ：一律转换成数值后计算</p></li> <li><p>+：</p> <ul><li><p>数字 + 字符串 = 字符串， 运算顺序是从左到右</p></li> <li><p>数字 + 对象， 优先调用对象的<code>valueOf</code> -&gt; <code>toString</code></p></li> <li><p>数字 + <code>boolean/null</code> -&gt; 数字</p></li> <li><p>数字 + <code>undefined</code> -&gt; <code>NaN</code></p></li></ul></li> <li><p><code>[1].toString() === '1'</code></p></li> <li><p><code>{}.toString() === '[object object]'</code></p></li> <li><p><code>NaN !== NaN</code> 、<code>+undefined</code> 为 NaN</p></li></ul> <h2 id="_15-模块化"><a href="#_15-模块化" class="header-anchor">#</a> <strong>15.模块化</strong></h2> <p>模块化开发在现代开发中已是必不可少的一部分，它大大提高了项目的可维护、可拓展和可协作性。通常， <strong>在浏览器中使用 ES6 的模块化支持，在 Node 中使用 commonjs 的模块化支持</strong>。</p> <ul><li><p>分类:</p> <ul><li><p>es6: <code>import/export</code></p></li> <li><p>commonjs: <code>require/module.exports/exports</code></p></li> <li><p>amd: <code>require/defined</code></p></li></ul></li> <li><p><code>require</code>与<code>import</code>的区别</p> <ul><li><p><code>require</code>支持 <strong>动态导入</strong>，<code>import</code>不支持，正在提案 (babel 下可支持)</p></li> <li><p><code>require</code>是 <strong>同步</strong> 导入，<code>import</code>属于 <strong>异步</strong> 导入</p></li> <li><p><code>require</code>是 <strong>值拷贝</strong>，导出值变化不会影响导入值；<code>import</code>指向 <strong>内存地址</strong>，导入值会随导出值而变化</p></li></ul></li></ul> <h2 id="_16-函数执行改变this"><a href="#_16-函数执行改变this" class="header-anchor">#</a> <strong>16. 函数执行改变this</strong></h2> <p>由于 JS 的设计原理: 在函数中，可以引用运行环境中的变量。因此就需要一个机制来让可以在函数体内部获取当前的运行环境，这便是<code>this</code>。</p> <p>因此要明白 <code>this</code> 指向，其实就是要搞清楚 函数的运行环境，说人话就是，谁调用了函数。例如:</p> <ul><li><p><code>obj.fn()</code>，便是 <code>obj</code> 调用了函数，既函数中的 <code>this === obj</code></p></li> <li><p><code>fn()</code>，这里可以看成 <code>window.fn()</code>，因此 <code>this === window</code></p></li></ul> <p>但这种机制并不完全能满足的业务需求，因此提供了三种方式可以手动修改 <code>this</code> 的指向:</p> <ul><li><p><code>call: fn.call(target, 1, 2)</code></p></li> <li><p><code>apply: fn.apply(target, [1, 2])</code></p></li> <li><p><code>bind: fn.bind(target)(1,2)</code></p></li></ul> <h2 id="_17-es6-es7"><a href="#_17-es6-es7" class="header-anchor">#</a> <strong>17. ES6/ES7</strong></h2> <p>由于 <strong>Babel</strong> 的强大和普及，现在 <strong>ES6/ES7</strong> 基本上已经是现代化开发的必备了。通过新的语法糖，能让代码整体更为简洁和易读。</p> <ul><li><p>声明</p> <ul><li><p><code>let/const</code>: 块级作用域、不存在变量提升、暂时性死区、不允许重复声明</p></li> <li><p><code>const</code>: 声明常量，无法修改</p></li></ul></li> <li><p>解构赋值</p></li> <li><p><code>class/extend</code>: 类声明与继承</p></li> <li><p><code>Set/Map</code>: 新的数据结构</p></li> <li><p>异步解决方案:</p> <ul><li><p><code>Promise</code>的使用与实现</p></li> <li><p><code>generator</code>:</p> <ul><li><p><code>yield</code>: 暂停代码</p></li> <li><p><code>next()</code>: 继续执行代码</p></li></ul></li></ul></li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">function</span><span class="token operator">*</span> <span class="token function">helloWorld</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">yield</span> <span class="token string">'hello'</span><span class="token punctuation">;</span>
  <span class="token keyword">yield</span> <span class="token string">'world'</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token string">'ending'</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> generator <span class="token operator">=</span> <span class="token function">helloWorld</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

generator<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment">// { value: 'hello', done: false }</span>

generator<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment">// { value: 'world', done: false }</span>

generator<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment">// { value: 'ending', done: true }</span>

generator<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment">// { value: undefined, done: true }</span>
</code></pre></div><div class="language- extra-class"><pre><code>* `await/async`: 是`generator`的语法糖， babel中是基于`promise`实现。
</code></pre></div><div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">getUserByAsync</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
   <span class="token keyword">let</span> user <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">fetchUser</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token keyword">return</span> user<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> user <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">getUserByAsync</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span>
</code></pre></div><h2 id="_18-ast"><a href="#_18-ast" class="header-anchor">#</a> <strong>18. AST</strong></h2> <p><strong>抽象语法树 (Abstract Syntax Tree)</strong>，是将代码逐字母解析成 <strong>树状对象</strong> 的形式。这是语言之间的转换、代码语法检查，代码风格检查，代码格式化，代码高亮，代码错误提示，代码自动补全等等的基础。例如:</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">square</span><span class="token punctuation">(</span><span class="token parameter">n</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
	<span class="token keyword">return</span> n <span class="token operator">*</span> n
<span class="token punctuation">}</span>
</code></pre></div><p>通过解析转化成的<code>AST</code>如下图:</p> <p><img src="/notes/assets/168e9d95910dd187.png" alt="AST流程图"></p> <h2 id="_19-babel编译原理"><a href="#_19-babel编译原理" class="header-anchor">#</a> <strong>19. babel编译原理</strong></h2> <ul><li><p>babylon 将 ES6/ES7 代码解析成 AST</p></li> <li><p>babel-traverse 对 AST 进行遍历转译，得到新的 AST</p></li> <li><p>新 AST 通过 babel-generator 转换成 ES5</p></li></ul> <h2 id="_20-函数柯里化"><a href="#_20-函数柯里化" class="header-anchor">#</a> <strong>20. 函数柯里化</strong></h2> <p>在一个函数中，首先填充几个参数，然后再返回一个新的函数的技术，称为函数的柯里化。通常可用于在不侵入函数的前提下，为函数 <strong>预置通用参数</strong>，供多次重复调用。</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token function-variable function">add</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token parameter">x</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">return</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">y</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> x <span class="token operator">+</span> y
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> add1 <span class="token operator">=</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>

<span class="token function">add1</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token number">3</span>
<span class="token function">add1</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token number">21</span>
</code></pre></div><h2 id="_21-数组-array"><a href="#_21-数组-array" class="header-anchor">#</a> <strong>21. 数组(array)</strong></h2> <ul><li><p><code>map</code>: 遍历数组，返回回调返回值组成的新数组</p></li> <li><p><code>forEach</code>: 无法<code>break</code>，可以用<code>try/catch</code>中<code>throw new Error</code>来停止</p></li> <li><p><code>filter</code>: 过滤</p></li> <li><p><code>some</code>: 有一项返回<code>true</code>，则整体为<code>true</code></p></li> <li><p><code>every</code>: 有一项返回<code>false</code>，则整体为<code>false</code></p></li> <li><p><code>join</code>: 通过指定连接符生成字符串</p></li> <li><p><code>push / pop</code>: 末尾推入和弹出，改变原数组， <code>push</code> 返回数组长度, <code>pop</code> 返回原数组最后一项；</p></li> <li><p><code>unshift / shift</code>: 头部推入和弹出，改变原数组，<code>unshift</code> 返回数组长度，<code>shift</code> 返回原数组第一项 ；</p></li> <li><p><code>sort(fn) / reverse</code>: 排序与反转，改变原数组</p></li> <li><p><code>concat</code>: 连接数组，不影响原数组， 浅拷贝</p></li> <li><p><code>slice(start, end)</code>: 返回截断后的新数组，不改变原数组</p></li> <li><p><code>splice(start, number, value...)</code>: 返回删除元素组成的数组，<code>value</code> 为插入项，改变原数组</p></li> <li><p><code>indexOf / lastIndexOf(value, fromIndex)</code>: 查找数组项，返回对应的下标</p></li> <li><p><code>reduce / reduceRight(fn(prev, cur)， defaultPrev)</code>: 两两执行，<code>prev</code> 为上次化简函数的<code>return</code>值，<code>cur</code> 为当前值</p> <ul><li><p>当传入 <code>defaultPrev</code> 时，从第一项开始；</p></li> <li><p>当未传入时，则为第二项</p></li></ul></li> <li><p>数组乱序：</p></li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
arr<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">0.5</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>数组拆解: flat: [1,[2,3]] --&gt; [1, 2, 3]</li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token class-name">Array</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">flat</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">','</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">item</span> <span class="token operator">=&gt;</span> <span class="token operator">+</span>item <span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="_22-数据类型"><a href="#_22-数据类型" class="header-anchor">#</a> 22. 数据类型</h2> <p>JavaScript一共有8种数据类型，其中有7种基本数据类型：<code>Undefined</code>、<code>Null</code>、<code>Boolean</code>、<code>Number</code>、<code>String</code>、<code>Symbol</code>（es6新增，表示独一无二的值）和<code>BigInt</code>（es10新增）；</p> <p><img src="/notes/assets/js/037881b6bfbb413caf758a0911609b89_tplv-k3u1fbpfcp-watermark.image" alt="demo"></p> <p>1种引用数据类型——Object（Object本质上是由一组无序的名值对组成的）。里面包含 <code>function</code>、<code>Array</code>、<code>Date</code>等。JavaScript不支持任何创建自定义类型的机制，而所有值最终都将是上述 8 种数据类型之一。</p> <ul><li><p>原始数据类型：直接存储在**栈（stack）**中，占据空间小、大小固定，属于被频繁使用数据，所以放入栈中存储。</p></li> <li><p>引用数据类型：同时存储在**栈（stack）<strong>和</strong>堆（heap）**中，占据空间大、大小不固定。引用数据类型在栈中存储了指针，该指针指向堆中该实体的起始地址。当解释器寻找引用值时，会首先检索其在栈中的地址，取得地址后从堆中获得实体。</p></li></ul> <blockquote><p><code>在 JavaScript 中，原始类型的赋值会完整复制变量值，而引用类型的赋值是复制引用地址。</code>
在 JavaScript 的执行过程中， 主要有三种类型内存空间，分别是<code>代码空间</code>、<code>栈空间</code>、<code>堆空间</code>。其中的代码空间主要是存储可执行代码的，原始类型(Number、String、Null、Undefined、Boolean、Symbol、BigInt)的数据值都是直接保存在“栈”中的，引用类型(Object)的值是存放在“堆”中的。因此在栈空间中(执行上下文)，原始类型存储的是变量的值，而引用类型存储的是其在&quot;堆空间&quot;中的地址，当 JavaScript 需要访问该数据的时候，是通过栈中的引用地址来访问的，相当于多了一道转手流程。
在编译过程中，如果 JavaScript 引擎判断到一个闭包，也会在堆空间创建换一个“closure(fn)”的对象（这是一个内部对象，JavaScript 是无法访问的），用来保存闭包中的变量。所以闭包中的变量是存储在“堆空间”中的。
JavaScript 引擎需要用栈来维护程序执行期间上下文的状态，如果栈空间大了话，所有的数据都存放在栈空间里面，那么会影响到上下文切换的效率，进而又影响到整个程序的执行效率。通常情况下，栈空间都不会设置太大，主要用来存放一些原始类型的小数据。而引用类型的数据占用的空间都比较大，所以这一类数据会被存放到堆中，堆空间很大，能存放很多大的数据，不过缺点是分配内存和回收内存都会占用一定的时间。因此需要“栈”和“堆”两种空间。</p></blockquote> <h2 id="_23-、-和-运算符分别能做什么"><a href="#_23-、-和-运算符分别能做什么" class="header-anchor">#</a> 23. &amp;&amp; 、 ||和!! 运算符分别能做什么</h2> <ul><li><p><code>&amp;&amp;</code> 叫逻辑与，在其操作数中找到第一个虚值表达式并返回它，如果没有找到任何虚值表达式，则返回最后一个真值表达式。它采用短路来防止不必要的工作。</p></li> <li><p><code>||</code> 叫逻辑或，在其操作数中找到第一个真值表达式并返回它。这也使用了短路来防止不必要的工作。在支持 ES6 默认函数参数之前，它用于初始化函数中的默认参数值。</p></li> <li><p><code>!!</code> 运算符可以将右侧的值强制转换为布尔值，这也是将值转换为布尔值的一种简单方法。</p></li></ul> <h2 id="_24-js的数据类型的转换"><a href="#_24-js的数据类型的转换" class="header-anchor">#</a> 24. js的数据类型的转换</h2> <p>在 JS 中类型转换只有三种情况，分别是：</p> <ul><li><p>转换为布尔值（调用<code>Boolean()</code>方法）</p></li> <li><p>转换为数字（调用<code>Number()</code>、<code>parseInt()</code>和<code>parseFloat()</code>方法）</p></li> <li><p>转换为字符串（调用.<code>toString()</code>或者<code>String()</code>方法）</p></li></ul> <blockquote><p>null和underfined没有.toString方法</p></blockquote> <p><img src="/notes/assets/js/v2-59308bb89b868f36917e90e3a9175f22_1440w" alt="demo"></p> <h2 id="_25-js中数据类型的判断-typeof-instanceof-constructor-object-prototype-tostring-call"><a href="#_25-js中数据类型的判断-typeof-instanceof-constructor-object-prototype-tostring-call" class="header-anchor">#</a> 25. JS中数据类型的判断（ typeof，instanceof，constructor，Object.prototype.toString.call()</h2> <h3 id="typeof"><a href="#typeof" class="header-anchor">#</a> typeof</h3> <p><code>typeof</code> 对于原始类型来说，除了 <code>null</code> 都可以显示正确的类型</p> <div class="language-js extra-class"><pre class="language-js"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>               <span class="token comment">// number</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token comment">// boolean</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> <span class="token string">'str'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>           <span class="token comment">// string</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>              <span class="token comment">// object     []数组的数据类型在 typeof 中被解释为 object</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// function</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>              <span class="token comment">// object</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> <span class="token keyword">undefined</span><span class="token punctuation">)</span><span class="token punctuation">;</span>       <span class="token comment">// undefined</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token comment">// object     null 的数据类型被 typeof 解释为 object</span>
</code></pre></div><blockquote><p><code>typeof</code> 对于对象来说，除了函数都会显示 <code>object</code>，所以说 <code>typeof</code> 并不能准确判断变量到底是什么类型,所以想判断一个对象的正确类型，这时候可以考虑使用 instanceof</p></blockquote> <h3 id="_2-instanceof"><a href="#_2-instanceof" class="header-anchor">#</a> （2）instanceof</h3> <p><code>instanceof</code> 可以正确的判断对象的类型，因为内部机制是通过判断对象的原型链中是不是能找到类型的 <code>prototype</code>。</p> <div class="language-js extra-class"><pre class="language-js"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">2</span> <span class="token keyword">instanceof</span> <span class="token class-name">Number</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                    <span class="token comment">// false</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token boolean">true</span> <span class="token keyword">instanceof</span> <span class="token class-name">Boolean</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token comment">// false </span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'str'</span> <span class="token keyword">instanceof</span> <span class="token class-name">String</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token comment">// false  </span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token keyword">instanceof</span> <span class="token class-name">Array</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                    <span class="token comment">// true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token keyword">instanceof</span> <span class="token class-name">Function</span><span class="token punctuation">)</span><span class="token punctuation">;</span>       <span class="token comment">// true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token keyword">instanceof</span> <span class="token class-name">Object</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                   <span class="token comment">// true    </span>
<span class="token comment">// console.log(undefined instanceof Undefined);</span>
<span class="token comment">// console.log(null instanceof Null);</span>
</code></pre></div><blockquote><p>可以看出直接的字面量值判断数据类型，<code>instanceof</code>可以精准判断引用数据类型（<code>Array</code>，<code>Function</code>，<code>Object</code>），而基本数据类型不能被<code>instanceof</code>精准判断。</p></blockquote> <p>来看一下 <code>instanceof</code> 在MDN中的解释：<code>instanceof</code> 运算符用来测试一个对象在其原型链中是否存在一个构造函数的 <code>prototype</code> 属性。其意思就是判断对象是否是某一数据类型（如<code>Array</code>）的实例，请重点关注一下是判断一个对象是否是数据类型的实例。在这里字面量值，2， <code>true</code> ，<code>'str'</code>不是实例，所以判断值为<code>false</code>。</p> <h3 id="_3-constructor"><a href="#_3-constructor" class="header-anchor">#</a> （3）constructor</h3> <div class="language-js extra-class"><pre class="language-js"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">.</span>constructor <span class="token operator">===</span> Number<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">.</span>constructor <span class="token operator">===</span> Boolean<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token string">'str'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>constructor <span class="token operator">===</span> String<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span>constructor <span class="token operator">===</span> Array<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span>constructor <span class="token operator">===</span> Function<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span>constructor <span class="token operator">===</span> Object<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
</code></pre></div><blockquote><p>这里有一个坑，如果我创建一个对象，更改它的原型，<code>constructor</code>就会变得不可靠了</p></blockquote> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">Fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
 
<span class="token class-name">Fn</span><span class="token punctuation">.</span>prototype<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 
<span class="token keyword">var</span> f<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">Fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>f<span class="token punctuation">.</span>constructor<span class="token operator">===</span>Fn<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// false</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>f<span class="token punctuation">.</span>constructor<span class="token operator">===</span>Array<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true </span>
</code></pre></div><h3 id="_4-object-prototype-tostring-call-使用-object-对象的原型方法-tostring-使用-call-进行狸猫换太子-借用object的-tostring-方法"><a href="#_4-object-prototype-tostring-call-使用-object-对象的原型方法-tostring-使用-call-进行狸猫换太子-借用object的-tostring-方法" class="header-anchor">#</a> （4）Object.prototype.toString.call() 使用 Object 对象的原型方法 toString ，使用 call 进行狸猫换太子，借用Object的 toString 方法</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>toString<span class="token punctuation">;</span>
 
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">a</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">a</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">a</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token string">'str'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">a</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">a</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">a</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">a</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">undefined</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">a</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="_26-内置对象"><a href="#_26-内置对象" class="header-anchor">#</a> 26. 内置对象</h2> <blockquote><p>全局的对象（ global objects ）或称标准内置对象，不要和 &quot;全局对象（global object）&quot; 混淆。</p> <p>全局作用域里的对象。全局作用域中的其他对象可以由用户的脚本创建或由宿主程序提供。</p></blockquote> <h3 id="标准内置对象的分类"><a href="#标准内置对象的分类" class="header-anchor">#</a> 标准内置对象的分类</h3> <p>（1）值属性，这些全局属性返回一个简单值，这些值没有自己的属性和方法。</p> <p>例如 <code>Infinity</code>、<code>NaN</code>、<code>undefined</code>、<code>null</code> 字面量</p> <p>（2）函数属性，全局函数可以直接调用，不需要在调用时指定所属对象，执行结束后会将结果直接返回给调用者。</p> <p>例如 <code>eval()</code>、<code>parseFloat()</code>、<code>parseInt()</code> 等</p> <p>（3）基本对象，基本对象是定义或使用其他对象的基础。基本对象包括一般对象、函数对象和错误对象。</p> <p>例如 <code>Object</code>、<code>Function</code>、<code>Boolean</code>、<code>Symbol</code>、<code>Error</code> 等</p> <p>（4）数字和日期对象，用来表示数字、日期和执行数学计算的对象。</p> <p>例如 <code>Number</code>、<code>Math</code>、<code>Date</code></p> <p>（5）字符串，用来表示和操作字符串的对象。</p> <p>例如 <code>String</code>、<code>RegExp</code></p> <p>（6）可索引的集合对象，这些对象表示按照索引值来排序的数据集合，包括数组和类型数组，以及类数组结构的对象。例如 Array</p> <p>（7）使用键的集合对象，这些集合对象在存储数据时会使用到键，支持按照插入顺序来迭代元素。</p> <p>例如 <code>Map</code>、<code>Set</code>、<code>WeakMap</code>、<code>WeakSet</code></p> <p>（8）矢量集合，<code>SIMD</code> 矢量集合中的数据会被组织为一个数据序列。</p> <p>例如 <code>SIMD</code> 等</p> <p>（9）结构化数据，这些对象用来表示和操作结构化的缓冲区数据，或使用 JSON 编码的数据。</p> <p>例如 <code>JSON</code> 等</p> <p>（10）控制抽象对象</p> <p>例如 <code>Promise</code>、<code>Generator</code> 等</p> <p>（11）反射</p> <p>例如 <code>Reflect</code>、<code>Proxy</code></p> <p>（12）国际化，为了支持多语言处理而加入 <code>ECMAScript</code> 的对象。</p> <p>例如 <code>Intl</code>、<code>Intl.Collator</code> 等</p> <p>（13）WebAssembly</p> <p>（14）其他</p> <p>例如 <code>arguments</code></p> <p>js 中的内置对象主要指的是在程序执行前存在全局作用域里的由 js 定义的一些全局值属性、函数和用来实例化其他对象的构造函 数对象。一般经常用到的如全局变量值 NaN、undefined，全局函数如 parseInt()、parseFloat() 用来实例化对象的构 造函数如 Date、Object 等，还有提供数学计算的单体内置对象如 Math 对象。</p> <h2 id="_27-undefined-与-undeclared-的区别"><a href="#_27-undefined-与-undeclared-的区别" class="header-anchor">#</a> 27. undefined 与 undeclared 的区别</h2> <p>已在作用域中声明但还没有赋值的变量，是 <code>undefined</code> 的。相反，还没有在作用域中声明过的变量，是 <code>undeclared</code> 的。</p> <p>对于 <code>undeclared</code> 变量的引用，浏览器会报引用错误，如 <code>ReferenceError: b is not defined</code> 。但是可以使用 <code>typeof</code> 的安全防范机制来避免报错，因为对于 <code>undeclared</code>（或者 <code>not defined</code> ）变量，<code>typeof</code> 会返回 &quot;undefined&quot;。</p> <h2 id="_28-null-和-undefined-的区别"><a href="#_28-null-和-undefined-的区别" class="header-anchor">#</a> 28. null 和 undefined 的区别</h2> <p>首先 <code>Undefined</code> 和 <code>Null</code> 都是基本数据类型，这两个基本数据类型分别都只有一个值，就是 <code>undefined</code> 和 <code>null</code>。</p> <p><code>undefined</code> 代表的含义是未定义， <code>null</code> 代表的含义是空对象。一般变量声明了但还没有定义的时候会返回 <code>undefined</code>，<code>null</code> 主要用于赋值给一些可能会返回对象的变量，作为初始化。</p> <p><code>undefined</code> 在 js 中不是一个保留字，这意味着可以使用 <code>undefined</code> 来作为一个变量名，这样的做法是非常危险的，它 会影响对 <code>undefined</code> 值的判断。但是可以通过一些方法获得安全的 <code>undefined</code> 值，比如说 <code>void 0</code>。</p> <p>当对两种类型使用 <code>typeof</code> 进行判断的时候，<code>Null</code> 类型化会返回 “object”，这是一个历史遗留的问题。当使用双等 号对两种类型的值进行比较时会返回 <code>true</code>，使用三个等号时会返回 <code>false</code>。</p> <h2 id="_29-和-的-valueof-和-tostring-的结果是什么"><a href="#_29-和-的-valueof-和-tostring-的结果是什么" class="header-anchor">#</a> 29. {} 和 [] 的 valueOf 和 toString 的结果是什么？</h2> <p><code>{}</code> 的 <strong>valueOf</strong> 结果为 <code>{}</code> ，<strong>toString</strong> 的结果为 <code>&quot;[object Object]&quot;</code></p> <p><code>[]</code> 的 <strong>valueOf</strong> 结果为 <code>[]</code> ，<strong>toString</strong> 的结果为 <code>&quot;&quot;</code></p> <h2 id="_30-javascript-的作用域和作用域链"><a href="#_30-javascript-的作用域和作用域链" class="header-anchor">#</a> 30. Javascript 的作用域和作用域链</h2> <p><strong>作用域</strong>： 作用域是定义变量的区域，它有一套访问变量的规则，这套规则来管理浏览器引擎如何在当前作用域以及嵌套的作用域中根据变量（标识符）进行变量查找。</p> <p><strong>作用域链</strong>： 作用域链的作用是保证对执行环境有权访问的所有变量和函数的有序访问，通过作用域链，可以访问到外层环境的变量和 函数。</p> <p>作用域链的本质上是一个指向变量对象的指针列表。变量对象是一个包含了执行环境中所有变量和函数的对象。作用域链的前 端始终都是当前执行上下文的变量对象。全局执行上下文的变量对象（也就是全局对象）始终是作用域链的最后一个对象。</p> <p>当查找一个变量时，如果当前执行环境中没有找到，可以沿着作用域链向后查找。</p> <p>作用域链的创建过程跟执行上下文的建立有关....</p> <h2 id="_31-javascript-创建对象的几种方式"><a href="#_31-javascript-创建对象的几种方式" class="header-anchor">#</a> 31. Javascript 创建对象的几种方式</h2> <p>一般使用字面量的形式直接创建对象，但是这种创建方式对于创建大量相似对象的时候，会产生大量的重复代码。但 js和一般的面向对象的语言不同，在 ES6 之前它没有类的概念。但是可以使用函数来进行模拟，从而产生出可复用的对象创建方式，我了解到的方式有这么几种：</p> <h3 id="_1-第一种是工厂模式"><a href="#_1-第一种是工厂模式" class="header-anchor">#</a> （1）第一种是工厂模式</h3> <blockquote><p><strong>概述:</strong> 工厂模式的主要工作原理是用函数来封装创建对象的细节，从而通过调用函数来达到复用的目的。</p> <p><strong>缺点:</strong> 但是它有一个很大的问题就是创建出来的对象无法和某个类型联系起来，它只是简单的封装了复用代码，而没有建立起对象和类型间的关系。</p></blockquote> <h3 id="_2-第二种是构造函数模式"><a href="#_2-第二种是构造函数模式" class="header-anchor">#</a> （2）第二种是构造函数模式</h3> <blockquote><p><strong>概述:</strong> js 中每一个函数都可以作为构造函数，只要一个函数是通过 <code>new</code> 来调用的，那么就可以把它称为构造函数。</p> <p><strong>流程:</strong></p> <ol><li><p>执行构造函数首先会创建一个对象，</p></li> <li><p>然后将对象的原型指向构造函数的 prototype 属性，</p></li> <li><p>然后将执行上下文中的 this 指向这个对象，</p></li> <li><p>最后再执行整个函数，如果返回值不是对象，则返回新建的对象。</p></li></ol> <p><strong>关键:</strong> 因为 <code>this</code> 的值指向了新建的对象，因此可以使用 <code>this</code> 给对象赋值。</p> <p><strong>优点:</strong> 构造函数模式相对于工厂模式的优点是，所创建的对象和构造函数建立起了联系，因此可以通过原型来识别对象的类型。</p> <p><strong>缺点:</strong> 但是构造函数存在一个缺点就是，造成了不必要的函数对象的创建，因为在 js 中函数也是一个对象，因此如果对象属性中如果包含函数的话，那么每次都会新建一个函数对象，浪费了不必要的内存空间，因为函数是所有的实例都可以通用的。</p></blockquote> <h3 id="_3-第三种模式是原型模式"><a href="#_3-第三种模式是原型模式" class="header-anchor">#</a> （3）第三种模式是原型模式</h3> <blockquote><p><strong>概述:</strong> 因为每一个函数都有一个 <code>prototype</code> 属性，这个属性是一个对象，它包含了通过构造函数创建的所有实例都能共享的属性和方法。因此可以使用原型对象来添加公用属性和方法，从而实现代码的复用。这种方式相对于构造函数模式来说，解决了函数对象的复用问题。</p> <p><strong>缺点:</strong> 但是这种模式也存在一些问题，一个是没有办法通过传入参数来初始化值，另一个是如果存在一个引用类型如 Array 这样的值，那么所有的实例将共享一个对象，一个实例对引用类型值的改变会影响所有的实例。</p> <p><strong>个人总结:</strong> 成也单例，败也单例</p></blockquote> <h3 id="_4-第四种模式是组合使用构造函数模式和原型模式"><a href="#_4-第四种模式是组合使用构造函数模式和原型模式" class="header-anchor">#</a> （4）第四种模式是组合使用构造函数模式和原型模式</h3> <blockquote><p><strong>概述:</strong> 因为构造函数模式和原型模式分开使用都存在一些问题，因此可以组合使用这两种模式，通过构造函数来初始化对象的属性，通过原型对象来实现函数方法的复用。这种方法很好的解决了两种模式单独使用时的缺点.</p> <p><strong>缺点:</strong> 但是有一点不足的就是，因为使用了两种不同的模式，所以对于代码的封装性不够好。</p></blockquote> <h3 id="_5-第五种模式是动态原型模式"><a href="#_5-第五种模式是动态原型模式" class="header-anchor">#</a> （5）第五种模式是动态原型模式</h3> <blockquote><p><strong>概述:</strong> 这一种模式将原型方法赋值的创建过程移动到了构造函数的内部，通过对属性是否存在的判断，可以实现仅在第一次调用函数时对原型对象赋值一次的效果。</p> <p><strong>优点:</strong> 这一种方式很好地对上面的混合模式进行了封装。</p></blockquote> <h3 id="_6-第六种模式是寄生构造函数模式"><a href="#_6-第六种模式是寄生构造函数模式" class="header-anchor">#</a> （6）第六种模式是寄生构造函数模式</h3> <blockquote><p><strong>概述:</strong> 这一种模式和工厂模式的实现基本相同，我对这个模式的理解是，它主要是基于一个已有的类型，在实例化时对实例化的对象进行扩展。这样既不用修改原来的构造函数，也达到了扩展对象的目的。</p> <p><strong>优点:</strong> 它的一个缺点和工厂模式一样，无法实现对象的识别。</p></blockquote> <h2 id="_32-javascript-继承的几种实现方式"><a href="#_32-javascript-继承的几种实现方式" class="header-anchor">#</a> 32. JavaScript 继承的几种实现方式</h2> <p>我了解的 js 中实现继承的几种方式有：</p> <h3 id="_1-第一种是以原型链的方式来实现继承"><a href="#_1-第一种是以原型链的方式来实现继承" class="header-anchor">#</a> （1）第一种是以原型链的方式来实现继承</h3> <blockquote><p><strong>缺点:</strong> 在包含有引用类型的数据时，会被所有的实例对象所共享，容易造成修改的混乱。还有就是在创建子类型的时候不能向超类型传递参数。</p></blockquote> <h3 id="_2-第二种方式是使用借用构造函数的方式"><a href="#_2-第二种方式是使用借用构造函数的方式" class="header-anchor">#</a> （2）第二种方式是使用借用构造函数的方式</h3> <blockquote><p><strong>概述:</strong> 这种方式是通过在子类型的函数中调用超类型的构造函数来实现的，这一种方法解决了不能向超类型传递参数的缺点</p> <p><strong>缺点:</strong> 但是它存在的一个问题就是无法实现函数方法的复用，并且超类型原型定义的方法子类型也没有办法访问到。</p></blockquote> <h3 id="_3-第三种方式是组合继承"><a href="#_3-第三种方式是组合继承" class="header-anchor">#</a> （3）第三种方式是组合继承</h3> <blockquote><p><strong>概述:</strong> 组合继承是将原型链和借用构造函数组合起来使用的一种方式。通过借用构造函数的方式来实现类型的属性的继承，通过将子类型的原型设置为超类型的实例来实现方法的继承。</p> <p><strong>缺点:</strong> 这种方式解决了上面的两种模式单独使用时的问题，但是由于是以超类型的实例来作为子类型的原型，所以调用了两次超类的构造函数，造成了子类型的原型中多了很多不必要的属性。</p></blockquote> <h3 id="_4-第四种方式是原型式继承"><a href="#_4-第四种方式是原型式继承" class="header-anchor">#</a> （4）第四种方式是原型式继承</h3> <blockquote><p><strong>概述:</strong> 原型式继承的主要思路就是基于已有的对象来创建新的对象，实现的原理是，向函数中传入一个对象，然后返回一个以这个对象为原型的对象。</p> <p><strong>缺点:</strong> 这种继承的思路主要不是为了实现创造一种新的类型，只是对某个对象实现一种简单继承，<code>ES5</code> 中定义的 <code>Object.create()</code> 方法就是原型式继承的实现。缺点与原型链方式相同。</p></blockquote> <h3 id="_5-第五种方式是寄生式继承"><a href="#_5-第五种方式是寄生式继承" class="header-anchor">#</a> （5）第五种方式是寄生式继承</h3> <blockquote><p><strong>概述:</strong> 寄生式继承的思路是创建一个用于封装继承过程的函数，通过传入一个对象，然后复制一个对象的副本，然后对象进行扩展，最后返回这个对象。这个扩展的过程就可以理解是一种继承。</p> <p><strong>缺点:</strong> 这种继承的优点就是对一个简单对象实现继承，如果这个对象不是的自定义类型时。缺点是没有办法实现函数的复用。</p></blockquote> <h3 id="_6-第六种方式是寄生式组合继承"><a href="#_6-第六种方式是寄生式组合继承" class="header-anchor">#</a> （6）第六种方式是寄生式组合继承</h3> <blockquote><p><strong>概述:</strong> 寄生式组合继承的方式是使用超类型的原型的副本来作为子类型的原型，这样就避免了创建不必要的属性。</p> <p><strong>缺点:</strong>  组合继承的缺点就是使用超类型的实例做为子类型的原型，导致添加了不必要的原型属性。</p></blockquote> <h2 id="_33-寄生式组合继承的实现"><a href="#_33-寄生式组合继承的实现" class="header-anchor">#</a> 33. 寄生式组合继承的实现</h2> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">Person</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token class-name">Person</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">sayName</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;My name is &quot;</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">+</span> <span class="token string">&quot;.&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">Student</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> grade</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">Person</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> name<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>grade <span class="token operator">=</span> grade<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token class-name">Student</span><span class="token punctuation">.</span>prototype <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token class-name">Person</span><span class="token punctuation">.</span>prototype<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Student</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>constructor <span class="token operator">=</span> Student<span class="token punctuation">;</span>

<span class="token class-name">Student</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">sayMyGrade</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;My grade is &quot;</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>grade <span class="token operator">+</span> <span class="token string">&quot;.&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="_34-谈谈你对this、call、apply和bind的理解"><a href="#_34-谈谈你对this、call、apply和bind的理解" class="header-anchor">#</a> 34. 谈谈你对this、call、apply和bind的理解</h2> <ol><li><p>在浏览器里，在全局范围内this 指向window对象；</p></li> <li><p>在函数中，this永远指向最后调用他的那个对象；</p></li> <li><p>构造函数中，this指向new出来的那个新的对象；</p></li> <li><p>call、apply、bind中的this被强绑定在指定的那个对象上；</p></li> <li><p>箭头函数中this比较特殊,箭头函数this为父作用域的this，不是调用时的this.要知道前四种方式,都是调用时确定,也就是动态的,而箭头函数的this指向是静态的,声明的时候就确定了下来；</p></li> <li><p>apply、call、bind都是js给函数内置的一些API，调用他们可以为函数指定this的执行,同时也可以传参。</p></li></ol> <p><img src="/notes/assets/js/v2-6228b3f5efabc66806f0937fbd1ab9d4_720w.jpg" alt="demo"></p> <h2 id="_35-javascript-原型-原型链"><a href="#_35-javascript-原型-原型链" class="header-anchor">#</a> 35. JavaScript 原型，原型链</h2> <p>在 js 中是使用构造函数来新建一个对象的，每一个构造函数的内部都有一个 <code>prototype</code> 属性值，这个属性值是一个对 象，这个对象包含了可以由该构造函数的所有实例共享的属性和方法。当使用构造函数新建一个对象后，在这个对象的内部 将包含一个指针，这个指针指向构造函数的 <code>prototype</code> 属性对应的值，在 <code>ES5</code> 中这个指针被称为对象的原型。一般来说 是不应该能够获取到这个值的，但是现在浏览器中都实现了 <code>proto</code> 属性来让访问这个属性，但是最好不要使用这 个属性，因为它不是规范中规定的。<code>ES5</code> 中新增了一个 <code>Object.getPrototypeOf()</code> 方法，可以通过这个方法来获取对 象的原型。</p> <p>当访问一个对象的属性时，如果这个对象内部不存在这个属性，那么它就会去它的原型对象里找这个属性，这个原型对象又 会有自己的原型，于是就这样一直找下去，也就是原型链的概念。原型链的尽头一般来说都是 <code>Object.prototype</code> 所以这就 是新建的对象为什么能够使用 <code>toString()</code> 等方法的原因。</p> <p><code>JavaScript</code> 对象是通过引用来传递的，创建的每个新对象实体中并没有一份属于自己的原型副本。当修改原型时，与 之相关的对象也会继承这一改变。</p> <h2 id="_36-js-获取原型的方法"><a href="#_36-js-获取原型的方法" class="header-anchor">#</a> 36. js 获取原型的方法</h2> <ul><li><p>p.proto</p></li> <li><p>p.constructor.prototype</p></li> <li><p>Object.getPrototypeOf(p)</p></li></ul> <h2 id="_37-什么是闭包-为什么要用它"><a href="#_37-什么是闭包-为什么要用它" class="header-anchor">#</a> 37. 什么是闭包，为什么要用它</h2> <blockquote><p><strong>闭包是指有权访问另一个函数作用域内变量的函数</strong>，创建闭包的最常见的方式就是在一个函数内创建另一个函数，创建的函数可以 访问到当前函数的局部变量。</p></blockquote> <p>闭包有两个常用的用途。</p> <ul><li>闭包的第一个用途是使在函数外部能够访问到函数内部的变量。</li></ul> <blockquote><p>通过使用闭包，可以通过在外部调用闭包函数，从而在外部访问到函数内部的变量，可以使用这种方法来创建私有变量。</p></blockquote> <ul><li>函数的另一个用途是使已经运行结束的函数上下文中的变量对象继续留在内存中，因为闭包函数保留了这个变量对象的引用，所以这个变量对象不会被回收。</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">a</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">var</span> n <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">function</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
       n<span class="token operator">++</span><span class="token punctuation">;</span>
       console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> add<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">var</span> a1 <span class="token operator">=</span> <span class="token function">a</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//注意，函数名只是一个标识（指向函数的指针），而（）才是执行函数；</span>
<span class="token function">a1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">//1</span>
<span class="token function">a1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">//2  第二次调用n变量还在内存中</span>
</code></pre></div><p>其实闭包的本质就是作用域链的一个特殊的应用，只要了解了作用域链的创建过程，就能够理解闭包的实现原理。</p> <h2 id="_38-什么是-dom-和-bom"><a href="#_38-什么是-dom-和-bom" class="header-anchor">#</a> 38. 什么是 DOM 和 BOM</h2> <p><strong>DOM</strong> 指的是文档对象模型，它指的是把文档当做一个对象来对待，这个对象主要定义了处理网页内容的方法和接口。</p> <p><strong>BOM</strong> 指的是浏览器对象模型，它指的是把浏览器当做一个对象来对待，这个对象主要定义了与浏览器进行交互的法和接口。<code>BOM</code> 的核心是 <code>window</code>，而 <code>window</code> 对象具有双重角色，它既是通过 <code>js</code> 访问浏览器窗口的一个接口，又是一个 <code>Global（全局）</code> 对象。这意味着在网页中定义的任何对象，变量和函数，都作为全局对象的一个属性或者方法存在。<code>window</code> 对象含有 <code>locati on 对象</code>、<code>navigator 对象</code>、<code>screen 对象</code>等子对象，并且 <code>DOM</code> 的最根本的对象 <code>document</code> 对象也是 <code>BOM</code> 的 <code>window</code> 对象的子对象。</p> <h2 id="_39-三种事件模型是什么"><a href="#_39-三种事件模型是什么" class="header-anchor">#</a> 39. 三种事件模型是什么</h2> <blockquote><p><strong>事件</strong> 是用户操作网页时发生的交互动作或者网页本身的一些操作，现代浏览器一共有三种事件模型。</p></blockquote> <h3 id="_1-dom0级模型"><a href="#_1-dom0级模型" class="header-anchor">#</a> 1. DOM0级模型</h3> <blockquote><p>这种模型不会传播，所以没有事件流的概念，但是现在有的浏览器支持以冒泡的方式实现，它可以在网页中直接定义监听函数，也可以通过 js属性来指定监听函数。这种方式是所有浏览器都兼容的。</p></blockquote> <h3 id="_2-ie-事件模型"><a href="#_2-ie-事件模型" class="header-anchor">#</a> 2. IE 事件模型</h3> <blockquote><p>在该事件模型中，一次事件共有两个过程，事件处理阶段，和事件冒泡阶段。事件处理阶段会首先执行目标元素绑定的监听事件。然后是事件冒泡阶段，冒泡指的是事件从目标元素冒泡到 <code>document</code>，依次检查经过的节点是否绑定了事件监听函数，如果有则执行。这种模型通过 <code>attachEvent</code> 来添加监听函数，可以添加多个监听函数，会按顺序依次执行。</p></blockquote> <h3 id="_3-dom2-级事件模型"><a href="#_3-dom2-级事件模型" class="header-anchor">#</a> 3. DOM2 级事件模型</h3> <blockquote><p>在该事件模型中，一次事件共有三个过程，</p> <p>第一个过程是事件捕获阶段。捕获指的是事件从 <code>document</code> 一直向下传播到目标元素，依次检查经过的节点是否绑定了事件监听函数，如果有则执行。</p> <p>后面两个阶段和 IE 事件模型的两个阶段相同。这种事件模型，事件绑定的函数是 <code>addEventListener</code>，其中第三个参数可以指定事件是否在捕获阶段执行。</p></blockquote> <h2 id="_40-事件委托是什么"><a href="#_40-事件委托是什么" class="header-anchor">#</a> 40. 事件委托是什么</h2> <blockquote><p><strong>事件委托</strong> 本质上是利用了浏览器事件冒泡的机制。因为事件在冒泡过程中会上传到父节点，并且父节点可以通过事件对象获取到 目标节点，因此可以把子节点的监听函数定义在父节点上，由父节点的监听函数统一处理多个子元素的事件，这种方式称为事件代理。</p> <p>使用事件代理可以不必要为每一个子元素都绑定一个监听事件，这样减少了内存上的消耗。并且使用事件代理还可以实现事件的动态绑定，比如说新增了一个子节点，并不需要单独地为它添加一个监听事件，它所发生的事件会交给父元素中的监听函数来处理。</p></blockquote> <h2 id="_41-什么是事件传播"><a href="#_41-什么是事件传播" class="header-anchor">#</a> 41. 什么是事件传播</h2> <blockquote><p>当<strong>事件</strong>发生在<code>DOM</code>元素上时，该事件并不完全发生在那个元素上。在“当事件发生在<code>DOM</code>元素上时，该事件并不完全发生在那个元素上。在“冒泡阶段”中，事件冒泡或向上传播至父级，祖父母，祖父母或父级，直到到达<code>window</code>为止；而在“捕获阶段”中，事件从<code>window</code>开始向下触发元素 事件或<code>event.target</code>。</p> <p>事件传播有三个阶段中，事件冒泡或向上传播至父级，祖父母，祖父母或父级，直到到达<code>window</code>为止；而在“<strong>捕获阶段</strong>”中，事件从<code>window</code>开始向下触发<code>元素</code> <code>事件</code>或<code>event.target</code>。</p></blockquote> <p>事件传播有三个阶段：</p> <ol><li><p>捕获阶段–事件从 <code>window</code> 开始，然后向下到每个元素，直到到达目标元素。</p></li> <li><p>目标阶段–事件已达到目标元素。</p></li> <li><p>冒泡阶段–事件从目标元素冒泡，然后上升到每个元素，直到到达 <code>window</code>。</p></li></ol> <h2 id="_42-什么是事件捕获"><a href="#_42-什么是事件捕获" class="header-anchor">#</a> 42. 什么是事件捕获</h2> <p>当事件发生在 <code>DOM</code> 元素上时，该事件并不完全发生在那个元素上。在捕获阶段，事件从<code>window</code>开始，一直到触发事件的元素。<code>window----&gt; document----&gt; html----&gt; div ----&gt;目标元素</code></p> <p>假设有如下的 HTML 结构：</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>grandparent<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>parent<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>child<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">addEvent</span><span class="token punctuation">(</span><span class="token parameter">el<span class="token punctuation">,</span> event<span class="token punctuation">,</span> callback<span class="token punctuation">,</span> isCapture <span class="token operator">=</span> <span class="token boolean">false</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>el <span class="token operator">||</span> <span class="token operator">!</span>event <span class="token operator">||</span> <span class="token operator">!</span>callback <span class="token operator">||</span> <span class="token keyword">typeof</span> callback <span class="token operator">!==</span> <span class="token string">'function'</span><span class="token punctuation">)</span> <span class="token keyword">return</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> el <span class="token operator">===</span> <span class="token string">'string'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    el <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span>el<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  el<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span>event<span class="token punctuation">,</span> callback<span class="token punctuation">,</span> isCapture<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token function">addEvent</span><span class="token punctuation">(</span>document<span class="token punctuation">,</span> <span class="token string">'DOMContentLoaded'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> child <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'.child'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> parent <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'.parent'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> grandparent <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'.grandparent'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token function">addEvent</span><span class="token punctuation">(</span>child<span class="token punctuation">,</span> <span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'child'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token function">addEvent</span><span class="token punctuation">(</span>parent<span class="token punctuation">,</span> <span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'parent'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token function">addEvent</span><span class="token punctuation">(</span>grandparent<span class="token punctuation">,</span> <span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'grandparent'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token function">addEvent</span><span class="token punctuation">(</span>document<span class="token punctuation">,</span> <span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'document'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token function">addEvent</span><span class="token punctuation">(</span><span class="token string">'html'</span><span class="token punctuation">,</span> <span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'html'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>

  <span class="token function">addEvent</span><span class="token punctuation">(</span>window<span class="token punctuation">,</span> <span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'window'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><blockquote><p>代码描述</p> <p><code>addEventListener</code>方法具有第三个可选参数<code>useCapture</code>，其默认值为<code>false</code>，事件将在冒泡阶段中发生，如果为<code>true</code>，则事件将在捕获阶段中发生。如果单击<code>child</code>元素，它将分别在控制台上打印<code>window</code>，<code>document</code>，<code>html</code>，<code>grandparent</code>和<code>parent</code>，这就是事件捕获。</p></blockquote> <h2 id="_43-什么是事件冒泡"><a href="#_43-什么是事件冒泡" class="header-anchor">#</a> 43. 什么是事件冒泡</h2> <p>事件冒泡刚好与事件捕获相反，<code>当前元素----&gt;div ----&gt; html----&gt;document ----&gt;window</code>。当事件发生在DOM元素上时，该事件并不完全发生在那个元素上。在冒泡阶段，事件冒泡，或者事件发生在它的父代，祖父母，祖父母的父代，直到到达window为止。</p> <p>假设有如下的 HTML 结构：</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>grandparent<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>parent<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>child<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>对应的JS代码：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">addEvent</span><span class="token punctuation">(</span><span class="token parameter">el<span class="token punctuation">,</span> event<span class="token punctuation">,</span> callback<span class="token punctuation">,</span> isCapture <span class="token operator">=</span> <span class="token boolean">false</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>el <span class="token operator">||</span> <span class="token operator">!</span>event <span class="token operator">||</span> <span class="token operator">!</span>callback <span class="token operator">||</span> <span class="token keyword">typeof</span> callback <span class="token operator">!==</span> <span class="token string">'function'</span><span class="token punctuation">)</span> <span class="token keyword">return</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> el <span class="token operator">===</span> <span class="token string">'string'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    el <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span>el<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  el<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span>event<span class="token punctuation">,</span> callback<span class="token punctuation">,</span> isCapture<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token function">addEvent</span><span class="token punctuation">(</span>document<span class="token punctuation">,</span> <span class="token string">'DOMContentLoaded'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> child <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'.child'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> parent <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'.parent'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> grandparent <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'.grandparent'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token function">addEvent</span><span class="token punctuation">(</span>child<span class="token punctuation">,</span> <span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'child'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token function">addEvent</span><span class="token punctuation">(</span>parent<span class="token punctuation">,</span> <span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'parent'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token function">addEvent</span><span class="token punctuation">(</span>grandparent<span class="token punctuation">,</span> <span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'grandparent'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token function">addEvent</span><span class="token punctuation">(</span>document<span class="token punctuation">,</span> <span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'document'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token function">addEvent</span><span class="token punctuation">(</span><span class="token string">'html'</span><span class="token punctuation">,</span> <span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'html'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>

  <span class="token function">addEvent</span><span class="token punctuation">(</span>window<span class="token punctuation">,</span> <span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'window'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><blockquote><p>代码描述</p> <p><code>addEventListener</code>方法具有第三个可选参数<code>useCapture</code>，其默认值为<code>false</code>，事件将在冒泡阶段中发生，如果为<code>true</code>，则事件将在捕获阶段中发生。如果单击<code>child</code>元素，它将分别在控制台上打印<code>child</code>，<code>parent</code>，<code>grandparent</code>，<code>html</code>，<code>document</code>和<code>window</code>，这就是事件冒泡。</p></blockquote> <h2 id="_44-dom-操作-怎样添加、移除、移动、复制、创建和查找节点"><a href="#_44-dom-操作-怎样添加、移除、移动、复制、创建和查找节点" class="header-anchor">#</a> 44. DOM 操作——怎样添加、移除、移动、复制、创建和查找节点</h2> <h3 id="_1-创建新节点"><a href="#_1-创建新节点" class="header-anchor">#</a> （1）创建新节点</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token function">createDocumentFragment</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token comment">//创建一个DOM片段</span>
<span class="token function">createElement</span><span class="token punctuation">(</span><span class="token punctuation">)</span>   <span class="token comment">//创建一个具体的元素</span>
<span class="token function">createTextNode</span><span class="token punctuation">(</span><span class="token punctuation">)</span>   <span class="token comment">//创建一个文本节点</span>
</code></pre></div><h3 id="_2-添加、移除、替换、插入"><a href="#_2-添加、移除、替换、插入" class="header-anchor">#</a> （2）添加、移除、替换、插入</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token function">appendChild</span><span class="token punctuation">(</span>node<span class="token punctuation">)</span>
<span class="token function">removeChild</span><span class="token punctuation">(</span>node<span class="token punctuation">)</span>
<span class="token function">replaceChild</span><span class="token punctuation">(</span><span class="token keyword">new</span><span class="token punctuation">,</span>old<span class="token punctuation">)</span>
<span class="token function">insertBefore</span><span class="token punctuation">(</span><span class="token keyword">new</span><span class="token punctuation">,</span>old<span class="token punctuation">)</span>
</code></pre></div><h3 id="_3-查找"><a href="#_3-查找" class="header-anchor">#</a> （3）查找</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">getElementsByName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">getElementsByTagName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">getElementsByClassName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="_4-属性操作"><a href="#_4-属性操作" class="header-anchor">#</a> （4）属性操作</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token function">getAttribute</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">setAttribute</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> value<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">hasAttribute</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">removeAttribute</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="_45-js数组和对象有哪些原生方法"><a href="#_45-js数组和对象有哪些原生方法" class="header-anchor">#</a> 45. js数组和对象有哪些原生方法</h2> <p><img src="/notes/assets/js/v2-7d5cc94dbef19976b4f766b925ed1a9a_720w.jpg" alt="demo"></p> <p><img src="/notes/assets/js/v2-033b62cea47fe9d4176e3baf9419b916_720w.jpg" alt="demo"></p> <h2 id="_46-常用的正则表达式"><a href="#_46-常用的正则表达式" class="header-anchor">#</a> 46. 常用的正则表达式</h2> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">//（1）匹配 16 进制颜色值</span>
<span class="token keyword">var</span> color <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">#([0-9a-fA-F]{6}|[0-9a-fA-F]{3})</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">;</span>

<span class="token comment">//（2）匹配日期，如 yyyy-mm-dd 格式</span>
<span class="token keyword">var</span> date <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^[0-9]{4}-(0[1-9]|1[0-2])-(0[1-9]|[12][0-9]|3[01])$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">;</span>

<span class="token comment">//（3）匹配 qq 号</span>
<span class="token keyword">var</span> qq <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^[1-9][0-9]{4,10}$</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">;</span>

<span class="token comment">//（4）手机号码正则</span>
<span class="token keyword">var</span> phone <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^1[34578]\d{9}$</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">;</span>

<span class="token comment">//（5）用户名正则</span>
<span class="token keyword">var</span> username <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^[a-zA-Z\$][a-zA-Z0-9_\$]{4,16}$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">;</span>

<span class="token comment">//（6）Email正则</span>
<span class="token keyword">var</span> email <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^([A-Za-z0-9_\-\.])+\@([A-Za-z0-9_\-\.])+\.([A-Za-z]{2,4})$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">;</span>

<span class="token comment">//（7）身份证号（18位）正则</span>
<span class="token keyword">var</span> cP <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^[1-9]\d{5}(18|19|([23]\d))\d{2}((0[1-9])|(10|11|12))(([0-2][1-9])|10|20|30|31)\d{3}[0-9Xx]$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">;</span>

<span class="token comment">//（8）URL正则</span>
<span class="token keyword">var</span> urlP<span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^((https?|ftp|file):\/\/)?([\da-z\.-]+)\.([a-z\.]{2,6})([\/\w \.-]*)*\/?$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">;</span>

<span class="token comment">// (9)ipv4地址正则</span>
<span class="token keyword">var</span> ipP <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">;</span>

<span class="token comment">// (10)//车牌号正则</span>
<span class="token keyword">var</span> cPattern <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^[京津沪渝冀豫云辽黑湘皖鲁新苏浙赣鄂桂甘晋蒙陕吉闽贵粤青藏川宁琼使领A-Z]{1}[A-Z]{1}[A-Z0-9]{4}[A-Z0-9挂学警港澳]{1}$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">;</span>

<span class="token comment">// (11)强密码(必须包含大小写字母和数字的组合，不能使用特殊字符，长度在8-10之间)：</span>
<span class="token keyword">var</span> pwd <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^(?=.\d)(?=.[a-z])(?=.[A-Z]).{8,10}$</span><span class="token regex-delimiter">/</span></span>
</code></pre></div><h2 id="_47-ajax-是什么-如何创建一个-ajax"><a href="#_47-ajax-是什么-如何创建一个-ajax" class="header-anchor">#</a> 47. Ajax 是什么? 如何创建一个 Ajax</h2> <p>我对 <code>ajax</code> 的理解是，它是一种<strong>异步通信</strong>的方法，通过直接由 <code>js</code> 脚本向服务器发起 <code>http</code> 通信，然后根据服务器返回的数据，更新网页的相应部分，而不用刷新整个页面的一种方法。</p> <h3 id="创建步骤"><a href="#创建步骤" class="header-anchor">#</a> 创建步骤：</h3> <p><img src="/notes/assets/js/v2-9f92809fbd893ff41055898079018d3d_720w.jpg" alt="demo"></p> <h3 id="面试手写-原生"><a href="#面试手写-原生" class="header-anchor">#</a> 面试手写（原生）：</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">//1：创建Ajax对象</span>
<span class="token keyword">var</span> xhr <span class="token operator">=</span> window<span class="token punctuation">.</span>XMLHttpRequest<span class="token operator">?</span><span class="token keyword">new</span> <span class="token class-name">XMLHttpRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span><span class="token keyword">new</span> <span class="token class-name">ActiveXObject</span><span class="token punctuation">(</span><span class="token string">'Microsoft.XMLHTTP'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 兼容IE6及以下版本</span>
<span class="token comment">//2：配置 Ajax请求地址</span>
xhr<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token string">'get'</span><span class="token punctuation">,</span><span class="token string">'index.xml'</span><span class="token punctuation">,</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//3：发送请求</span>
xhr<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 严谨写法</span>
<span class="token comment">//4:监听请求，接受响应</span>
xhr<span class="token punctuation">.</span><span class="token function-variable function">onreadysatechange</span><span class="token operator">=</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
     <span class="token keyword">if</span><span class="token punctuation">(</span>xhr<span class="token punctuation">.</span>readySates<span class="token operator">==</span><span class="token number">4</span><span class="token operator">&amp;&amp;</span>xhr<span class="token punctuation">.</span>status<span class="token operator">==</span><span class="token number">200</span> <span class="token operator">||</span> xhr<span class="token punctuation">.</span>status<span class="token operator">==</span><span class="token number">304</span> <span class="token punctuation">)</span>
          console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>xhr<span class="token punctuation">.</span>responsetXML<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="jquery写法"><a href="#jquery写法" class="header-anchor">#</a> jQuery写法</h3> <div class="language-js extra-class"><pre class="language-js"><code>$<span class="token punctuation">.</span><span class="token function">ajax</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    type<span class="token operator">:</span><span class="token string">'post'</span><span class="token punctuation">,</span>
    url<span class="token operator">:</span><span class="token string">''</span><span class="token punctuation">,</span>
    async<span class="token operator">:</span>ture<span class="token punctuation">,</span><span class="token comment">//async 异步  sync  同步</span>
    data<span class="token operator">:</span>data<span class="token punctuation">,</span><span class="token comment">//针对post请求</span>
    dataType<span class="token operator">:</span><span class="token string">'jsonp'</span><span class="token punctuation">,</span>
    <span class="token function-variable function">success</span><span class="token operator">:</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">msg</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function-variable function">error</span><span class="token operator">:</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">error</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="promise-封装实现"><a href="#promise-封装实现" class="header-anchor">#</a> promise 封装实现：</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// promise 封装实现：</span>

<span class="token keyword">function</span> <span class="token function">getJSON</span><span class="token punctuation">(</span><span class="token parameter">url</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// 创建一个 promise 对象</span>
  <span class="token keyword">let</span> promise <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> xhr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">XMLHttpRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 新建一个 http 请求</span>
    xhr<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token string">&quot;GET&quot;</span><span class="token punctuation">,</span> url<span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 设置状态的监听函数</span>
    xhr<span class="token punctuation">.</span><span class="token function-variable function">onreadystatechange</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>readyState <span class="token operator">!==</span> <span class="token number">4</span><span class="token punctuation">)</span> <span class="token keyword">return</span><span class="token punctuation">;</span>

      <span class="token comment">// 当请求成功或失败时，改变 promise 的状态</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>status <span class="token operator">===</span> <span class="token number">200</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>response<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token function">reject</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>statusText<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>

    <span class="token comment">// 设置错误监听函数</span>
    xhr<span class="token punctuation">.</span><span class="token function-variable function">onerror</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">reject</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>statusText<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>

    <span class="token comment">// 设置响应的数据类型</span>
    xhr<span class="token punctuation">.</span>responseType <span class="token operator">=</span> <span class="token string">&quot;json&quot;</span><span class="token punctuation">;</span>

    <span class="token comment">// 设置请求头信息</span>
    xhr<span class="token punctuation">.</span><span class="token function">setRequestHeader</span><span class="token punctuation">(</span><span class="token string">&quot;Accept&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;application/json&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 发送 http 请求</span>
    xhr<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> promise<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="_48-js-延迟加载的方式有哪些"><a href="#_48-js-延迟加载的方式有哪些" class="header-anchor">#</a> 48. js 延迟加载的方式有哪些</h2> <p>js 的<code>加载</code>、<code>解析</code>和<code>执行</code>会阻塞页面的渲染过程，因此希望 js 脚本能够尽可能的延迟加载，提高页面的渲染速度。</p> <p>我了解到的几种方式是：</p> <ol><li><p>将 <code>js</code> 脚本放在文档的底部，来使 <code>js</code> 脚本尽可能的在最后来加载执行。</p></li> <li><p>给 <code>js</code> 脚本添加 <code>defer</code>属性，这个属性会让脚本的加载与文档的解析同步解析，然后在文档解析完成后再执行这个脚本文件，这样的话就能使页面的渲染不被阻塞。多个设置了 <code>defer</code> 属性的脚本按规范来说最后是顺序执行的，但是在一些浏览器中可能不是这样。</p></li> <li><p>给 <code>js</code> 脚本添加 <code>async</code>属性，这个属性会使脚本异步加载，不会阻塞页面的解析过程，但是当脚本加载完成后立即执行 <code>js</code>脚本，这个时候如果文档没有解析完成的话同样会阻塞。多个 <code>async</code> 属性的脚本的执行顺序是不可预测的，一般不会按照代码的顺序依次执行。</p></li> <li><p>动态创建 <code>DOM</code> 标签的方式，可以对文档的加载事件进行监听，当文档加载完成后再动态的创建 <code>script</code> 标签来引入 <code>js</code> 脚本。</p></li></ol> <h2 id="_49-谈谈你对模块化开发的理解"><a href="#_49-谈谈你对模块化开发的理解" class="header-anchor">#</a> 49. 谈谈你对模块化开发的理解</h2> <p>我对模块的理解是，一个模块是实现一个特定功能的一组方法。在最开始的时候，js 只实现一些简单的功能，所以并没有模块的概念 ，但随着程序越来越复杂，代码的模块化开发变得越来越重要。</p> <p>由于函数具有独立作用域的特点，最原始的写法是使用函数来作为模块，几个函数作为一个模块，但是这种方式容易造成全局变量的污染，并且模块间没有联系。</p> <p>后面提出了对象写法，通过将函数作为一个对象的方法来实现，这样解决了直接使用函数作为模块的一些缺点，但是这种办法会暴露所 有的所有的模块成员，外部代码可以修改内部属性的值。</p> <p>现在最常用的是立即执行函数的写法，通过利用闭包来实现模块私有作用域的建立，同时不会对全局作用域造成污染。</p> <h2 id="_50-js-的几种模块规范"><a href="#_50-js-的几种模块规范" class="header-anchor">#</a> 50. js 的几种模块规范</h2> <h3 id="第一种是-commonjs-方案"><a href="#第一种是-commonjs-方案" class="header-anchor">#</a> 第一种是 CommonJS 方案</h3> <blockquote><p>node</p> <p>它通过 <code>require</code> 来引入模块，通过 <code>module.exports</code> 定义模块的输出接口。这种模块加载方案是服务器端的解决方案，它是以同步的方式来引入模块的，因为在服务端文件都存储在本地磁盘，所以读取非常快，所以以同步的方式加载没有问题。但如果是在浏览器端，由于模块的加载是使用网络请求，因此使用异步加载的方式更加合适。</p></blockquote> <h3 id="第二种是-amd-方案"><a href="#第二种是-amd-方案" class="header-anchor">#</a> 第二种是 AMD 方案</h3> <blockquote><p>这种方案采用异步加载的方式来加载模块，模块的加载不影响后面语句的执行，所有依赖这个模块的语句都定义在一个回调函数里，等到加载完成后再执行回调函数。<code>require.js</code> 实现了 <code>AMD</code> 规范。</p></blockquote> <h3 id="第三种是-cmd-方案"><a href="#第三种是-cmd-方案" class="header-anchor">#</a> 第三种是 CMD 方案</h3> <blockquote><p>这种方案和 <code>AMD</code> 方案都是为了解决异步模块加载的问题，<code>sea.js</code> 实现了 <code>CMD</code> 规范。它和<code>require.js</code>的区别在于模块定义时对依赖的处理不同和对依赖模块的执行时机的处理不同。</p></blockquote> <h3 id="第四种方案是-es6-提出的方案"><a href="#第四种方案是-es6-提出的方案" class="header-anchor">#</a> 第四种方案是 ES6 提出的方案</h3> <blockquote><p>使用 <code>import</code> 和 <code>export</code> 的形式来导入导出模块。这种方案和上面三种方案都不同。</p></blockquote> <h2 id="_51-amd-和-cmd-规范的区别"><a href="#_51-amd-和-cmd-规范的区别" class="header-anchor">#</a> 51. AMD 和 CMD 规范的区别</h2> <p>它们之间的主要区别有两个方面。</p> <ol><li><p>第一个方面是在模块定义时对依赖的处理不同。<code>AMD</code>推崇依赖前置，在定义模块的时候就要声明其依赖的模块。而 <code>CMD</code> 推崇就近依赖，只有在用到某个模块的时候再去 <code>require</code>。</p></li> <li><p>第二个方面是对依赖模块的执行时机处理不同。首先 <code>AMD</code> 和 <code>CMD</code> 对于模块的加载方式都是异步加载，不过它们的区别在于 模块的执行时机，<code>AMD</code> 在依赖模块加载完成后就直接执行依赖模块，依赖模块的执行顺序和书写的顺序不一定一致。而 <code>CMD</code> 在依赖模块加载完成后并不执行，只是下载而已，等到所有的依赖模块都加载好后，进入回调函数逻辑，遇到 <code>require</code> 语句 的时候才执行对应的模块，这样模块的执行顺序就和书写的顺序保持一致了。</p></li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// CMD</span>
<span class="token function">define</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">require<span class="token punctuation">,</span> exports<span class="token punctuation">,</span> module</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;./a&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  a<span class="token punctuation">.</span><span class="token function">doSomething</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// 此处略去 100 行</span>
  <span class="token keyword">var</span> b <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;./b&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 依赖可以就近书写</span>
  b<span class="token punctuation">.</span><span class="token function">doSomething</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// AMD 默认推荐</span>
<span class="token function">define</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&quot;./a&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;./b&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// 依赖必须一开始就写好</span>
  a<span class="token punctuation">.</span><span class="token function">doSomething</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// 此处略去 100 行</span>
  b<span class="token punctuation">.</span><span class="token function">doSomething</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="_52-es6-模块与-commonjs-模块、amd、cmd-的差异"><a href="#_52-es6-模块与-commonjs-模块、amd、cmd-的差异" class="header-anchor">#</a> 52. ES6 模块与 CommonJS 模块、AMD、CMD 的差异</h2> <ol><li><p><code>CommonJS</code> 模块输出的是一个值的拷贝，<code>ES6</code> 模块输出的是值的引用。<code>CommonJS</code> 模块输出的是值的，也就是说，一旦输出一个值，模块内部的变化就影响不到这个值。<code>ES6</code> 模块的运行机制与 <code>CommonJS</code> 不一样。<code>JS</code> 引擎对脚本静态分析的时候，遇到模块加载命令 <code>import</code>，就会生成一个只读引用。等到脚本真正执行时，再根据这个只读引用，到被加载的那个模块里面去取值。</p></li> <li><p><code>CommonJS</code> 模块是运行时加载，<code>ES6</code> 模块是编译时输出接口。<code>CommonJS</code> 模块就是对象，即在输入时是先加载整个模块，生成一个对象，然后再从这个对象上面读取方法，这种加载称为“运行时加载”。而 <code>ES6</code> 模块不是对象，它的对外接口只是一种静态定义，在代码静态解析阶段就会生成。</p></li></ol> <h2 id="_53-requirejs的核心原理是什么"><a href="#_53-requirejs的核心原理是什么" class="header-anchor">#</a> 53. requireJS的核心原理是什么</h2> <p><code>require.js</code> 的核心原理是通过动态创建 <code>script</code> 脚本来异步引入模块，然后对每个脚本的 <code>load</code> 事件进行监听，如果每个脚本都加载完成了，再调用回调函数。</p> <h2 id="_54-谈谈js的运行机制"><a href="#_54-谈谈js的运行机制" class="header-anchor">#</a> 54. 谈谈JS的运行机制</h2> <h3 id="_1-js单线程"><a href="#_1-js单线程" class="header-anchor">#</a> 1. js单线程</h3> <p>JavaScript语言的一大特点就是单线程，即同一时间只能做一件事情。</p> <blockquote><p><code>JavaScrip</code>t的单线程，与它的用途有关。作为浏览器脚本语言，JavaScript的主要用途是与<code>用户互动</code>，以及<code>操作DOM</code>。这决定了它只能是单线程，<code>否则会带来很复杂的同步问题</code>。比如，假定JavaScript同时有两个线程，一个线程在某个DOM节点上添加内容，另一个线程删除了这个节点，这时浏览器应该以哪个线程为准？ 所以，为了避免复杂性，从一诞生，JavaScript就是单线程，这已经成了这门语言的核心特征，将来也不会改变。</p></blockquote> <h3 id="_2-js事件循环"><a href="#_2-js事件循环" class="header-anchor">#</a> 2. js事件循环</h3> <p>js代码执行过程中会有很多任务，这些任务总的分成两类：</p> <ul><li><p>同步任务</p></li> <li><p>异步任务</p></li></ul> <p>当打开网站时，网页的渲染过程就是一大堆同步任务，比如页面骨架和页面元素的渲染。而像加载图片音乐之类占用资源大耗时久的任务，就是异步任务。，用导图来说明：</p> <p><img src="/notes/assets/js/v2-d8d012ef2891180b221f279d88735ac8_720w.jpg" alt="demo"></p> <p>解释一下这张图：</p> <ul><li><p>同步和异步任务分别进入不同的执行&quot;场所&quot;，同步的进入主线程，异步的进入<code>Event Table</code>并注册函数。</p></li> <li><p>当指定的事情完成时，<code>Event Table</code>会将这个函数移入<code>Event Queue</code>。</p></li> <li><p>主线程内的任务执行完毕为空，会去<code>Event Queue</code>读取对应的函数，进入主线程执行。</p></li> <li><p>上述过程会不断重复，也就是常说的<code>Event Loop</code>(事件循环)。</p></li></ul> <p>那主线程执行栈何时为空呢？js引擎存在<code>monitoring process</code>进程，会持续不断的检查主线程执行栈是否为空，一旦为空，就会去<code>Event Queue</code>那里检查是否有等待被调用的函数。</p> <p>以上就是js运行的整体流程</p> <p>需要注意的是除了同步任务和异步任务，任务还可以更加细分为<code>macrotask(宏任务)</code>和<code>microtask(微任务)</code>，js引擎会优先执行微任务</p> <blockquote><p>微任务包括了 <code>promise</code> 的回调、<code>node</code> 中的 <code>process.nextTick</code> 、对 <code>Dom</code> 变化监听的 <code>MutationObserver</code>。</p> <p>宏任务包括了 <code>script</code> 脚本的执行、<code>setTimeout</code> ，<code>setInterval</code> ，<code>setImmediate</code> 一类的定时事件，还有如 <code>I/O</code> 操作、<code>UI</code> 渲染等。</p></blockquote> <p>面试中该如何回答呢？ 下面是我个人推荐的回答：</p> <ol><li><p>首先js 是单线程运行的，在代码执行的时候，通过将不同函数的执行上下文压入执行栈中来保证代码的有序执行。</p></li> <li><p>在执行同步代码的时候，如果遇到了异步事件，js 引擎并不会一直等待其返回结果，而是会将这个事件挂起，继续执行执行栈中的其他任务</p></li> <li><p>当同步事件执行完毕后，再将异步事件对应的回调加入到与当前执行栈中不同的另一个任务队列中等待执行。</p></li> <li><p>任务队列可以分为宏任务对列和微任务对列，当当前执行栈中的事件执行完毕后，js 引擎首先会判断微任务对列中是否有任务可以执行，如果有就将微任务队首的事件压入栈中执行。</p></li> <li><p>当微任务对列中的任务都执行完成后再去判断宏任务对列中的任务。</p></li></ol> <p>最后可以用下面一道题检测一下收获：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
process<span class="token punctuation">.</span><span class="token function">nextTick</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span>
</code></pre></div><blockquote><p>代码描述:</p> <p>第一轮：主线程开始执行</p> <ol><li>遇到<code>setTimeout</code>，将<code>setTimeout</code>的回调函数丢到宏任务队列中</li> <li>在往下执行<code>new Promise</code>立即执行，输出2，<code>then</code>的回调函数丢到微任务队列中，再继续执行</li> <li>遇到<code>process.nextTick</code>，同样将回调函数扔到为任务队列，再继续执行，输出5</li> <li>当所有同步任务执行完成后看有没有可以执行的微任务，发现有<code>then</code>函数和<code>nextTick</code>两个微任务，先执行哪个呢？
4.1. <code>process.nextTick</code>指定的异步任务总是发生在所有异步任务之前，因此先执行<code>process.nextTick</code>输出4
4.2. 然后执行<code>then</code>函数输出3，第一轮执行结束。
第二轮：从宏任务队列开始，发现<code>setTimeout</code>回调，输出1执行完毕，因此结果是25431</li></ol></blockquote> <h2 id="_55-arguments-的对象是什么"><a href="#_55-arguments-的对象是什么" class="header-anchor">#</a> 55. arguments 的对象是什么</h2> <p><code>arguments</code>对象是函数中传递的参数值的集合。它是一个类似数组的对象，因为它有一个<code>length</code>属性，可以使用数组索引表示法<code>arguments[1]</code>来访问单个值，但它没有数组中的内置方法，如：<code>forEach</code>、<code>reduce</code>、<code>filter</code>和<code>map</code>。</p> <p>可以使用<code>Array.prototype.slice</code>将<code>arguments</code>对象转换成一个数组。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">one</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token class-name">Array</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>arguments<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>注意:箭头函数中没有<code>arguments</code>对象。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">one</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> arguments<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> <span class="token function-variable function">two</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> arguments<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> <span class="token function-variable function">three</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token function">three</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> arguments<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> <span class="token function-variable function">four</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> arguments<span class="token punctuation">;</span>

<span class="token function">four</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Throws an error  - arguments is not defined</span>
</code></pre></div><p>当调用函数<code>four</code>时，它会抛出一个<code>ReferenceError: arguments is not defined error</code>。使用<code>rest</code>语法，可以解决这个问题。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token function-variable function">four</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token operator">...</span>args</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> args<span class="token punctuation">;</span>
</code></pre></div><p>这会自动将所有参数值放入数组中。</p> <h2 id="_56-为什么在调用这个函数时-代码中的b会变成一个全局变量"><a href="#_56-为什么在调用这个函数时-代码中的b会变成一个全局变量" class="header-anchor">#</a> 56. 为什么在调用这个函数时，代码中的b会变成一个全局变量</h2> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">myFunc</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> a <span class="token operator">=</span> b <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token function">myFunc</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><blockquote><p>原因是赋值运算符是从右到左的求值的。这意味着当多个赋值运算符出现在一个表达式中时，它们是从右向左求值的。所以上面代码变成了这样：</p></blockquote> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">myFunc</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token punctuation">(</span>b <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token function">myFunc</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>首先，表达式<code>b = 0</code>求值，在本例中b没有声明。因此，<code>JS</code>引擎在这个函数外创建了一个全局变量<code>b</code>，之后表达式<code>b = 0</code>的返回值为<code>0</code>，并赋给新的局部变量<code>a</code>。</p> <p>可以通过在赋值之前先声明变量来解决这个问题。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">myFunc</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> a<span class="token punctuation">,</span>b<span class="token punctuation">;</span>
  a <span class="token operator">=</span> b <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">myFunc</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="_57-简单介绍一下-v8-引擎的垃圾回收机制"><a href="#_57-简单介绍一下-v8-引擎的垃圾回收机制" class="header-anchor">#</a> 57. 简单介绍一下 V8 引擎的垃圾回收机制</h2> <p>v8 的垃圾回收机制基于分代回收机制，这个机制又基于世代假说，这个假说有两个特点，一是新生的对象容易早死，另一个是不死的对象会活得更久。基于这个假说，v8 引擎将内存分为了新生代和老生代。</p> <p>新创建的对象或者只经历过一次的垃圾回收的对象被称为新生代。经历过多次垃圾回收的对象被称为老生代。</p> <p>新生代被分为 <code>From</code> 和 <code>To</code> 两个空间，<code>To</code> 一般是闲置的。当 <code>From</code> 空间满了的时候会执行 <code>Scavenge</code> 算法进行垃圾回收。当执行垃圾回收算法的时候应用逻辑将会停止，等垃圾回收结束后再继续执行。这个算法分为三步：</p> <ol><li><p>首先检查 <code>From</code> 空间的存活对象，如果对象存活则判断对象是否满足晋升到老生代的条件，如果满足条件则晋升到老生代。如果不满足条件则移动 <code>To</code> 空间。</p></li> <li><p>如果对象不存活，则释放对象的空间。</p></li> <li><p>最后将 <code>From</code> 空间和 <code>To</code> 空间角色进行交换。</p></li></ol> <p>新生代对象晋升到老生代有两个条件：</p> <ol><li><p>第一个是判断是对象否已经经过一次 <code>Scavenge</code> 回收。若经历过，则将对象从 <code>From</code> 空间复制到老生代中；若没有经历，则复制到 <code>To</code> 空间。</p></li> <li><p>第二个是 <code>To</code> 空间的内存使用占比是否超过限制。当对象从 <code>From</code> 空间复制到 <code>To</code> 空间时，若 <code>To</code> 空间使用超过 25%，则对象直接晋升到老生代中。设置 25% 的原因主要是因为算法结束后，两个空间结束后会交换位置，如果 <code>To</code> 空间的内存太小，会影响后续的内存分配。</p></li></ol> <p>老生代采用了标记清除法和标记压缩法。标记清除法首先会对内存中存活的对象进行标记，标记结束后清除掉那些没有标记的对象。由于标记清除后会造成很多的内存碎片，不便于后面的内存分配。所以了解决内存碎片的问题引入了标记压缩法。</p> <p>由于在进行垃圾回收的时候会暂停应用的逻辑，对于新生代方法由于内存小，每次停顿的时间不会太长，但对于老生代来说每次垃圾回收的时间长，停顿会造成很大的影响。 为了解决这个问题 <code>V8</code> 引入了增量标记的方法，将一次停顿进行的过程分为了多步，每次执行完一小步就让运行逻辑执行一会，就这样交替运行。</p> <h2 id="_58-哪些操作会造成内存泄漏"><a href="#_58-哪些操作会造成内存泄漏" class="header-anchor">#</a> 58.  哪些操作会造成内存泄漏</h2> <ol><li>意外的全局变量</li></ol> <blockquote><p><strong>思路:</strong></p> <p>由于使用未声明的变量，而意外的创建了一个全局变量，而使这个变量一直留在内存中无法被回收。</p></blockquote> <ol start="2"><li>被遗忘的计时器或回调函数</li></ol> <blockquote><p><strong>思路:</strong></p> <p>设置了<code>setInterval</code>定时器，而忘记取消它，如果循环函数有对外部变量的引用的话，那么这个变量会被一直留在内存中，而无法被回收。</p></blockquote> <ol start="3"><li>脱离 DOM 的引用</li></ol> <blockquote><p><strong>思路:</strong></p> <p>获取一个<code>DOM</code>元素的引用，而后面这个元素被删除，由于一直保留了对这个元素的引用，所以它也无法被回收。</p></blockquote> <ol start="4"><li>闭包</li></ol> <blockquote><p><strong>思路:</strong></p> <p>是不合理的使用闭包，从而导致某些变量一直被留在内存当中。</p></blockquote> <h2 id="_59-ecmascript-是什么"><a href="#_59-ecmascript-是什么" class="header-anchor">#</a> 59. ECMAScript 是什么</h2> <p><code>ECMAScript</code> 是编写脚本语言的标准，这意味着<code>JavaScript</code>遵循<code>ECMAScript</code>标准中的规范变化，因为它是<code>JavaScript</code>的蓝图。</p> <p><code>ECMAScript</code> 和 <code>Javascript</code>，本质上都跟一门语言有关，一个是语言本身的名字，一个是语言的约束条件 只不过发明<code>JavaScript</code>的那个人（Netscape公司），把东西交给了ECMA（European Computer Manufacturers Association），这个人规定一下他的标准，因为当时有java语言了，又想强调这个东西是让ECMA这个人定的规则，所以就这样一个神奇的东西诞生了，这个东西的名称就叫做<code>ECMAScript</code>。</p> <p><code>javaScript</code> = <code>ECMAScript</code> + <code>DOM</code> + <code>BOM</code>（自认为是一种广义的<code>JavaScript</code>）</p> <p><code>ECMAScript</code>说什么<code>JavaScript</code>就得做什么！</p> <p><code>JavaScript</code>（狭义的<code>JavaScript</code>）做什么都要问问ECMAScript我能不能这样干！如果不能我就错了！能我就是对的！</p> <h2 id="_60-ecmascript-2015-es6-有哪些新特性"><a href="#_60-ecmascript-2015-es6-有哪些新特性" class="header-anchor">#</a> 60. ECMAScript 2015（ES6）有哪些新特性</h2> <ul><li><p>块作用域</p></li> <li><p>类</p></li> <li><p>箭头函数</p></li> <li><p>模板字符串</p></li> <li><p>加强的对象字面</p></li> <li><p>对象解构</p></li> <li><p>Promise</p></li> <li><p>模块</p></li> <li><p>Symbol</p></li> <li><p>代理（proxy）Set</p></li> <li><p>函数默认参数</p></li> <li><p>rest 和展开</p></li></ul> <h2 id="_61-var-let和const的区别是什么"><a href="#_61-var-let和const的区别是什么" class="header-anchor">#</a> 61. var,let和const的区别是什么</h2> <ol><li><code>var</code>声明的变量会挂载在<code>window</code>上，而<code>let</code>和<code>const</code>声明的变量不会：</li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span>window<span class="token punctuation">.</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// 100 100</span>

<span class="token keyword">let</span> b <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>b<span class="token punctuation">,</span>window<span class="token punctuation">.</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// 10 undefined</span>

<span class="token keyword">const</span> c <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>c<span class="token punctuation">,</span>window<span class="token punctuation">.</span>c<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// 1 undefined</span>
</code></pre></div><ol start="2"><li><code>var</code>声明变量存在变量提升，<code>let</code>和<code>const</code>不存在变量提升:</li></ol> <div class="language-js extra-class"><pre class="language-js"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// undefined  ===&gt;  a已声明还没赋值，默认得到undefined值</span>
<span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 报错：b is not defined  ===&gt; 找不到b这个变量</span>
<span class="token keyword">let</span> b <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 报错：c is not defined  ===&gt; 找不到c这个变量</span>
<span class="token keyword">const</span> c <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
</code></pre></div><ol start="3"><li><code>let</code>和<code>const</code>声明形成块作用域</li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">;</span>
  <span class="token keyword">let</span> b <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 100</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span>  <span class="token comment">// 报错：b is not defined  ===&gt; 找不到b这个变量</span>

<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span>

<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> c <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 100</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span>  <span class="token comment">// 报错：c is not defined  ===&gt; 找不到c这个变量</span>
</code></pre></div><ol start="4"><li>同一作用域下<code>let</code>和<code>const</code>不能声明同名变量，而<code>var</code>可以</li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 100</span>

<span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 10</span>
<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span>
<span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>

<span class="token comment">//  控制台报错：Identifier 'a' has already been declared  ===&gt; 标识符a已经被声明了。</span>
</code></pre></div><ol start="5"><li>暂存死区</li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">;</span>

<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    a <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
    <span class="token comment">//在当前块作用域中存在a使用let/const声明的情况下，给a赋值10时，只会在当前作用域找变量a，</span>
    <span class="token comment">// 而这时，还未到声明时候，所以控制台Error:a is not defined</span>
    <span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><ol start="6"><li>const</li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">/*
 * &amp;emsp;&amp;emsp;1、一旦声明必须赋值,不能使用null占位。
 *
 * &amp;emsp;&amp;emsp;2、声明后不能再修改
 *
 * &amp;emsp;&amp;emsp;3、如果声明的是复合类型数据，可以修改其属性
 *
 * */</span>

<span class="token keyword">const</span> a <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">;</span> 

<span class="token keyword">const</span> list <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
list<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>list<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token operator">&amp;</span>emsp<span class="token punctuation">;</span><span class="token operator">&amp;</span>emsp<span class="token punctuation">;</span><span class="token comment">// [10]</span>

<span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>a<span class="token operator">:</span><span class="token number">100</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
obj<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">'apple'</span><span class="token punctuation">;</span>
obj<span class="token punctuation">.</span>a <span class="token operator">=</span> <span class="token number">10000</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token operator">&amp;</span>emsp<span class="token punctuation">;</span><span class="token operator">&amp;</span>emsp<span class="token punctuation">;</span><span class="token comment">// {a:10000,name:'apple'}</span>
</code></pre></div><h2 id="_62-什么是箭头函数"><a href="#_62-什么是箭头函数" class="header-anchor">#</a> 62. 什么是箭头函数</h2> <ol><li>箭头函数表达式的语法比函数表达式更简洁，并且没有自己的<code>this</code>，<code>arguments</code>，<code>super</code>或<code>new.target</code>。箭头函数表达式更适用于那些本来需要匿名函数的地方，并且它不能用作构造函数。</li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">//ES5 Version</span>
<span class="token keyword">var</span> <span class="token function-variable function">getCurrentDate</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">//ES6 Version</span>
<span class="token keyword">const</span> <span class="token function-variable function">getCurrentDate</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ol start="2"><li>在本例中，<code>ES5</code> 版本中有<code>function(){}</code>声明和<code>return</code>关键字，这两个关键字分别是创建函数和返回值所需要的。在箭头函数版本中，只需要<code>()</code>括号，不需要 <code>return</code> 语句，因为如果只有一个表达式或值需要返回，箭头函数就会有一个隐式的返回。</li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">//ES5 Version</span>
<span class="token keyword">function</span> <span class="token function">greet</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token string">'Hello '</span> <span class="token operator">+</span> name <span class="token operator">+</span> <span class="token string">'!'</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">//ES6 Version</span>
<span class="token keyword">const</span> <span class="token function-variable function">greet</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Hello </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token function-variable function">greet2</span> <span class="token operator">=</span> <span class="token parameter">name</span> <span class="token operator">=&gt;</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Hello </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
</code></pre></div><ol start="3"><li>还可以在箭头函数中使用与函数表达式和函数声明相同的参数。如果在一个箭头函数中有一个参数，则可以省略括号。</li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token function-variable function">getArgs</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> arguments

<span class="token keyword">const</span> <span class="token function-variable function">getArgs2</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token operator">...</span>rest</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> rest
</code></pre></div><ol start="4"><li>箭头函数不能访问<code>arguments</code>对象。所以调用第一个<code>getArgs</code>函数会抛出一个错误。相反，可以使用<code>rest</code>参数来获得在箭头函数中传递的所有参数。</li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> data <span class="token operator">=</span> <span class="token punctuation">{</span>
  result<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  nums<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token function">computeResult</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 这里的“this”指的是“data”对象</span>
    <span class="token keyword">const</span> <span class="token function-variable function">addAll</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>nums<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">total<span class="token punctuation">,</span> cur</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> total <span class="token operator">+</span> cur<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>result <span class="token operator">=</span> <span class="token function">addAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><p>箭头函数没有自己的<code>this</code>值。它捕获词法作用域函数的<code>this</code>值，在此示例中，<code>addAll</code>函数将复制<code>computeResult</code> 方法中的<code>this</code>值，如果在全局作用域声明箭头函数，则<code>this</code>值为 <code>window</code> 对象。</p> <h2 id="_63-什么是类"><a href="#_63-什么是类" class="header-anchor">#</a> 63. 什么是类</h2> <ol><li><code>类(class)</code>是在 JS 中编写构造函数的新方法。它是使用构造函数的语法糖，在底层中使用仍然是原型和基于原型的继承。</li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">//ES5 Version</span>
<span class="token keyword">function</span> <span class="token function">Person</span><span class="token punctuation">(</span><span class="token parameter">firstName<span class="token punctuation">,</span> lastName<span class="token punctuation">,</span> age<span class="token punctuation">,</span> address</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>firstName <span class="token operator">=</span> firstName<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>lastName <span class="token operator">=</span> lastName<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>address <span class="token operator">=</span> address<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

Person<span class="token punctuation">.</span><span class="token function-variable function">self</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token class-name">Person</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">toString</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token string">&quot;[object Person]&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token class-name">Person</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">getFullName</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>firstName <span class="token operator">+</span> <span class="token string">&quot; &quot;</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>lastName<span class="token punctuation">;</span>
<span class="token punctuation">}</span>  

<span class="token comment">//ES6 Version</span>
<span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">firstName<span class="token punctuation">,</span> lastName<span class="token punctuation">,</span> age<span class="token punctuation">,</span> address</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>lastName <span class="token operator">=</span> lastName<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>firstName <span class="token operator">=</span> firstName<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>address <span class="token operator">=</span> address<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">static</span> <span class="token function">self</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">&quot;[object Person]&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token function">getFullName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>firstName<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>lastName<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><ol start="2"><li>重写方法并从另一个类继承。</li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">//ES5 Version</span>
<span class="token class-name">Employee</span><span class="token punctuation">.</span>prototype <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token class-name">Person</span><span class="token punctuation">.</span>prototype<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">Employee</span><span class="token punctuation">(</span><span class="token parameter">firstName<span class="token punctuation">,</span> lastName<span class="token punctuation">,</span> age<span class="token punctuation">,</span> address<span class="token punctuation">,</span> jobTitle<span class="token punctuation">,</span> yearStarted</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">Person</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> firstName<span class="token punctuation">,</span> lastName<span class="token punctuation">,</span> age<span class="token punctuation">,</span> address<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>jobTitle <span class="token operator">=</span> jobTitle<span class="token punctuation">;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>yearStarted <span class="token operator">=</span> yearStarted<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token class-name">Employee</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">describe</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">I am </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getFullName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> and I have a position of </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>jobTitle<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> and I started at </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>yearStarted<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token class-name">Employee</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">toString</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token string">&quot;[object Employee]&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">//ES6 Version</span>
<span class="token keyword">class</span> <span class="token class-name">Employee</span> <span class="token keyword">extends</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span> <span class="token comment">//Inherits from &quot;Person&quot; class</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">firstName<span class="token punctuation">,</span> lastName<span class="token punctuation">,</span> age<span class="token punctuation">,</span> address<span class="token punctuation">,</span> jobTitle<span class="token punctuation">,</span> yearStarted</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span>firstName<span class="token punctuation">,</span> lastName<span class="token punctuation">,</span> age<span class="token punctuation">,</span> address<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>jobTitle <span class="token operator">=</span> jobTitle<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>yearStarted <span class="token operator">=</span> yearStarted<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token function">describe</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">I am </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getFullName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> and I have a position of </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>jobTitle<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> and I started at </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>yearStarted<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// Overriding the &quot;toString&quot; method of &quot;Person&quot;</span>
    <span class="token keyword">return</span> <span class="token string">&quot;[object Employee]&quot;</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><ol start="3"><li>所以要怎么知道它在内部使用原型？</li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">Something</span> <span class="token punctuation">{</span>

<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">AnotherSomething</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>

<span class="token punctuation">}</span>
<span class="token keyword">const</span> <span class="token keyword">as</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">AnotherSomething</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> s <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Something</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> Something<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &quot;function&quot;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> AnotherSomething<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &quot;function&quot;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">as</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &quot;[object Object]&quot;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">as</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &quot;[object Object]&quot;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">as</span><span class="token punctuation">.</span>toString <span class="token operator">===</span> <span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>toString<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>s<span class="token punctuation">.</span>toString <span class="token operator">===</span> <span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>toString<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
</code></pre></div><h2 id="_64-什么是模板字符串"><a href="#_64-什么是模板字符串" class="header-anchor">#</a> 64. 什么是模板字符串</h2> <ol><li>模板字符串是在 <code>JS</code> 中创建字符串的一种新方法。可以通过使用反引号使模板字符串化。</li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">//ES5 Version</span>
<span class="token keyword">var</span> greet <span class="token operator">=</span> <span class="token string">'Hi I\'m Mark'</span><span class="token punctuation">;</span>

<span class="token comment">//ES6 Version</span>
<span class="token keyword">let</span> greet <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Hi I'm Mark</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
</code></pre></div><ol start="2"><li>在 <code>ES5</code> 中需要使用一些转义字符来达到多行的效果，在模板字符串不需要这么麻烦：</li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">//ES5 Version</span>
<span class="token keyword">var</span> lastWords <span class="token operator">=</span> <span class="token string">'\n'</span>
  <span class="token operator">+</span> <span class="token string">'   I  \n'</span>
  <span class="token operator">+</span> <span class="token string">'   Am  \n'</span>
  <span class="token operator">+</span> <span class="token string">'Iron Man \n'</span><span class="token punctuation">;</span>


<span class="token comment">//ES6 Version</span>
<span class="token keyword">let</span> lastWords <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
    I
    Am
  Iron Man   
</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
</code></pre></div><ol start="3"><li>在<code>ES5</code>版本中，需要添加<code>\n</code>以在字符串中添加新行。在模板字符串中，不需要这样做。</li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">//ES5 Version</span>
<span class="token keyword">function</span> <span class="token function">greet</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token string">'Hello '</span> <span class="token operator">+</span> name <span class="token operator">+</span> <span class="token string">'!'</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>


<span class="token comment">//ES6 Version</span>
<span class="token keyword">function</span> <span class="token function">greet</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Hello </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> !</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>在 <code>ES5</code> 版本中，如果需要在字符串中添加表达式或值，则需要使用<code>+</code>运算符。在模板字符串<code>s</code>中，可以使用<code>${expr}</code>嵌入一个表达式，这使其比 <code>ES5</code> 版本更整洁。</p> <h2 id="_65-什么是对象解构"><a href="#_65-什么是对象解构" class="header-anchor">#</a> 65. 什么是对象解构</h2> <ol><li>对象析构是从对象或数组中获取或提取值的一种新的、更简洁的方法。假设有如下的对象：</li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> employee <span class="token operator">=</span> <span class="token punctuation">{</span>
  firstName<span class="token operator">:</span> <span class="token string">&quot;Marko&quot;</span><span class="token punctuation">,</span>
  lastName<span class="token operator">:</span> <span class="token string">&quot;Polo&quot;</span><span class="token punctuation">,</span>
  position<span class="token operator">:</span> <span class="token string">&quot;Software Developer&quot;</span><span class="token punctuation">,</span>
  yearHired<span class="token operator">:</span> <span class="token number">2017</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><ol start="2"><li>从对象获取属性，早期方法是创建一个与对象属性同名的变量。这种方法很麻烦，因为要为每个属性创建一个新变量。假设有一个大对象，它有很多属性和方法，用这种方法提取属性会很麻烦。</li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> firstName <span class="token operator">=</span> employee<span class="token punctuation">.</span>firstName<span class="token punctuation">;</span>
<span class="token keyword">var</span> lastName <span class="token operator">=</span> employee<span class="token punctuation">.</span>lastName<span class="token punctuation">;</span>
<span class="token keyword">var</span> position <span class="token operator">=</span> employee<span class="token punctuation">.</span>position<span class="token punctuation">;</span>
<span class="token keyword">var</span> yearHired <span class="token operator">=</span> employee<span class="token punctuation">.</span>yearHired<span class="token punctuation">;</span>
</code></pre></div><ol start="3"><li>使用解构方式语法就变得简洁多了：</li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token punctuation">{</span> firstName<span class="token punctuation">,</span> lastName<span class="token punctuation">,</span> position<span class="token punctuation">,</span> yearHired <span class="token punctuation">}</span> <span class="token operator">=</span> employee<span class="token punctuation">;</span>
</code></pre></div><ol start="4"><li>还可以为属性取别名：</li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> <span class="token punctuation">{</span> firstName<span class="token operator">:</span> fName<span class="token punctuation">,</span> lastName<span class="token operator">:</span> lName<span class="token punctuation">,</span> position<span class="token punctuation">,</span> yearHired <span class="token punctuation">}</span> <span class="token operator">=</span> employee<span class="token punctuation">;</span>
</code></pre></div><ol start="5"><li>当然如果属性值为 <code>undefined</code> 时，还可以指定默认值：</li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> <span class="token punctuation">{</span> firstName <span class="token operator">=</span> <span class="token string">&quot;Mark&quot;</span><span class="token punctuation">,</span> lastName<span class="token operator">:</span> lName<span class="token punctuation">,</span> position<span class="token punctuation">,</span> yearHired <span class="token punctuation">}</span> <span class="token operator">=</span> employee<span class="token punctuation">;</span>
</code></pre></div><h2 id="_66-什么是set对象-它是如何工作的"><a href="#_66-什么是set对象-它是如何工作的" class="header-anchor">#</a> 66. 什么是Set对象，它是如何工作的</h2> <ol><li><p><code>Set</code> 对象允许你存储任何类型的唯一值，无论是原始值或者是对象引用。</p></li> <li><p>可以使用Set构造函数创建<code>Set</code>实例。</p></li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> set1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> set2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&quot;a&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;b&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;c&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;d&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;d&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;e&quot;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ol start="3"><li>可以使用<code>add</code>方法向Set实例中添加一个新值，因为<code>add</code>方法返回<code>Set</code>对象，所以可以以链式的方式再次使用<code>add</code>。如果一个值已经存在于<code>Set</code>对象中，那么它将不再被添加。</li></ol> <div class="language-js extra-class"><pre class="language-js"><code>set2<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;f&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
set2<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;g&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;h&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;i&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;j&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;k&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;k&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 后一个“k”不会被添加到set对象中，因为它已经存在了</span>
</code></pre></div><ol start="4"><li>可以使用<code>has</code>方法检查<code>Set</code>实例中是否存在特定的值。</li></ol> <div class="language-js extra-class"><pre class="language-js"><code>set2<span class="token punctuation">.</span><span class="token function">has</span><span class="token punctuation">(</span><span class="token string">&quot;a&quot;</span><span class="token punctuation">)</span> <span class="token comment">// true</span>
set2<span class="token punctuation">.</span><span class="token function">has</span><span class="token punctuation">(</span><span class="token string">&quot;z&quot;</span><span class="token punctuation">)</span> <span class="token comment">// true</span>
</code></pre></div><ol start="5"><li>可以使用<code>size</code>属性获得<code>Set</code>实例的长度。</li></ol> <div class="language-js extra-class"><pre class="language-js"><code>set2<span class="token punctuation">.</span>size <span class="token comment">// returns 10</span>
</code></pre></div><ol start="6"><li>可以使用<code>clear</code>方法删除 <code>Set</code> 中的数据。</li></ol> <div class="language-js extra-class"><pre class="language-js"><code>set2<span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ol start="7"><li>可以使用<code>Set</code>对象来删除数组中重复的元素。</li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> numbers <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> uniqueNums <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">...</span><span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span>numbers<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// [1,2,3,4,5,6,7,8]</span>
</code></pre></div><ol start="8"><li>另外还有<code>WeakSet</code>， 与 <code>Set</code> 类似，也是不重复的值的集合。但是 <code>WeakSet</code> 的成员只能是对象，而不能是其他类型的值。<code>WeakSet</code> 中的对象都是弱引用，即垃圾回收机制不考虑 <code>WeakSet</code>对该对象的引用。</li></ol> <ul><li><p><code>Map</code> 数据结构。它类似于<code>对象</code>，也是<code>键值对</code>的集合，但是“<code>键</code>”的范围不限于字符串，<strong>各种类型的值（包括对象）都可以当作键</strong>。</p></li> <li><p><code>WeakMap</code> 结构与 <code>Map</code> 结构类似，也是用于生成键值对的集合。但是 <code>WeakMap</code> <strong>只接受对象作为键名（ null 除外）</strong>，不接受其他类型的值作为键名。而且 <code>WeakMap</code> 的键名所指向的对象，不计入垃圾回收机制。</p></li></ul> <h2 id="_67-什么是proxy"><a href="#_67-什么是proxy" class="header-anchor">#</a> 67. 什么是Proxy</h2> <p><code>Proxy</code> 用于修改某些操作的默认行为，等同于在语言层面做出修改，所以属于一种“元编程”，即对编程语言进行编程。</p> <p><code>Proxy</code> 可以理解成，在目标对象之前架设一层“<strong>拦截</strong>”，外界对该对象的访问，都必须先通过这层拦截，因此提供了一种机制，可以对外界的访问进行过滤和改写。Proxy 这个词的原意是代理，用在这里表示由它来“代理”某些操作，可以译为“<strong>代理器</strong>”。</p> <h2 id="_68-写一个通用的事件侦听器函数"><a href="#_68-写一个通用的事件侦听器函数" class="header-anchor">#</a> 68. 写一个通用的事件侦听器函数</h2> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> EventUtils <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">// 视能力分别使用dom0||dom2||IE方式 来绑定事件</span>
  <span class="token comment">// 添加事件</span>
  <span class="token function-variable function">addEvent</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">element<span class="token punctuation">,</span> type<span class="token punctuation">,</span> handler</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>element<span class="token punctuation">.</span>addEventListener<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      element<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span>type<span class="token punctuation">,</span> handler<span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>element<span class="token punctuation">.</span>attachEvent<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      element<span class="token punctuation">.</span><span class="token function">attachEvent</span><span class="token punctuation">(</span><span class="token string">&quot;on&quot;</span> <span class="token operator">+</span> type<span class="token punctuation">,</span> handler<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      element<span class="token punctuation">[</span><span class="token string">&quot;on&quot;</span> <span class="token operator">+</span> type<span class="token punctuation">]</span> <span class="token operator">=</span> handler<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>

  <span class="token comment">// 移除事件</span>
  <span class="token function-variable function">removeEvent</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">element<span class="token punctuation">,</span> type<span class="token punctuation">,</span> handler</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>element<span class="token punctuation">.</span>removeEventListener<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      element<span class="token punctuation">.</span><span class="token function">removeEventListener</span><span class="token punctuation">(</span>type<span class="token punctuation">,</span> handler<span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>element<span class="token punctuation">.</span>detachEvent<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      element<span class="token punctuation">.</span><span class="token function">detachEvent</span><span class="token punctuation">(</span><span class="token string">&quot;on&quot;</span> <span class="token operator">+</span> type<span class="token punctuation">,</span> handler<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      element<span class="token punctuation">[</span><span class="token string">&quot;on&quot;</span> <span class="token operator">+</span> type<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>

  <span class="token comment">// 获取事件目标</span>
  <span class="token function-variable function">getTarget</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> event<span class="token punctuation">.</span>target <span class="token operator">||</span> event<span class="token punctuation">.</span>srcElement<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>

  <span class="token comment">// 获取 event 对象的引用，取到事件的所有信息，确保随时能使用 event</span>
  <span class="token function-variable function">getEvent</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> event <span class="token operator">||</span> window<span class="token punctuation">.</span>event<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>

  <span class="token comment">// 阻止事件（主要是事件冒泡，因为 IE 不支持事件捕获）</span>
  <span class="token function-variable function">stopPropagation</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>event<span class="token punctuation">.</span>stopPropagation<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      event<span class="token punctuation">.</span><span class="token function">stopPropagation</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      event<span class="token punctuation">.</span>cancelBubble <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>

  <span class="token comment">// 取消事件的默认行为</span>
  <span class="token function-variable function">preventDefault</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>event<span class="token punctuation">.</span>preventDefault<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      event<span class="token punctuation">.</span><span class="token function">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      event<span class="token punctuation">.</span>returnValue <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="_69-什么是函数式编程"><a href="#_69-什么是函数式编程" class="header-anchor">#</a> 69. 什么是函数式编程</h2> <p><strong>函数式编程</strong>（通常缩写为FP）是通过编写纯函数，避免共享状态、可变数据、副作用 来构建软件的过程。</p> <blockquote><p>数式编程是声明式 的而不是命令式 的，应用程序的状态是通过纯函数流动的。与面向对象编程形成对比，面向对象中应用程序的状态通常与对象中的方法共享和共处。</p> <p>函数式编程是一种编程范式 ，这意味着它是一种基于一些基本的定义原则（如上所列）思考软件构建的方式。
当然，编程范式的其他示例也包括面向对象编程和过程编程。
函数式的代码往往比命令式或面向对象的代码更简洁，更可预测，更容易测试 - 但如果不熟悉它以及与之相关的常见模式，函数式的代码也可能看起来更密集杂乱，并且 相关文献对新人来说是不好理解的。</p></blockquote> <h2 id="_70-什么是高阶函数"><a href="#_70-什么是高阶函数" class="header-anchor">#</a> 70. 什么是高阶函数</h2> <blockquote><p>高阶函数只是将函数作为参数或返回值的函数。</p></blockquote> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">higherOrderFunction</span><span class="token punctuation">(</span><span class="token parameter">param<span class="token punctuation">,</span>callback</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">callback</span><span class="token punctuation">(</span>param<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="_71-为什么函数被称为一等公民"><a href="#_71-为什么函数被称为一等公民" class="header-anchor">#</a> 71. 为什么函数被称为一等公民</h2> <p>在JavaScript中，函数不仅拥有一切传统函数的使用方式（声明和调用），而且可以做到像简单值一样:</p> <ul><li><p><strong>赋值</strong> （var func = function(){}）、</p></li> <li><p><strong>传参</strong> (function func(x,callback){callback();})、</p></li> <li><p><strong>返回</strong> (function(){return function(){}})，</p></li></ul> <p>这样的函数也称之为<code>第一级函数（First-class Function）</code>。不仅如此，<code>JavaScript</code>中的函数还充当了类的构造函数的作用，同时又是一个<code>Function</code>类的实例(<code>instance</code>)。这样的多重身份让<code>JavaScript</code>的函数变得非常重要。</p> <h2 id="_72-手动实现-array-prototype-map-方法"><a href="#_72-手动实现-array-prototype-map-方法" class="header-anchor">#</a> 72. 手动实现 Array.prototype.map 方法</h2> <p><code>map()</code> 方法创建一个新数组，其结果是该数组中的每个元素都调用一个提供的函数后返回的结果。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">arr<span class="token punctuation">,</span> mapCallback</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// 首先，检查传递的参数是否正确。</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>Array<span class="token punctuation">.</span><span class="token function">isArray</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token operator">!</span>arr<span class="token punctuation">.</span>length <span class="token operator">||</span> <span class="token keyword">typeof</span> mapCallback <span class="token operator">!==</span> <span class="token string">'function'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> 
    <span class="token keyword">return</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> result <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token comment">// 每次调用此函数时，都会创建一个 result 数组</span>
    <span class="token comment">// 因为不想改变原始数组。</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> len <span class="token operator">=</span> arr<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i <span class="token operator">&lt;</span> len<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      result<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token function">mapCallback</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> i<span class="token punctuation">,</span> arr<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
      <span class="token comment">// 将 mapCallback 返回的结果 push 到 result 数组中</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> result<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="_73-手动实现array-prototype-filter方法"><a href="#_73-手动实现array-prototype-filter方法" class="header-anchor">#</a> 73. 手动实现Array.prototype.filter方法</h2> <p><code>filter()</code> 方法创建一个新数组, 其包含通过所提供函数实现的测试的所有元素。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">filter</span><span class="token punctuation">(</span><span class="token parameter">arr<span class="token punctuation">,</span> filterCallback</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// 首先，检查传递的参数是否正确。</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>Array<span class="token punctuation">.</span><span class="token function">isArray</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token operator">!</span>arr<span class="token punctuation">.</span>length <span class="token operator">||</span> <span class="token keyword">typeof</span> filterCallback <span class="token operator">!==</span> <span class="token string">'function'</span><span class="token punctuation">)</span> 
  <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> result <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
     <span class="token comment">// 每次调用此函数时，都会创建一个 result 数组</span>
     <span class="token comment">// 因为不想改变原始数组。</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> len <span class="token operator">=</span> arr<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i <span class="token operator">&lt;</span> len<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// 检查 filterCallback 的返回值是否是真值</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">filterCallback</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> i<span class="token punctuation">,</span> arr<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> 
      <span class="token comment">// 如果条件为真，则将数组元素 push 到 result 中</span>
        result<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> result<span class="token punctuation">;</span> <span class="token comment">// return the result array</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="_74-手动实现array-prototype-reduce方法"><a href="#_74-手动实现array-prototype-reduce方法" class="header-anchor">#</a> 74. 手动实现Array.prototype.reduce方法</h2> <p><a href="https://link.zhihu.com/?target=https%3A//juejin.im/post/6844904200917221389" target="_blank" rel="noopener noreferrer">reduce()<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 方法对数组中的每个元素执行一个由您提供的<code>reducer</code>函数(升序执行)，将其结果汇总为单个返回值。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">reduce</span><span class="token punctuation">(</span><span class="token parameter">arr<span class="token punctuation">,</span> reduceCallback<span class="token punctuation">,</span> initialValue</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// 首先，检查传递的参数是否正确。</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>Array<span class="token punctuation">.</span><span class="token function">isArray</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token operator">!</span>arr<span class="token punctuation">.</span>length <span class="token operator">||</span> <span class="token keyword">typeof</span> reduceCallback <span class="token operator">!==</span> <span class="token string">'function'</span><span class="token punctuation">)</span> 
  <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    <span class="token comment">// 如果没有将initialValue传递给该函数，将使用第一个数组项作为initialValue</span>
    <span class="token keyword">let</span> hasInitialValue <span class="token operator">=</span> initialValue <span class="token operator">!==</span> <span class="token keyword">undefined</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> value <span class="token operator">=</span> hasInitialValue <span class="token operator">?</span> initialValue <span class="token operator">:</span> arr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
   、

    <span class="token comment">// 如果有传递 initialValue，则索引从 1 开始，否则从 0 开始</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> hasInitialValue <span class="token operator">?</span> <span class="token number">1</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> len <span class="token operator">=</span> arr<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i <span class="token operator">&lt;</span> len<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      value <span class="token operator">=</span> <span class="token function">reduceCallback</span><span class="token punctuation">(</span>value<span class="token punctuation">,</span> arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> i<span class="token punctuation">,</span> arr<span class="token punctuation">)</span><span class="token punctuation">;</span> 
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> value<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="_75-js的深浅拷贝"><a href="#_75-js的深浅拷贝" class="header-anchor">#</a> 75. js的深浅拷贝</h2> <p>JavaScript的深浅拷贝一直是个难点，如果现在面试官让我写一个深拷贝，我可能也只是能写出个基础版的。</p> <ul><li><strong>浅拷贝:</strong></li></ul> <blockquote><p>创建一个新对象，这个对象有着原始对象属性值的一份精确拷贝。如果属性是基本类型，拷贝的就是基本类型的值，如果属性是引用类型，拷贝的就是内存地址 ，所以如果其中一个对象改变了这个地址，就会影响到另一个对象。</p></blockquote> <ul><li><strong>深拷贝:</strong></li></ul> <blockquote><p>将一个对象从内存中完整的拷贝一份出来,从堆内存中开辟一个新的区域存放新对象,且修改新对象不会影响原对象。</p></blockquote> <h3 id="浅拷贝的实现方式"><a href="#浅拷贝的实现方式" class="header-anchor">#</a> 浅拷贝的实现方式：</h3> <ol><li><code>Object.assign()</code> 方法：</li></ol> <blockquote><p>用于将所有可枚举属性的值从一个或多个源对象复制到目标对象。它将返回目标对象。</p></blockquote> <ol start="2"><li><code>Array.prototype.slice()</code>：</li></ol> <blockquote><p><code>slice()</code> 方法返回一个新的数组对象，这一对象是一个由 <code>begin</code>和<code>end（不包括end）</code>决定的原数组的浅拷贝。原始数组不会被改变。</p></blockquote> <ol start="3"><li>拓展运算符...：</li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token punctuation">{</span>
    name<span class="token operator">:</span> <span class="token string">&quot;Jake&quot;</span><span class="token punctuation">,</span>
    flag<span class="token operator">:</span> <span class="token punctuation">{</span>
        title<span class="token operator">:</span> <span class="token string">&quot;better day by day&quot;</span><span class="token punctuation">,</span>
        time<span class="token operator">:</span> <span class="token string">&quot;2020-05-31&quot;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> b <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token operator">...</span>a<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="深拷贝的实现方式"><a href="#深拷贝的实现方式" class="header-anchor">#</a> 深拷贝的实现方式：</h3> <ol><li><strong>乞丐版：</strong></li></ol> <blockquote><p>JSON.parse(JSON.stringify(object))，缺点诸多（会忽略undefined、symbol、函数；不能解决循环引用；不能处理正则、new Date()）</p></blockquote> <ol start="2"><li><strong>基础版（面试够用）：</strong></li></ol> <blockquote><p>浅拷贝+递归 （只考虑了普通的 object和 array两种数据类型）</p></blockquote> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">cloneDeep</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span>map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">WeakMap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span><span class="token punctuation">(</span>typeOf taret <span class="token operator">===</span><span class="token string">'object'</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
     <span class="token keyword">let</span> cloneTarget <span class="token operator">=</span> Array<span class="token punctuation">.</span><span class="token function">isArray</span><span class="token punctuation">(</span>target<span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
      
     <span class="token keyword">if</span><span class="token punctuation">(</span>map<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>target<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> target<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
     map<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> cloneTarget<span class="token punctuation">)</span><span class="token punctuation">;</span>
     <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">const</span> key <span class="token keyword">in</span> target<span class="token punctuation">)</span><span class="token punctuation">{</span>
        cloneTarget<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">cloneDeep</span><span class="token punctuation">(</span>target<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">,</span> map<span class="token punctuation">)</span><span class="token punctuation">;</span>
     <span class="token punctuation">}</span>
     <span class="token keyword">return</span> cloneTarget
  <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>
       <span class="token keyword">return</span> target
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><blockquote><p>终极版：</p></blockquote> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> mapTag <span class="token operator">=</span> <span class="token string">'[object Map]'</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> setTag <span class="token operator">=</span> <span class="token string">'[object Set]'</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> arrayTag <span class="token operator">=</span> <span class="token string">'[object Array]'</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> objectTag <span class="token operator">=</span> <span class="token string">'[object Object]'</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> argsTag <span class="token operator">=</span> <span class="token string">'[object Arguments]'</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> boolTag <span class="token operator">=</span> <span class="token string">'[object Boolean]'</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> dateTag <span class="token operator">=</span> <span class="token string">'[object Date]'</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> numberTag <span class="token operator">=</span> <span class="token string">'[object Number]'</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> stringTag <span class="token operator">=</span> <span class="token string">'[object String]'</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> symbolTag <span class="token operator">=</span> <span class="token string">'[object Symbol]'</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> errorTag <span class="token operator">=</span> <span class="token string">'[object Error]'</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> regexpTag <span class="token operator">=</span> <span class="token string">'[object RegExp]'</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> funcTag <span class="token operator">=</span> <span class="token string">'[object Function]'</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> deepTag <span class="token operator">=</span> <span class="token punctuation">[</span>mapTag<span class="token punctuation">,</span> setTag<span class="token punctuation">,</span> arrayTag<span class="token punctuation">,</span> objectTag<span class="token punctuation">,</span> argsTag<span class="token punctuation">]</span><span class="token punctuation">;</span>


<span class="token keyword">function</span> <span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">array<span class="token punctuation">,</span> iteratee</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> index <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> length <span class="token operator">=</span> array<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">++</span>index <span class="token operator">&lt;</span> length<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">iteratee</span><span class="token punctuation">(</span>array<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">,</span> index<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> array<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">isObject</span><span class="token punctuation">(</span><span class="token parameter">target</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> type <span class="token operator">=</span> <span class="token keyword">typeof</span> target<span class="token punctuation">;</span>
    <span class="token keyword">return</span> target <span class="token operator">!==</span> <span class="token keyword">null</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>type <span class="token operator">===</span> <span class="token string">'object'</span> <span class="token operator">||</span> type <span class="token operator">===</span> <span class="token string">'function'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">getType</span><span class="token punctuation">(</span><span class="token parameter">target</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>target<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">getInit</span><span class="token punctuation">(</span><span class="token parameter">target</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> Ctor <span class="token operator">=</span> target<span class="token punctuation">.</span>constructor<span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Ctor</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">cloneSymbol</span><span class="token punctuation">(</span><span class="token parameter">targe</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">Object</span><span class="token punctuation">(</span><span class="token class-name">Symbol</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>targe<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">cloneReg</span><span class="token punctuation">(</span><span class="token parameter">targe</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> reFlags <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\w*$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> result <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">targe<span class="token punctuation">.</span>constructor</span><span class="token punctuation">(</span>targe<span class="token punctuation">.</span>source<span class="token punctuation">,</span> reFlags<span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span>targe<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    result<span class="token punctuation">.</span>lastIndex <span class="token operator">=</span> targe<span class="token punctuation">.</span>lastIndex<span class="token punctuation">;</span>
    <span class="token keyword">return</span> result<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">cloneFunction</span><span class="token punctuation">(</span><span class="token parameter">func</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> bodyReg <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">(?&lt;={)(.|\n)+(?=})</span><span class="token regex-delimiter">/</span><span class="token regex-flags">m</span></span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> paramReg <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">(?&lt;=\().+(?=\)\s+{)</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> funcString <span class="token operator">=</span> func<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>func<span class="token punctuation">.</span>prototype<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> param <span class="token operator">=</span> paramReg<span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span>funcString<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">const</span> body <span class="token operator">=</span> bodyReg<span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span>funcString<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>body<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>param<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">const</span> paramArr <span class="token operator">=</span> param<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">','</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Function</span><span class="token punctuation">(</span><span class="token operator">...</span>paramArr<span class="token punctuation">,</span> body<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
                <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Function</span><span class="token punctuation">(</span>body<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token function">eval</span><span class="token punctuation">(</span>funcString<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">cloneOtherType</span><span class="token punctuation">(</span><span class="token parameter">targe<span class="token punctuation">,</span> type</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> Ctor <span class="token operator">=</span> targe<span class="token punctuation">.</span>constructor<span class="token punctuation">;</span>
    <span class="token keyword">switch</span> <span class="token punctuation">(</span>type<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">case</span> boolTag<span class="token operator">:</span>
        <span class="token keyword">case</span> numberTag<span class="token operator">:</span>
        <span class="token keyword">case</span> stringTag<span class="token operator">:</span>
        <span class="token keyword">case</span> errorTag<span class="token operator">:</span>
        <span class="token keyword">case</span> dateTag<span class="token operator">:</span>
            <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Ctor</span><span class="token punctuation">(</span>targe<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> regexpTag<span class="token operator">:</span>
            <span class="token keyword">return</span> <span class="token function">cloneReg</span><span class="token punctuation">(</span>targe<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> symbolTag<span class="token operator">:</span>
            <span class="token keyword">return</span> <span class="token function">cloneSymbol</span><span class="token punctuation">(</span>targe<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> funcTag<span class="token operator">:</span>
            <span class="token keyword">return</span> <span class="token function">cloneFunction</span><span class="token punctuation">(</span>targe<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">default</span><span class="token operator">:</span>
            <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">clone</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">WeakMap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

    <span class="token comment">// 克隆原始类型</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token function">isObject</span><span class="token punctuation">(</span>target<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> target<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 初始化</span>
    <span class="token keyword">const</span> type <span class="token operator">=</span> <span class="token function">getType</span><span class="token punctuation">(</span>target<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> cloneTarget<span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>deepTag<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span>type<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        cloneTarget <span class="token operator">=</span> <span class="token function">getInit</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> type<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token function">cloneOtherType</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> type<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 防止循环引用</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>map<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>target<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> map<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>target<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    map<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> cloneTarget<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 克隆set</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>type <span class="token operator">===</span> setTag<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        target<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">value</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            cloneTarget<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token function">clone</span><span class="token punctuation">(</span>value<span class="token punctuation">,</span> map<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> cloneTarget<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 克隆map</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>type <span class="token operator">===</span> mapTag<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        target<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">value<span class="token punctuation">,</span> key</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            cloneTarget<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> <span class="token function">clone</span><span class="token punctuation">(</span>value<span class="token punctuation">,</span> map<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> cloneTarget<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 克隆对象和数组</span>
    <span class="token keyword">const</span> keys <span class="token operator">=</span> type <span class="token operator">===</span> arrayTag <span class="token operator">?</span> <span class="token keyword">undefined</span> <span class="token operator">:</span> Object<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span>target<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">forEach</span><span class="token punctuation">(</span>keys <span class="token operator">||</span> target<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">value<span class="token punctuation">,</span> key</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>keys<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            key <span class="token operator">=</span> value<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        cloneTarget<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">clone</span><span class="token punctuation">(</span>target<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">,</span> map<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">return</span> cloneTarget<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
    clone
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><p><a href="https://link.zhihu.com/?target=https%3A//segmentfault.com/a/1190000016672263" target="_blank" rel="noopener noreferrer"> 如何写出一个惊艳面试官的深拷贝 深拷贝的终极探索（99%的人都不知道）<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h2 id="_76-手写call、apply及bind函数"><a href="#_76-手写call、apply及bind函数" class="header-anchor">#</a> 76. 手写call、apply及bind函数</h2> <h3 id="call-函数的实现步骤"><a href="#call-函数的实现步骤" class="header-anchor">#</a> call 函数的实现步骤</h3> <ol><li><p>判断调用对象是否为函数，即使是定义在函数的原型上的，但是可能出现使用 <code>call</code> 等方式调用的情况。</p></li> <li><p>判断传入上下文对象是否存在，如果不存在，则设置为 <code>window</code> 。</p></li> <li><p>处理传入的参数，截取第一个参数后的所有参数。</p></li> <li><p>将函数作为上下文对象的一个属性。</p></li> <li><p>使用上下文对象来调用这个方法，并保存返回结果。</p></li> <li><p>删除刚才新增的属性。</p></li> <li><p>返回结果。</p></li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// call函数实现</span>
<span class="token class-name">Function</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">myCall</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">context</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// 判断调用对象</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> <span class="token keyword">this</span> <span class="token operator">!==</span> <span class="token string">&quot;function&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">&quot;type error&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment">// 获取参数</span>
  <span class="token keyword">let</span> args <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">...</span>arguments<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    result <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>

  <span class="token comment">// 判断 context 是否传入，如果未传入则设置为 window</span>
  context <span class="token operator">=</span> context <span class="token operator">||</span> window<span class="token punctuation">;</span>

  <span class="token comment">// 将调用函数设为对象的方法</span>
  context<span class="token punctuation">.</span>fn <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span>

  <span class="token comment">// 调用函数</span>
  result <span class="token operator">=</span> context<span class="token punctuation">.</span><span class="token function">fn</span><span class="token punctuation">(</span><span class="token operator">...</span>args<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// 将属性删除</span>
  <span class="token keyword">delete</span> context<span class="token punctuation">.</span>fn<span class="token punctuation">;</span>

  <span class="token keyword">return</span> result<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="apply-函数的实现步骤"><a href="#apply-函数的实现步骤" class="header-anchor">#</a> apply 函数的实现步骤</h3> <ol><li><p>判断调用对象是否为函数，即使是定义在函数的原型上的，但是可能出现使用 <code>call</code> 等方式调用的情况。</p></li> <li><p>判断传入上下文对象是否存在，如果不存在，则设置为 <code>window</code> 。</p></li> <li><p>将函数作为上下文对象的一个属性。</p></li> <li><p>判断参数值是否传入</p></li> <li><p>使用上下文对象来调用这个方法，并保存返回结果。</p></li> <li><p>删除刚才新增的属性</p></li> <li><p>返回结果</p></li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// apply 函数实现</span>
<span class="token class-name">Function</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">myApply</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">context</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// 判断调用对象是否为函数</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> <span class="token keyword">this</span> <span class="token operator">!==</span> <span class="token string">&quot;function&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">TypeError</span><span class="token punctuation">(</span><span class="token string">&quot;Error&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">let</span> result <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>

  <span class="token comment">// 判断 context 是否存在，如果未传入则为 window</span>
  context <span class="token operator">=</span> context <span class="token operator">||</span> window<span class="token punctuation">;</span>

  <span class="token comment">// 将函数设为对象的方法</span>
  context<span class="token punctuation">.</span>fn <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span>

  <span class="token comment">// 调用方法</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>arguments<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    result <span class="token operator">=</span> context<span class="token punctuation">.</span><span class="token function">fn</span><span class="token punctuation">(</span><span class="token operator">...</span>arguments<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    result <span class="token operator">=</span> context<span class="token punctuation">.</span><span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment">// 将属性删除</span>
  <span class="token keyword">delete</span> context<span class="token punctuation">.</span>fn<span class="token punctuation">;</span>

  <span class="token keyword">return</span> result<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="bind-函数的实现步骤"><a href="#bind-函数的实现步骤" class="header-anchor">#</a> bind 函数的实现步骤</h3> <ol><li><p>判断调用对象是否为函数，即使是定义在函数的原型上的，但是可能出现使用 <code>call</code> 等方式调用的情况。</p></li> <li><p>保存当前函数的引用，获取其余传入参数值。</p></li> <li><p>创建一个函数返回</p></li> <li><p>函数内部使用 <code>apply</code> 来绑定函数调用，需要判断函数作为构造函数的情况，这个时候需要传入当前函数的 <code>this</code> 给 <code>apply</code> 调用，其余情况都传入指定的上下文对象。</p></li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// bind 函数实现</span>
<span class="token class-name">Function</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">myBind</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">context</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// 判断调用对象是否为函数</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> <span class="token keyword">this</span> <span class="token operator">!==</span> <span class="token string">&quot;function&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">TypeError</span><span class="token punctuation">(</span><span class="token string">&quot;Error&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment">// 获取参数</span>
  <span class="token keyword">var</span> args <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">...</span>arguments<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    fn <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> <span class="token keyword">function</span> <span class="token function">Fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 根据调用方式，传入不同绑定值</span>
    <span class="token keyword">return</span> <span class="token function">fn</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>
      <span class="token keyword">this</span> <span class="token keyword">instanceof</span> <span class="token class-name">Fn</span> <span class="token operator">?</span> <span class="token keyword">this</span> <span class="token operator">:</span> context<span class="token punctuation">,</span>
      args<span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span><span class="token operator">...</span>arguments<span class="token punctuation">)</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="_77-函数柯里化的实现"><a href="#_77-函数柯里化的实现" class="header-anchor">#</a> 77. 函数柯里化的实现</h2> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 函数柯里化指的是一种将使用多个参数的一个函数转换成一系列使用一个参数的函数的技术。</span>

<span class="token keyword">function</span> <span class="token function">curry</span><span class="token punctuation">(</span><span class="token parameter">fn<span class="token punctuation">,</span> args</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// 获取函数需要的参数长度</span>
  <span class="token keyword">let</span> length <span class="token operator">=</span> fn<span class="token punctuation">.</span>length<span class="token punctuation">;</span>

  args <span class="token operator">=</span> args <span class="token operator">||</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> subArgs <span class="token operator">=</span> args<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 拼接得到现有的所有参数</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> arguments<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      subArgs<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>arguments<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 判断参数的长度是否已经满足函数所需参数的长度</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>subArgs<span class="token punctuation">.</span>length <span class="token operator">&gt;=</span> length<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// 如果满足，执行函数</span>
      <span class="token keyword">return</span> <span class="token function">fn</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> subArgs<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      <span class="token comment">// 如果不满足，递归返回科里化的函数，等待参数的传入</span>
      <span class="token keyword">return</span> <span class="token function">curry</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> fn<span class="token punctuation">,</span> subArgs<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// es6 实现</span>
<span class="token keyword">function</span> <span class="token function">curry</span><span class="token punctuation">(</span><span class="token parameter">fn<span class="token punctuation">,</span> <span class="token operator">...</span>args</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> fn<span class="token punctuation">.</span>length <span class="token operator">&lt;=</span> args<span class="token punctuation">.</span>length <span class="token operator">?</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token operator">...</span>args<span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token function">curry</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span> fn<span class="token punctuation">,</span> <span class="token operator">...</span>args<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="_78-js模拟new操作符的实现"><a href="#_78-js模拟new操作符的实现" class="header-anchor">#</a> 78. js模拟new操作符的实现</h2> <p>这个问题如果你在掘金上搜，你可能会搜索到类似下面的回答：</p> <p><img src="/notes/assets/js/1726f21a7f6f36a8" alt="demo"></p> <p>说实话，看第一遍，我是不理解的，我需要去理一遍原型及原型链的知识才能理解。所以我觉得<a href="https://link.juejin.cn/?target=https%3A%2F%2Fdeveloper.mozilla.org%2Fzh-CN%2Fdocs%2FWeb%2FJavaScript%2FReference%2FOperators%2Fnew" target="_blank" rel="noopener noreferrer">MDN<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>对new的解释更容易理解：</p> <p><code>new</code> 运算符创建一个用户定义的对象类型的实例或具有构造函数的内置对象的实例。<code>new</code> 关键字会进行如下的操作：</p> <ol><li><p>创建一个空的简单<code>JavaScript</code>对象（即{}）；</p></li> <li><p>链接该对象（即设置该对象的构造函数）到另一个对象 ；</p></li> <li><p>将步骤1新创建的对象作为<code>this</code>的上下文 ；</p></li> <li><p>如果该函数没有返回对象，则返回<code>this</code>。</p></li></ol> <p>接下来看实现：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">Dog</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> color<span class="token punctuation">,</span> age</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>color <span class="token operator">=</span> color<span class="token punctuation">;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token class-name">Dog</span><span class="token punctuation">.</span>prototype<span class="token operator">=</span><span class="token punctuation">{</span>
  <span class="token function-variable function">getName</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>name
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">var</span> dog <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Dog</span><span class="token punctuation">(</span><span class="token string">'大黄'</span><span class="token punctuation">,</span> <span class="token string">'yellow'</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span>
</code></pre></div><p>上面的代码相信不用解释，大家都懂。来看最后一行带<code>new</code>关键字的代码，按照上述的1,2,3,4步来解析<code>new</code>背后的操作。</p> <ol><li>创建一个简单空对象</li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
</code></pre></div><ol start="2"><li>链接该对象到另一个对象（原型链）</li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 设置原型链</span>
obj<span class="token punctuation">.</span>__proto__ <span class="token operator">=</span> <span class="token class-name">Dog</span><span class="token punctuation">.</span>prototype
</code></pre></div><ol start="3"><li>将步骤1新创建的对象作为 <code>this</code> 的上下文</li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// this指向obj对象</span>
<span class="token function">Dog</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">'大黄'</span><span class="token punctuation">,</span> <span class="token string">'yellow'</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre></div><ol start="4"><li>如果该函数没有返回对象，则返回this</li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 因为 Dog() 没有返回值，所以返回obj</span>
<span class="token keyword">var</span> dog <span class="token operator">=</span> obj
dog<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// '大黄'</span>
</code></pre></div><p>需要注意的是如果 <code>Dog()</code> 有 <code>return</code> 则返回 <code>return的值</code></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> rtnObj <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">Dog</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> color<span class="token punctuation">,</span> age</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// ...</span>
  <span class="token comment">//返回一个对象</span>
  <span class="token keyword">return</span> rtnObj
<span class="token punctuation">}</span>

<span class="token keyword">var</span> dog <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Dog</span><span class="token punctuation">(</span><span class="token string">'大黄'</span><span class="token punctuation">,</span> <span class="token string">'yellow'</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>dog <span class="token operator">===</span> rtnObj<span class="token punctuation">)</span> <span class="token comment">// true</span>
</code></pre></div><p>接下来将以上步骤封装成一个对象实例化方法，即模拟<code>new</code>的操作：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">objectFactory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token comment">//取得该方法的第一个参数(并删除第一个参数)，该参数是构造函数</span>
    <span class="token keyword">var</span> Constructor <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">shift</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>arguments<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//将新对象的内部属性__proto__指向构造函数的原型，这样新对象就可以访问原型中的属性和方法</span>
    obj<span class="token punctuation">.</span>__proto__ <span class="token operator">=</span> <span class="token class-name">Constructor</span><span class="token punctuation">.</span>prototype<span class="token punctuation">;</span>
    <span class="token comment">//取得构造函数的返回值</span>
    <span class="token keyword">var</span> ret <span class="token operator">=</span> <span class="token function">Constructor</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span> arguments<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//如果返回值是一个对象就返回该对象，否则返回构造函数的一个实例对象</span>
    <span class="token keyword">return</span> <span class="token keyword">typeof</span> ret <span class="token operator">===</span> <span class="token string">&quot;object&quot;</span> <span class="token operator">?</span> ret <span class="token operator">:</span> obj<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="_79-什么是回调函数"><a href="#_79-什么是回调函数" class="header-anchor">#</a> 79. 什么是回调函数</h2> <p><strong>回调函数</strong>是一段可执行的代码段，它作为一个参数传递给其他的代码，其作用是在需要的时候方便调用这段（回调函数）代码。</p> <p>在JavaScript中函数也是对象的一种，同样对象可以作为参数传递给函数，因此函数也可以作为参数传递给另外一个函数，这个作为参数的函数就是回调函数。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> btnAdd <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'btnAdd'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

btnAdd<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token function">clickCallback</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// do something useless</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>在本例中，等待id为<code>btnAdd</code>的元素中的<code>click</code>事件，如果它被单击，则执行<code>clickCallback</code>函数。回调函数向某些数据或事件添加一些功能。</p> <p>回调函数有一个致命的弱点，就是容易写出<code>回调地狱（Callback hell）</code>。假设多个事件存在依赖性：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
    <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>
        <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span>
    
        <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token number">3000</span><span class="token punctuation">)</span>
    
    <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token number">2000</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token number">1000</span><span class="token punctuation">)</span>
</code></pre></div><p>这就是典型的回调地狱，以上代码看起来不利于阅读和维护，事件一旦多起来就更是乱糟糟，所以在es6中提出了<code>Promise</code>和<code>async</code>/<code>await</code>来解决回调地狱的问题。当然，回调函数还存在着别的几个缺点，比如不能使用 <code>try catch</code> 捕获错误，不能直接 <code>return</code>。接下来的两条就是来解决这些问题的，咱们往下看。</p> <h2 id="_80-promise是什么"><a href="#_80-promise是什么" class="header-anchor">#</a> 80. Promise是什么</h2> <p><code>Promise</code>，翻译过来是承诺，承诺它过一段时间会给你一个结果。从编程讲<code>Promise</code> 是<strong>异步编程的一种解决方案</strong>。下面是<code>Promise</code>在<a href="https://link.juejin.cn/?target=https%3A%2F%2Fdeveloper.mozilla.org%2Fzh-CN%2Fdocs%2FWeb%2FJavaScript%2FReference%2FGlobal_Objects%2FPromise" target="_blank" rel="noopener noreferrer">MDN<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>的相关说明：</p> <p><code>Promise</code> 对象是一个代理对象（代理一个值），被代理的值在<code>Promise</code>对象创建时可能是未知的。它允许你为异步操作的成功和失败分别绑定相应的处理方法（<code>handlers</code>）。 这让异步方法可以像同步方法那样返回值，但并不是立即返回最终执行结果，而是一个能代表未来出现的结果的<code>promise</code>对象。</p> <p>一个 <code>Promise</code>有以下几种状态:</p> <ul><li><p><code>pending:</code> 初始状态，既不是成功，也不是失败状态。</p></li> <li><p><code>fulfilled:</code> 意味着操作成功完成。</p></li> <li><p><code>rejected:</code> 意味着操作失败。</p></li></ul> <p>这个承诺一旦从等待状态变成为其他状态就永远不能更改状态了，也就是说一旦状态变为 <code>fulfilled</code>/<code>rejected</code> 后，就不能再次改变。 可能光看概念大家不理解<code>Promise</code>，举个简单的栗子；</p> <p>上一条说过<code>Promise</code>可以解决回调地狱的问题，没错，<code>pending</code> 状态的 <code>Promise</code> 对象会触发 <code>fulfilled</code>/<code>rejected</code> 状态，一旦状态改变，<code>Promise</code> 对象的 <code>then</code> 方法就会被调用；否则就会触发 <code>catch</code>。将上一条回调地狱的代码改写一下：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve，reject</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
     <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
            <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token number">1000</span><span class="token punctuation">)</span>
        
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token number">2000</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token number">3000</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">err</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>其实<code>Promise</code>也是存在一些缺点的，比如无法取消 <code>Promise</code>，错误需要通过回调函数捕获。</p> <h3 id="promise手写实现-面试够用版"><a href="#promise手写实现-面试够用版" class="header-anchor">#</a> promise手写实现，面试够用版：</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">myPromise</span><span class="token punctuation">(</span><span class="token parameter">constructor</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">let</span> self<span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">;</span>
    self<span class="token punctuation">.</span>status<span class="token operator">=</span><span class="token string">&quot;pending&quot;</span> <span class="token comment">//定义状态改变前的初始状态</span>
    self<span class="token punctuation">.</span>value<span class="token operator">=</span><span class="token keyword">undefined</span><span class="token punctuation">;</span><span class="token comment">//定义状态为resolved的时候的状态</span>
    self<span class="token punctuation">.</span>reason<span class="token operator">=</span><span class="token keyword">undefined</span><span class="token punctuation">;</span><span class="token comment">//定义状态为rejected的时候的状态</span>
    <span class="token keyword">function</span> <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token comment">//两个===&quot;pending&quot;，保证了状态的改变是不可逆的</span>
       <span class="token keyword">if</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>status<span class="token operator">===</span><span class="token string">&quot;pending&quot;</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
          self<span class="token punctuation">.</span>value<span class="token operator">=</span>value<span class="token punctuation">;</span>
          self<span class="token punctuation">.</span>status<span class="token operator">=</span><span class="token string">&quot;resolved&quot;</span><span class="token punctuation">;</span>
       <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">function</span> <span class="token function">reject</span><span class="token punctuation">(</span><span class="token parameter">reason</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token comment">//两个===&quot;pending&quot;，保证了状态的改变是不可逆的</span>
       <span class="token keyword">if</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>status<span class="token operator">===</span><span class="token string">&quot;pending&quot;</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
          self<span class="token punctuation">.</span>reason<span class="token operator">=</span>reason<span class="token punctuation">;</span>
          self<span class="token punctuation">.</span>status<span class="token operator">=</span><span class="token string">&quot;rejected&quot;</span><span class="token punctuation">;</span>
       <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token comment">//捕获构造异常</span>
    <span class="token keyword">try</span><span class="token punctuation">{</span>
       <span class="token function">constructor</span><span class="token punctuation">(</span>resolve<span class="token punctuation">,</span>reject<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token keyword">catch</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">{</span>
       <span class="token function">reject</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">// 定义链式调用的then方法</span>
myPromise<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">then</span><span class="token operator">=</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">onFullfilled<span class="token punctuation">,</span>onRejected</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
   <span class="token keyword">let</span> self<span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">;</span>
   <span class="token keyword">switch</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>status<span class="token punctuation">)</span><span class="token punctuation">{</span>
      <span class="token keyword">case</span> <span class="token string">&quot;resolved&quot;</span><span class="token operator">:</span>
        <span class="token function">onFullfilled</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">break</span><span class="token punctuation">;</span>
      <span class="token keyword">case</span> <span class="token string">&quot;rejected&quot;</span><span class="token operator">:</span>
        <span class="token function">onRejected</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>reason<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">break</span><span class="token punctuation">;</span>
      <span class="token keyword">default</span><span class="token operator">:</span>       
   <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>关于<code>Promise</code>还有其他的知识，比如<code>Promise.all()</code>、<code>Promise.race()</code>等的运用，由于篇幅原因就不再做展开，想要深入了解的可看下面的文章。</p> <p>相关资料：</p> <p><a href="https://juejin.im/post/6844904064614924302#heading-69" target="_blank" rel="noopener noreferrer">「硬核JS」深入了解异步解决方案<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><a href="https://link.juejin.cn/?target=https%3A%2F%2Fwww.ituring.com.cn%2Farticle%2F66566%23" target="_blank" rel="noopener noreferrer">【翻译】Promises/A+规范<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h2 id="_81-iterator是什么-有什么作用"><a href="#_81-iterator是什么-有什么作用" class="header-anchor">#</a> 81. Iterator是什么，有什么作用？</h2> <p><code>Iterator</code>（迭代器）是一种接口，也可以说是一种规范。为各种不同的数据结构提供统一的访问机制。任何数据结构只要部署<code>Iterator</code>接口，就可以完成遍历操作（即依次处理该数据结构的所有成员）。</p> <h3 id="iterator语法"><a href="#iterator语法" class="header-anchor">#</a> Iterator语法：</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token punctuation">[</span>Symbol<span class="token punctuation">.</span>iterator<span class="token punctuation">]</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p><code>[Symbol.iterator]</code> 属性名是固定的写法，只要拥有了该属性的对象，就能够用迭代器的方式进行遍历。</p> <p>迭代器的遍历方法是首先获得一个迭代器的指针，初始时该指针指向第一条数据之前，接着通过调用 <code>next</code> 方法，改变指针的指向，让其指向下一条数据 每一次的 <code>next</code> 都会返回一个对象，该对象有两个属性</p> <ul><li><p><strong>value</strong> 代表想要获取的数据</p></li> <li><p><strong>done</strong> 布尔值，<code>false</code>表示当前指针指向的数据有值，<code>true</code>表示遍历已经结束</p></li></ul> <h3 id="iterator-的作用有三个"><a href="#iterator-的作用有三个" class="header-anchor">#</a> Iterator 的作用有三个：</h3> <ol><li><p>为各种数据结构，提供一个统一的、简便的访问接口；</p></li> <li><p>使得数据结构的成员能够按某种次序排列；</p></li> <li><p><code>ES6</code> 创造了一种新的遍历命令<code>for…of</code>循环，<code>Iterator</code> 接口主要供<code>for…of</code>消费。</p></li></ol> <h3 id="遍历过程"><a href="#遍历过程" class="header-anchor">#</a> 遍历过程：</h3> <ol><li><p>创建一个指针对象，指向当前数据结构的起始位置。也就是说，遍历器对象本质上，就是一个指针对象。</p></li> <li><p>第一次调用指针对象的<code>next</code>方法，可以将指针指向数据结构的第一个成员。</p></li> <li><p>第二次调用指针对象的<code>next</code>方法，指针就指向数据结构的第二个成员。</p></li> <li><p>不断调用指针对象的<code>next</code>方法，直到它指向数据结构的结束位置。</p></li></ol> <p>每一次调用<code>next</code>方法，都会返回数据结构的当前成员的信息。具体来说，就是返回一个包含<code>value</code>和<code>done</code>两个属性的对象。其中，<code>value</code>属性是当前成员的值，<code>done</code>属性是一个布尔值，表示遍历是否结束。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>num<span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span>
<span class="token keyword">let</span> it <span class="token operator">=</span> arr<span class="token punctuation">[</span>Symbol<span class="token punctuation">.</span>iterator<span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// 获取数组中的迭代器</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>it<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> 	<span class="token comment">// { value: Object { num: 1 }, done: false }</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>it<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> 	<span class="token comment">// { value: 2, done: false }</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>it<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> 	<span class="token comment">// { value: 3, done: false }</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>it<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> 	<span class="token comment">// { value: undefined, done: true }</span>
</code></pre></div><h2 id="_82-generator函数是什么-有什么作用"><a href="#_82-generator函数是什么-有什么作用" class="header-anchor">#</a> 82. Generator函数是什么，有什么作用</h2> <p><code>Generator</code>函数可以说是<code>Iterator</code>接口的具体实现方式。<code>Generator</code> 最大的特点就是可以控制函数的执行。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token operator">*</span><span class="token function">foo</span><span class="token punctuation">(</span><span class="token parameter">x</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> y <span class="token operator">=</span> <span class="token number">2</span> <span class="token operator">*</span> <span class="token punctuation">(</span><span class="token keyword">yield</span> <span class="token punctuation">(</span>x <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token keyword">let</span> z <span class="token operator">=</span> <span class="token keyword">yield</span> <span class="token punctuation">(</span>y <span class="token operator">/</span> <span class="token number">3</span><span class="token punctuation">)</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>x <span class="token operator">+</span> y <span class="token operator">+</span> z<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> it <span class="token operator">=</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>it<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>   <span class="token comment">// =&gt; {value: 6, done: false}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>it<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token number">12</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// =&gt; {value: 8, done: false}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>it<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token number">13</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// =&gt; {value: 42, done: true}</span>
</code></pre></div><p>上面这个示例就是一个<code>Generator</code>函数，来分析其执行过程：</p> <ol><li><p>首先 <code>Generator</code> 函数调用时它会返回一个迭代器</p></li> <li><p>当执行第一次 <code>next</code> 时，传参会被忽略，并且函数暂停在 <code>yield (x + 1)</code> 处，所以返回 <code>5 + 1 = 6</code></p></li> <li><p>当执行第二次 <code>next</code> 时，传入的参数等于上一个 <code>yield</code> 的返回值，如果你不传参，<code>yield</code> 永远返回 <code>undefined</code>。此时 <code>let y = 2 * 12</code>，所以第二个 <code>yield</code> 等于 <code>2 * 12 / 3 = 8</code></p></li> <li><p>当执行第三次 <code>next</code> 时，传入的参数会传递给 <code>z</code>，所以 <code>z = 13</code>, <code>x = 5</code>, <code>y = 24</code>，相加等于 <code>42</code></p></li></ol> <p><code>Generator</code> 函数一般见到的不多，其实也于他有点绕有关系，并且一般会配合 <code>co</code> 库去使用。当然，可以通过 <code>Generator</code> 函数解决回调地狱的问题。</p> <h2 id="_83-什么是-async-await-及其如何工作-有什么优缺点"><a href="#_83-什么是-async-await-及其如何工作-有什么优缺点" class="header-anchor">#</a> 83. 什么是 async/await 及其如何工作,有什么优缺点</h2> <p><code>async/await</code>是一种建立在<code>Promise</code>之上的编写异步或非阻塞代码的新方法，被普遍认为是 JS异步操作的最终且最优雅的解决方案。相对于 <code>Promise</code> 和回调，它的可读性和简洁度都更高。毕竟一直<code>then()</code>也很烦。</p> <p><code>async</code> 是异步的意思，而 <code>await</code> 是 <code>async wait</code>的简写，即异步等待。</p> <p>所以从语义上就很好理解 <code>async</code> 用于声明一个 <code>function</code> 是异步的，而<code>await</code> 用于等待一个异步方法执行完成。</p> <p>一个函数如果加上 <code>async</code> ，那么该函数就会返回一个 <code>Promise</code></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token string">&quot;1&quot;</span>
<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// -&gt; Promise {&lt;resolved&gt;: &quot;1&quot;}</span>
</code></pre></div><p>可以看到输出的是一个<code>Promise</code>对象。所以，<code>async</code> 函数返回的是一个 <code>Promise</code> 对象，如果在 <code>async</code> 函数中直接 return 一个直接量，<code>async</code> 会把这个直接量通过 <code>PromIse.resolve()</code> 封装成<code>Promise</code>对象返回。</p> <p>相比于 <code>Promise</code>，<code>async/await</code>能更好地处理 <code>then</code> 链</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">takeLongTime</span><span class="token punctuation">(</span><span class="token parameter">n</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token parameter">resolve</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">resolve</span><span class="token punctuation">(</span>n <span class="token operator">+</span> <span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">,</span> n<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">step1</span><span class="token punctuation">(</span><span class="token parameter">n</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">step1 with </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>n<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token function">takeLongTime</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">step2</span><span class="token punctuation">(</span><span class="token parameter">n</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">step2 with </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>n<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token function">takeLongTime</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">step3</span><span class="token punctuation">(</span><span class="token parameter">n</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">step3 with </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>n<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token function">takeLongTime</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>现在分别用 <code>Promise</code> 和<code>async/await</code>来实现这三个步骤的处理。</p> <h3 id="使用promise"><a href="#使用promise" class="header-anchor">#</a> 使用Promise</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">doIt</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">time</span><span class="token punctuation">(</span><span class="token string">&quot;doIt&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> time1 <span class="token operator">=</span> <span class="token number">300</span><span class="token punctuation">;</span>
    <span class="token function">step1</span><span class="token punctuation">(</span>time1<span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">time2</span> <span class="token operator">=&gt;</span> <span class="token function">step2</span><span class="token punctuation">(</span>time2<span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">time3</span> <span class="token operator">=&gt;</span> <span class="token function">step3</span><span class="token punctuation">(</span>time3<span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">result</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">result is </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>result<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">doIt</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// step1 with 300</span>
<span class="token comment">// step2 with 500</span>
<span class="token comment">// step3 with 700</span>
<span class="token comment">// result is 900</span>
</code></pre></div><h3 id="使用async-await"><a href="#使用async-await" class="header-anchor">#</a> 使用async/await</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">doIt</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">time</span><span class="token punctuation">(</span><span class="token string">&quot;doIt&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> time1 <span class="token operator">=</span> <span class="token number">300</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> time2 <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">step1</span><span class="token punctuation">(</span>time1<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> time3 <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">step2</span><span class="token punctuation">(</span>time2<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> result <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">step3</span><span class="token punctuation">(</span>time3<span class="token punctuation">)</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">result is </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>result<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">doIt</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>结果和之前的 <code>Promise</code> 实现是一样的，但是这个代码看起来是不是清晰得多，优雅整洁，几乎跟同步代码一样。</p> <blockquote><p><code>await</code>关键字只能在<code>async function</code>中使用。在任何非<code>async function</code>的函数中使用<code>await</code>关键字都会抛出错误。<code>await</code>关键字在执行下一行代码之前等待右侧表达式(可能是一个<code>Promise</code>)返回。</p></blockquote> <p><a href="https://juejin.im/post/6844904064614924302#heading-69" target="_blank" rel="noopener noreferrer">「硬核JS」深入了解异步解决方案<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h2 id="_84-instanceof的原理是什么-如何实现"><a href="#_84-instanceof的原理是什么-如何实现" class="header-anchor">#</a> 84. instanceof的原理是什么，如何实现</h2> <p><code>instanceof</code> 可以正确的判断对象的类型，因为内部机制是通过判断对象的原型链中是不是能找到类型的 <code>prototype</code>。</p> <p>实现 <code>instanceof</code>：</p> <ol><li><p>首先获取类型的原型</p></li> <li><p>然后获得对象的原型</p></li> <li><p>然后一直循环判断对象的原型是否等于类型的原型，直到对象原型为 <code>null</code>，因为原型链最终为 <code>null</code></p></li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">myInstanceof</span><span class="token punctuation">(</span><span class="token parameter">left<span class="token punctuation">,</span> right</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> prototype <span class="token operator">=</span> right<span class="token punctuation">.</span>prototype
  left <span class="token operator">=</span> left<span class="token punctuation">.</span>__proto__
  <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>left <span class="token operator">===</span> <span class="token keyword">null</span> <span class="token operator">||</span> left <span class="token operator">===</span> <span class="token keyword">undefined</span><span class="token punctuation">)</span>
      <span class="token keyword">return</span> <span class="token boolean">false</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>prototype <span class="token operator">===</span> left<span class="token punctuation">)</span>
      <span class="token keyword">return</span> <span class="token boolean">true</span>
    left <span class="token operator">=</span> left<span class="token punctuation">.</span>__proto__
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="_85-js-的节流与防抖"><a href="#_85-js-的节流与防抖" class="header-anchor">#</a> 85. js 的节流与防抖</h2> <h3 id="函数防抖"><a href="#函数防抖" class="header-anchor">#</a> 函数防抖</h3> <blockquote><p>是指在事件被触发 <code>n</code> 秒后再执行回调，如果在这 <code>n</code> 秒内事件又被触发，则重新计时。这可以使用在一些点击请求的事件上，避免因为用户的多次点击向后端发送多次请求。</p> <p>最终操作之后一段时间内未操作，以最后一次操作为结算单位，最终操作后单位时间内无操作则触发</p></blockquote> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 函数防抖的实现</span>
<span class="token keyword">function</span> <span class="token function">debounce</span><span class="token punctuation">(</span><span class="token parameter">fn<span class="token punctuation">,</span> wait</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> timer <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> context <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">,</span>
      args <span class="token operator">=</span> arguments<span class="token punctuation">;</span>

    <span class="token comment">// 如果此时存在定时器的话，则取消之前的定时器重新记时</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>timer<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">clearTimeout</span><span class="token punctuation">(</span>timer<span class="token punctuation">)</span><span class="token punctuation">;</span>
      timer <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 设置定时器，使事件间隔指定事件后执行</span>
    timer <span class="token operator">=</span> <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token function">fn</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>context<span class="token punctuation">,</span> args<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> wait<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="函数节流"><a href="#函数节流" class="header-anchor">#</a> 函数节流</h3> <blockquote><p>是指规定一个单位时间，在这个单位时间内，只能有一次触发事件的回调函数执行，如果在同一个单位时间内某事件被触发多次，只有一次能生效。节流可以使用在 scroll 函数的事件监听上，通过事件节流来降低事件调用的频率。</p> <p>单位时间内仅触发一次，以时间作为结算单位，通常为第一次单位时间内无触发</p></blockquote> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 函数节流的实现;</span>
<span class="token keyword">function</span> <span class="token function">throttle</span><span class="token punctuation">(</span><span class="token parameter">fn<span class="token punctuation">,</span> delay</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> preTime <span class="token operator">=</span> Date<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> context <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">,</span>
      args <span class="token operator">=</span> arguments<span class="token punctuation">,</span>
      nowTime <span class="token operator">=</span> Date<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 如果两次时间间隔超过了指定时间，则执行函数。</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>nowTime <span class="token operator">-</span> preTime <span class="token operator">&gt;=</span> delay<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      preTime <span class="token operator">=</span> Date<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">return</span> <span class="token function">fn</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>context<span class="token punctuation">,</span> args<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p><a href="https://juejin.im/post/6844903535125987335" target="_blank" rel="noopener noreferrer">《轻松理解 JS 函数节流和函数防抖》<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><a href="https://juejin.im/post/6844903575663935496" target="_blank" rel="noopener noreferrer">《JavaScript 事件节流和事件防抖》<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><a href="https://juejin.im/entry/6844903618827517965" target="_blank" rel="noopener noreferrer">《JS 的防抖与节流》<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h2 id="_86-什么是设计模式"><a href="#_86-什么是设计模式" class="header-anchor">#</a> 86. 什么是设计模式</h2> <h3 id="_1-概念"><a href="#_1-概念" class="header-anchor">#</a> 1. 概念</h3> <p>设计模式是一套被反复使用的、多数人知晓的、经过分类编目的、代码设计经验的总结。使用设计模式是为了重用代码、让代码更容易被他人理解、保证代码可靠性。 毫无疑问，设计模式于己于他人于系统都是多赢的，设计模式使代码编制真正工程化，设计模式是软件工程的基石，如同大厦的一块块砖石一样。</p> <h3 id="_2-设计原则"><a href="#_2-设计原则" class="header-anchor">#</a> 2. 设计原则</h3> <ol><li><strong>S – Single Responsibility Principle 单一职责原则</strong></li></ol> <ul><li><p>一个程序只做好一件事</p></li> <li><p>如果功能过于复杂就拆分开，每个部分保持独立</p></li></ul> <ol start="2"><li><strong>O – OpenClosed Principle 开放/封闭原则</strong></li></ol> <ul><li><p>对扩展开放，对修改封闭</p></li> <li><p>增加需求时，扩展新代码，而非修改已有代码</p></li></ul> <ol start="3"><li><strong>L – Liskov Substitution Principle 里氏替换原则</strong></li></ol> <ul><li><p>子类能覆盖父类</p></li> <li><p>父类能出现的地方子类就能出现</p></li></ul> <ol start="4"><li><strong>I – Interface Segregation Principle 接口隔离原则</strong></li></ol> <ul><li><p>保持接口的单一独立</p></li> <li><p>类似单一职责原则，这里更关注接口</p></li></ul> <ol start="5"><li><strong>D – Dependency Inversion Principle 依赖倒转原则</strong></li></ol> <ul><li><p>面向接口编程，依赖于抽象而不依赖于具</p></li> <li><p>使用方只关注接口而不关注具体类的实现</p></li></ul> <h3 id="_3-设计模式的类型"><a href="#_3-设计模式的类型" class="header-anchor">#</a> 3. 设计模式的类型</h3> <ol><li><strong>结构型模式（Structural Patterns）：</strong></li></ol> <blockquote><p>通过识别系统中组件间的简单关系来简化系统的设计。</p></blockquote> <ol start="2"><li><strong>创建型模式（Creational Patterns）：</strong></li></ol> <blockquote><p>处理对象的创建，根据实际情况使用合适的方式创建对象。常规的对象创建方式可能会导致设计上的问题，或增加设计的复杂度。创建型模式通过以某种方式控制对象的创建来解决问题。</p></blockquote> <ol start="3"><li><strong>行为型模式（Behavioral Patterns）：</strong></li></ol> <blockquote><p>用于识别对象之间常见的交互模式并加以实现，如此，增加了这些交互的灵活性。</p></blockquote> <h2 id="_87-9种前端常见的设计模式"><a href="#_87-9种前端常见的设计模式" class="header-anchor">#</a> 87. 9种前端常见的设计模式</h2> <h3 id="_1-外观模式-facade-pattern"><a href="#_1-外观模式-facade-pattern" class="header-anchor">#</a> 1. 外观模式（Facade Pattern）</h3> <p>外观模式是最常见的设计模式之一，它为子系统中的一组接口提供一个统一的高层接口，使子系统更容易使用。简而言之外观设计模式就是把多个子系统中复杂逻辑进行抽象，从而提供一个更统一、更简洁、更易用的API。很多常用的框架和库基本都遵循了外观设计模式，比如JQuery就把复杂的原生DOM操作进行了抽象和封装，并消除了浏览器之间的兼容问题，从而提供了一个更高级更易用的版本。其实在平时工作中也会经常用到外观模式进行开发，只是不自知而已。</p> <ol><li>兼容浏览器事件绑定</li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> <span class="token function-variable function">addMyEvent</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">el<span class="token punctuation">,</span> ev<span class="token punctuation">,</span> fn</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>el<span class="token punctuation">.</span>addEventListener<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        el<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span>ev<span class="token punctuation">,</span> fn<span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>el<span class="token punctuation">.</span>attachEvent<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        el<span class="token punctuation">.</span><span class="token function">attachEvent</span><span class="token punctuation">(</span><span class="token string">'on'</span> <span class="token operator">+</span> ev<span class="token punctuation">,</span> fn<span class="token punctuation">)</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        el<span class="token punctuation">[</span><span class="token string">'on'</span> <span class="token operator">+</span> ev<span class="token punctuation">]</span> <span class="token operator">=</span> fn
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span> 
</code></pre></div><ol start="2"><li>封装接口</li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> myEvent <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
    <span class="token function-variable function">stop</span><span class="token operator">:</span> <span class="token parameter">e</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        e<span class="token punctuation">.</span><span class="token function">stopPropagation</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        e<span class="token punctuation">.</span><span class="token function">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><p><strong>场景</strong></p> <ul><li><p>设计初期，应该要有意识地将不同的两个层分离，比如经典的三层结构，在数据访问层和业务逻辑层、业务逻辑层和表示层之间建立外观Facade</p></li> <li><p>在开发阶段，子系统往往因为不断的重构演化而变得越来越复杂，增加外观Facade可以提供一个简单的接口，减少他们之间的依赖。</p></li> <li><p>在维护一个遗留的大型系统时，可能这个系统已经很难维护了，这时候使用外观Facade也是非常合适的，为系系统开发一个外观Facade类，为设计粗糙和高度复杂的遗留代码提供比较清晰的接口，让新系统和Facade对象交互，Facade与遗留代码交互所有的复杂工作。</p></li></ul> <p><strong>优点</strong></p> <ul><li><p>减少系统相互依赖。</p></li> <li><p>提高灵活性。</p></li> <li><p>提高了安全性</p></li></ul> <p><strong>缺点</strong></p> <ul><li>不符合开闭原则，如果要改东西很麻烦，继承重写都不合适。</li></ul> <h3 id="_2-代理模式-proxy-pattern"><a href="#_2-代理模式-proxy-pattern" class="header-anchor">#</a> 2. 代理模式（Proxy Pattern）</h3> <p>是为一个对象提供一个代用品或占位符，以便控制对它的访问</p> <blockquote><p>假设当A 在心情好的时候收到花，小明表白成功的几率有60%，而当A 在心情差的时候收到花，小明表白的成功率无限趋近于0。小明跟A 刚刚认识两天，还无法辨别A 什么时候心情好。如果不合时宜地把花送给A，花被直接扔掉的可能性很大，这束花可是小明吃了7 天泡面换来的。但是A 的朋友B 却很了解A，所以小明只管把花交给B，B 会监听A 的心情变化，然后选择A 心情好的时候把花转交给A，代码如下：</p></blockquote> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> <span class="token function-variable function">Flower</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token keyword">let</span> xiaoming <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token function-variable function">sendFlower</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">target</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> flower <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Flower</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    target<span class="token punctuation">.</span><span class="token function">receiveFlower</span><span class="token punctuation">(</span>flower<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> <span class="token constant">B</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token function-variable function">receiveFlower</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">flower</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token constant">A</span><span class="token punctuation">.</span><span class="token function">listenGoodMood</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token constant">A</span><span class="token punctuation">.</span><span class="token function">receiveFlower</span><span class="token punctuation">(</span>flower<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> <span class="token constant">A</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token function-variable function">receiveFlower</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">flower</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'收到花'</span><span class="token operator">+</span> flower<span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function-variable function">listenGoodMood</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">fn</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
xiaoming<span class="token punctuation">.</span><span class="token function">sendFlower</span><span class="token punctuation">(</span><span class="token constant">B</span><span class="token punctuation">)</span>
</code></pre></div><p><strong>场景</strong></p> <ul><li>HTML元 素事件代理</li></ul> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ul<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>3<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">let</span> ul <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'#ul'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ul<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token parameter">event</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>event<span class="token punctuation">.</span>target<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><ul><li><p>ES6 的 proxy <a href="https://link.juejin.cn/?target=https%3A%2F%2Fes6.ruanyifeng.com%2F%23docs%2Fproxy" target="_blank" rel="noopener noreferrer">阮一峰Proxy<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></li> <li><p>jQuery.proxy()方法</p></li></ul> <p><strong>优点</strong></p> <ul><li><p>代理模式能将代理对象与被调用对象分离，降低了系统的耦合度。代理模式在客户端和目标对象之间起到一个中介作用，这样可以起到保护目标对象的作用</p></li> <li><p>代理对象可以扩展目标对象的功能；通过修改代理对象就可以了，符合开闭原则；</p></li></ul> <p><strong>缺点</strong></p> <ul><li>处理请求速度可能有差别，非直接访问存在开销</li></ul> <h3 id="_3-工厂模式-factory-pattern"><a href="#_3-工厂模式-factory-pattern" class="header-anchor">#</a> 3. 工厂模式（Factory Pattern）</h3> <p>工厂模式定义一个用于创建对象的接口，这个接口由子类决定实例化哪一个类。该模式使一个类的实例化延迟到了子类。而子类可以重写接口方法以便创建的时候指定自己的对象类型。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">Product</span> <span class="token punctuation">{</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name
    <span class="token punctuation">}</span>
    <span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'init'</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token function">fun</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'fun'</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">Factory</span> <span class="token punctuation">{</span>
    <span class="token function">create</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Product</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// use</span>
<span class="token keyword">let</span> factory <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Factory</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> p <span class="token operator">=</span> factory<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token string">'p1'</span><span class="token punctuation">)</span>
p<span class="token punctuation">.</span><span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
p<span class="token punctuation">.</span><span class="token function">fun</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><p><strong>场景</strong></p> <ul><li><p>如果你不想让某个子系统与较大的那个对象之间形成强耦合，而是想运行时从许多子系统中进行挑选的话，那么工厂模式是一个理想的选择</p></li> <li><p>将<code>new</code>操作简单封装，遇到<code>new</code>的时候就应该考虑是否用工厂模式；</p></li> <li><p>需要依赖具体环境创建不同实例，这些实例都有相同的行为,这时候可以使用工厂模式，简化实现的过程，同时也可以减少每种对象所需的代码量，有利于消除对象间的耦合，提供更大的灵活性</p></li></ul> <p><strong>优点</strong></p> <ul><li><p>创建对象的过程可能很复杂，但只需要关心创建结果。</p></li> <li><p>构造函数和创建者分离, 符合“开闭原则”</p></li> <li><p>一个调用者想创建一个对象，只要知道其名称就可以了。</p></li> <li><p>扩展性高，如果想增加一个产品，只要扩展一个工厂类就可以。</p></li></ul> <p><strong>缺点</strong></p> <ul><li><p>添加新产品时，需要编写新的具体产品类,一定程度上增加了系统的复杂度</p></li> <li><p>考虑到系统的可扩展性，需要引入抽象层，在客户端代码中均使用抽象层进行定义，增加了系统的抽象性和理解难度</p></li></ul> <p><strong>什么时候不用</strong></p> <ul><li><p>当被应用到错误的问题类型上时,这一模式会给应用程序引入大量不必要的复杂性.除非为创建对象提供一个接口是编写的库或者框架的一个设计上目标,否则我会建议使用明确的构造器,以避免不必要的开销。</p></li> <li><p>由于对象的创建过程被高效的抽象在一个接口后面的事实,这也会给依赖于这个过程可能会有多复杂的单元测试带来问题。</p></li></ul> <h3 id="_4-单例模式-singleton-pattern"><a href="#_4-单例模式-singleton-pattern" class="header-anchor">#</a> 4. 单例模式（Singleton Pattern）</h3> <p>顾名思义，单例模式中<code>Class</code>的实例个数最多为1。当需要一个对象去贯穿整个系统执行某些任务时，单例模式就派上了用场。而除此之外的场景尽量避免单例模式的使用，因为单例模式会引入全局状态，而一个健康的系统应该避免引入过多的全局状态。</p> <p>实现单例模式需要解决以下几个问题：</p> <ol><li><p>如何确定<code>Class</code>只有一个实例？</p></li> <li><p>如何简便的访问<code>Class</code>的唯一实例？</p></li> <li><p><code>Class</code>如何控制实例化的过程？</p></li> <li><p>如何将<code>Class</code>的实例个数限制为1？</p></li></ol> <p>一般通过实现以下两点来解决上述问题：</p> <ol><li><p>隐藏<code>Class</code>的构造函数，避免多次实例化</p></li> <li><p>通过暴露一个 <code>getInstance()</code> 方法来创建/获取唯一实例</p></li></ol> <p><code>Javascript</code>中单例模式可以通过以下方式实现：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 单例构造器</span>
<span class="token keyword">const</span> FooServiceSingleton <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// 隐藏的Class的构造函数</span>
  <span class="token keyword">function</span> <span class="token function">FooService</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>

  <span class="token comment">// 未初始化的单例对象</span>
  <span class="token keyword">let</span> fooService<span class="token punctuation">;</span>

  <span class="token keyword">return</span> <span class="token punctuation">{</span>
    <span class="token comment">// 创建/获取单例对象的函数</span>
    <span class="token function-variable function">getInstance</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>fooService<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        fooService <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FooService</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token keyword">return</span> fooService<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>实现的关键点有：</p> <ol><li><p>使用 <code>IIFE</code>创建局部作用域并即时执行；</p></li> <li><p><code>getInstance()</code> 为一个 闭包 ，使用闭包保存局部作用域中的单例对象并返回。</p></li></ol> <p>可以验证下单例对象是否创建成功：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> fooService1 <span class="token operator">=</span> FooServiceSingleton<span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> fooService2 <span class="token operator">=</span> FooServiceSingleton<span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>fooService1 <span class="token operator">===</span> fooService2<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
</code></pre></div><p><strong>场景例子</strong></p> <ul><li><p>定义命名空间和实现分支型方法</p></li> <li><p>登录框</p></li> <li><p><code>vuex</code> 和 <code>redux</code>中的<code>store</code></p></li></ul> <p><strong>优点</strong></p> <ul><li><p>划分命名空间，减少全局变量</p></li> <li><p>增强模块性，把自己的代码组织在一个全局变量名下，放在单一位置，便于维护</p></li> <li><p>且只会实例化一次。简化了代码的调试和维护</p></li></ul> <p><strong>缺点</strong></p> <ul><li><p>由于单例模式提供的是一种单点访问，所以它有可能导致模块间的强耦合</p></li> <li><p>从而不利于单元测试。无法单独测试一个调用了来自单例的方法的类，而只能把它与那个单例作为一</p></li> <li><p>个单元一起测试。</p></li></ul> <h3 id="_5-策略模式-strategy-pattern"><a href="#_5-策略模式-strategy-pattern" class="header-anchor">#</a> 5. 策略模式（Strategy Pattern）</h3> <p>策略模式简单描述就是：对象有某个行为，但是在不同的场景中，该行为有不同的实现算法。把它们一个个封装起来，并且使它们可以互相替换</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>策略模式-校验表单<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text/html; charset=utf-8<span class="token punctuation">&quot;</span></span> <span class="token attr-name">http-equiv</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Content-Type<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">id</span> <span class="token attr-value"><span class="token punctuation attr-equals">=</span> <span class="token punctuation">&quot;</span>registerForm<span class="token punctuation">&quot;</span></span> <span class="token attr-name">method</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>post<span class="token punctuation">&quot;</span></span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://xxxx.com/api/register<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        用户名：<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>userName<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        密码：<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>password<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        手机号码：<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>phoneNumber<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>submit<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>提交<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text/javascript<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
        <span class="token comment">// 策略对象</span>
        <span class="token keyword">const</span> strategies <span class="token operator">=</span> <span class="token punctuation">{</span>
          <span class="token function-variable function">isNoEmpty</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">value<span class="token punctuation">,</span> errorMsg</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>value <span class="token operator">===</span> <span class="token string">''</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
              <span class="token keyword">return</span> errorMsg<span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token function-variable function">isNoSpace</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">value<span class="token punctuation">,</span> errorMsg</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>value<span class="token punctuation">.</span><span class="token function">trim</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token string">''</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
              <span class="token keyword">return</span> errorMsg<span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token function-variable function">minLength</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">value<span class="token punctuation">,</span> length<span class="token punctuation">,</span> errorMsg</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>value<span class="token punctuation">.</span><span class="token function">trim</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>length <span class="token operator">&lt;</span> length<span class="token punctuation">)</span> <span class="token punctuation">{</span>
              <span class="token keyword">return</span> errorMsg<span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token function-variable function">maxLength</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">value<span class="token punctuation">,</span> length<span class="token punctuation">,</span> errorMsg</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>value<span class="token punctuation">.</span>length <span class="token operator">&gt;</span> length<span class="token punctuation">)</span> <span class="token punctuation">{</span>
              <span class="token keyword">return</span> errorMsg<span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token function-variable function">isMobile</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">value<span class="token punctuation">,</span> errorMsg</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^(13[0-9]|14[5|7]|15[0|1|2|3|5|6|7|8|9]|17[7]|18[0|1|2|3|5|6|7|8|9])\d{8}$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
              <span class="token keyword">return</span> errorMsg<span class="token punctuation">;</span>
            <span class="token punctuation">}</span>                
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        
        <span class="token comment">// 验证类</span>
        <span class="token keyword">class</span> <span class="token class-name">Validator</span> <span class="token punctuation">{</span>
          <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>cache <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
          <span class="token punctuation">}</span>
          <span class="token function">add</span><span class="token punctuation">(</span><span class="token parameter">dom<span class="token punctuation">,</span> rules</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> rule<span class="token punctuation">;</span> rule <span class="token operator">=</span> rules<span class="token punctuation">[</span>i<span class="token operator">++</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
              <span class="token keyword">let</span> strategyAry <span class="token operator">=</span> rule<span class="token punctuation">.</span>strategy<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">':'</span><span class="token punctuation">)</span>
              <span class="token keyword">let</span> errorMsg <span class="token operator">=</span> rule<span class="token punctuation">.</span>errorMsg
              <span class="token keyword">this</span><span class="token punctuation">.</span>cache<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
                <span class="token keyword">let</span> strategy <span class="token operator">=</span> strategyAry<span class="token punctuation">.</span><span class="token function">shift</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                strategyAry<span class="token punctuation">.</span><span class="token function">unshift</span><span class="token punctuation">(</span>dom<span class="token punctuation">.</span>value<span class="token punctuation">)</span>
                strategyAry<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>errorMsg<span class="token punctuation">)</span>
                <span class="token keyword">return</span> strategies<span class="token punctuation">[</span>strategy<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>dom<span class="token punctuation">,</span> strategyAry<span class="token punctuation">)</span>
              <span class="token punctuation">}</span><span class="token punctuation">)</span>
            <span class="token punctuation">}</span>
          <span class="token punctuation">}</span>
          <span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> validatorFunc<span class="token punctuation">;</span> validatorFunc <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>cache<span class="token punctuation">[</span>i<span class="token operator">++</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
              <span class="token keyword">let</span> errorMsg <span class="token operator">=</span> <span class="token function">validatorFunc</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
              <span class="token keyword">if</span> <span class="token punctuation">(</span>errorMsg<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">return</span> errorMsg
              <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>

        <span class="token comment">// 调用代码</span>
        <span class="token keyword">let</span> registerForm <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'registerForm'</span><span class="token punctuation">)</span>

        <span class="token keyword">let</span> <span class="token function-variable function">validataFunc</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">let</span> validator <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Validator</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
          validator<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>registerForm<span class="token punctuation">.</span>userName<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
            strategy<span class="token operator">:</span> <span class="token string">'isNoEmpty'</span><span class="token punctuation">,</span>
            errorMsg<span class="token operator">:</span> <span class="token string">'用户名不可为空'</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
            strategy<span class="token operator">:</span> <span class="token string">'isNoSpace'</span><span class="token punctuation">,</span>
            errorMsg<span class="token operator">:</span> <span class="token string">'不允许以空白字符命名'</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
            strategy<span class="token operator">:</span> <span class="token string">'minLength:2'</span><span class="token punctuation">,</span>
            errorMsg<span class="token operator">:</span> <span class="token string">'用户名长度不能小于2位'</span>
          <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
          validator<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>registerForm<span class="token punctuation">.</span>password<span class="token punctuation">,</span> <span class="token punctuation">[</span> <span class="token punctuation">{</span>
            strategy<span class="token operator">:</span> <span class="token string">'minLength:6'</span><span class="token punctuation">,</span>
            errorMsg<span class="token operator">:</span> <span class="token string">'密码长度不能小于6位'</span>
          <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
          validator<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>registerForm<span class="token punctuation">.</span>phoneNumber<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
            strategy<span class="token operator">:</span> <span class="token string">'isMobile'</span><span class="token punctuation">,</span>
            errorMsg<span class="token operator">:</span> <span class="token string">'请输入正确的手机号码格式'</span>
          <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
          <span class="token keyword">return</span> validator<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>

        registerForm<span class="token punctuation">.</span><span class="token function-variable function">onsubmit</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">let</span> errorMsg <span class="token operator">=</span> <span class="token function">validataFunc</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
          <span class="token keyword">if</span> <span class="token punctuation">(</span>errorMsg<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token function">alert</span><span class="token punctuation">(</span>errorMsg<span class="token punctuation">)</span>
            <span class="token keyword">return</span> <span class="token boolean">false</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p><strong>场景例子</strong></p> <ul><li><p>如果在一个系统里面有许多类，它们之间的区别仅在于它们的'行为'，那么使用策略模式可以动态地让一个对象在许多行为中选择一种行为。</p></li> <li><p>一个系统需要动态地在几种算法中选择一种。</p></li> <li><p>表单验证</p></li></ul> <p><strong>优点</strong></p> <ul><li><p>利用组合、委托、多态等技术和思想，可以有效的避免多重条件选择语句</p></li> <li><p>提供了对开放-封闭原则的完美支持，将算法封装在独立的<code>strategy</code>中，使得它们易于切换，理解，易于扩展</p></li> <li><p>利用组合和委托来让Context拥有执行算法的能力，这也是继承的一种更轻便的代替方案</p></li></ul> <p><strong>缺点</strong></p> <ul><li><p>会在程序中增加许多策略类或者策略对象</p></li> <li><p>要使用策略模式，必须了解所有的<code>strategy</code>，必须了解各个<code>strategy</code>之间的不同点，这样才能选择一个合适的<code>strategy</code></p></li></ul> <h3 id="_6-迭代器模式-iterator-pattern"><a href="#_6-迭代器模式-iterator-pattern" class="header-anchor">#</a> 6. 迭代器模式（Iterator Pattern）</h3> <p>如果你看到这，<code>ES6</code>中的迭代器 <code>Iterator</code> 相信你还是有点印象的，上面第60条已经做过简单的介绍。迭代器模式简单的说就是提供一种方法顺序一个聚合对象中各个元素，而又不暴露该对象的内部表示。</p> <p>迭代器模式解决了以下问题：</p> <ul><li><p>提供一致的遍历各种数据结构的方式，而不用了解数据的内部结构</p></li> <li><p>提供遍历容器（集合）的能力而无需改变容器的接口</p></li></ul> <p>一个迭代器通常需要实现以下接口：</p> <ul><li><p><code>hasNext()</code>：判断迭代是否结束，返回<code>Boolean</code></p></li> <li><p><code>next()</code>：查找并返回下一个元素</p></li></ul> <p>为<code>Javascript</code>的数组实现一个迭代器可以这么写：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> item <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">'red'</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token number">3.14</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">Iterator</span><span class="token punctuation">(</span><span class="token parameter">items</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>items <span class="token operator">=</span> items<span class="token punctuation">;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>index <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token class-name">Iterator</span><span class="token punctuation">.</span>prototype <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token function-variable function">hasNext</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>index <span class="token operator">&lt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>items<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function-variable function">next</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>items<span class="token punctuation">[</span><span class="token keyword">this</span><span class="token punctuation">.</span>index<span class="token operator">++</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>验证一下迭代器是否工作：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> iterator <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Iterator</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">while</span><span class="token punctuation">(</span>iterator<span class="token punctuation">.</span><span class="token function">hasNext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>iterator<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">//输出：1, red, false, 3.14</span>
</code></pre></div><p><code>ES6</code>提供了更简单的迭代循环语法 <code>for...of</code>，使用该语法的前提是操作对象需要实现 <code>可迭代协议（The iterable protocol）</code>，简单说就是该对象有个<code>Key</code>为 <code>Symbol.iterator</code> 的方法，该方法返回一个<code>iterator</code>对象。</p> <p>比如实现一个 <code>Range</code> 类用于在某个数字区间进行迭代：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">Range</span><span class="token punctuation">(</span><span class="token parameter">start<span class="token punctuation">,</span> end</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span>
    <span class="token punctuation">[</span>Symbol<span class="token punctuation">.</span>iterator<span class="token punctuation">]</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token punctuation">{</span>
        <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">if</span> <span class="token punctuation">(</span>start <span class="token operator">&lt;</span> end<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token punctuation">{</span> value<span class="token operator">:</span> start<span class="token operator">++</span><span class="token punctuation">,</span> done<span class="token operator">:</span> <span class="token boolean">false</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span>
          <span class="token keyword">return</span> <span class="token punctuation">{</span> done<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> value<span class="token operator">:</span> end <span class="token punctuation">}</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>验证一下：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">for</span> <span class="token punctuation">(</span>num <span class="token keyword">of</span> <span class="token function">Range</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// 输出：1, 2, 3, 4</span>
</code></pre></div><h3 id="_7-观察者模式-observer-pattern"><a href="#_7-观察者模式-observer-pattern" class="header-anchor">#</a> 7. 观察者模式（Observer Pattern）</h3> <p><strong>观察者模式又称发布-订阅模式（Publish/Subscribe Pattern）</strong>，是经常接触到的设计模式，日常生活中的应用也比比皆是，比如你订阅了某个博主的频道，当有内容更新时会收到推送；又比如JavaScript中的事件订阅响应机制。观察者模式的思想用一句话描述就是：<strong>被观察对象（subject）维护一组观察者（observer），当被观察对象状态改变时，通过调用观察者的某个方法将这些变化通知到观察者。</strong></p> <p>观察者模式中Subject对象一般需要实现以下API：</p> <ul><li><p><code>subscribe()</code>: 接收一个观察者<code>observer</code>对象，使其订阅自己</p></li> <li><p><code>unsubscribe()</code>: 接收一个观察者<code>observer</code>对象，使其取消订阅自己</p></li> <li><p><code>fire()</code>: 触发事件，通知到所有观察者</p></li></ul> <p>用<code>JavaScript</code>手动实现观察者模式：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 被观察者</span>
<span class="token keyword">function</span> <span class="token function">Subject</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>observers <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token class-name">Subject</span><span class="token punctuation">.</span>prototype <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">// 订阅</span>
  <span class="token function-variable function">subscribe</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">observer</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>observers<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>observer<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// 取消订阅</span>
  <span class="token function-variable function">unsubscribe</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">observerToRemove</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>observers <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>observers<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token parameter">observer</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> observer <span class="token operator">!==</span> observerToRemove<span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// 事件触发</span>
  <span class="token function-variable function">fire</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>observers<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">observer</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token function">observer</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>验证一下订阅是否成功：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> subject <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Subject</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">observer1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Observer 1 Firing!'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>


<span class="token keyword">function</span> <span class="token function">observer2</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Observer 2 Firing!'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

subject<span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span>observer1<span class="token punctuation">)</span><span class="token punctuation">;</span>
subject<span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span>observer2<span class="token punctuation">)</span><span class="token punctuation">;</span>
subject<span class="token punctuation">.</span><span class="token function">fire</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//输出：</span>
Observer <span class="token number">1</span> Firing<span class="token operator">!</span> 
Observer <span class="token number">2</span> Firing<span class="token operator">!</span>
</code></pre></div><p>验证一下取消订阅是否成功：</p> <div class="language-js extra-class"><pre class="language-js"><code>subject<span class="token punctuation">.</span><span class="token function">unsubscribe</span><span class="token punctuation">(</span>observer2<span class="token punctuation">)</span><span class="token punctuation">;</span>
subject<span class="token punctuation">.</span><span class="token function">fire</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//输出：</span>
Observer <span class="token number">1</span> Firing<span class="token operator">!</span>
</code></pre></div><p><strong>场景</strong></p> <ul><li><code>DOM</code> 事件</li></ul> <div class="language-js extra-class"><pre class="language-js"><code>document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'hello world!'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><ul><li><code>vue</code> 响应式</li></ul> <p><strong>优点</strong></p> <ul><li><p>支持简单的广播通信，自动通知所有已经订阅过的对象</p></li> <li><p>目标对象与观察者之间的抽象耦合关系能单独扩展以及重用</p></li> <li><p>增加了灵活性</p></li> <li><p>观察者模式所做的工作就是在解耦，让耦合的双方都依赖于抽象，而不是依赖于具体。从而使得各自的变化都不会影响到另一边的变化。</p></li></ul> <p><strong>缺点</strong></p> <ul><li>过度使用会导致对象与对象之间的联系弱化，会导致程序难以跟踪维护和理解</li></ul> <h3 id="_8-中介者模式-mediator-pattern"><a href="#_8-中介者模式-mediator-pattern" class="header-anchor">#</a> 8. 中介者模式（Mediator Pattern）</h3> <p>在中介者模式中，<code>中介者（Mediator）</code>包装了一系列对象相互作用的方式，使得这些对象不必直接相互作用，而是由中介者协调它们之间的交互，从而使它们可以松散偶合。当某些对象之间的作用发生改变时，不会立即影响其他的一些对象之间的作用，保证这些作用可以彼此独立的变化。</p> <p>中介者模式和观察者模式有一定的相似性，都是一对多的关系，也都是集中式通信，不同的是中介者模式是处理同级对象之间的交互，而观察者模式是处理<code>Observer</code>和<code>Subject</code>之间的交互。中介者模式有些像婚恋中介，相亲对象刚开始并不能直接交流，而是要通过中介去筛选匹配再决定谁和谁见面。</p> <p><strong>场景</strong></p> <ul><li>例如购物车需求，存在商品选择表单、颜色选择表单、购买数量表单等等，都会触发change事件，那么可以通过中介者来转发处理这些事件，实现各个事件间的解耦，仅仅维护中介者对象即可。</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> goods <span class="token operator">=</span> <span class="token punctuation">{</span>   <span class="token comment">//手机库存</span>
    <span class="token string">'red|32G'</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
    <span class="token string">'red|64G'</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token string">'blue|32G'</span><span class="token operator">:</span> <span class="token number">7</span><span class="token punctuation">,</span>
    <span class="token string">'blue|32G'</span><span class="token operator">:</span> <span class="token number">6</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">//中介者</span>
<span class="token keyword">var</span> mediator <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> colorSelect <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'colorSelect'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> memorySelect <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'memorySelect'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> numSelect <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'numSelect'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
        <span class="token function-variable function">changed</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">obj</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">switch</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">{</span>
                <span class="token keyword">case</span> colorSelect<span class="token operator">:</span>
                    <span class="token comment">//TODO</span>
                    <span class="token keyword">break</span><span class="token punctuation">;</span>
                <span class="token keyword">case</span> memorySelect<span class="token operator">:</span>
                    <span class="token comment">//TODO</span>
                    <span class="token keyword">break</span><span class="token punctuation">;</span>
                <span class="token keyword">case</span> numSelect<span class="token operator">:</span>
                    <span class="token comment">//TODO</span>
                    <span class="token keyword">break</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
colorSelect<span class="token punctuation">.</span><span class="token function-variable function">onchange</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    mediator<span class="token punctuation">.</span><span class="token function">changed</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
memorySelect<span class="token punctuation">.</span><span class="token function-variable function">onchange</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    mediator<span class="token punctuation">.</span><span class="token function">changed</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
numSelect<span class="token punctuation">.</span><span class="token function-variable function">onchange</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    mediator<span class="token punctuation">.</span><span class="token function">changed</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><ul><li><p>聊天室里</p> <ul><li>聊天室成员类：</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">Member</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>chatroom <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token class-name">Member</span><span class="token punctuation">.</span>prototype <span class="token operator">=</span> <span class="token punctuation">{</span>
<span class="token comment">// 发送消息</span>
<span class="token function-variable function">send</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">message<span class="token punctuation">,</span> toMember</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>chatroom<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span>message<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">,</span> toMember<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token comment">// 接收消息</span>
<span class="token function-variable function">receive</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">message<span class="token punctuation">,</span> fromMember</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>fromMember<span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> to </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>message<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>聊天室类：</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">Chatroom</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>members <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token class-name">Chatroom</span><span class="token punctuation">.</span>prototype <span class="token operator">=</span> <span class="token punctuation">{</span>
<span class="token comment">// 增加成员</span>
<span class="token function-variable function">addMember</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">member</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>members<span class="token punctuation">[</span>member<span class="token punctuation">.</span>name<span class="token punctuation">]</span> <span class="token operator">=</span> member<span class="token punctuation">;</span>
    member<span class="token punctuation">.</span>chatroom <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token comment">// 发送消息</span>
<span class="token function-variable function">send</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">message<span class="token punctuation">,</span> fromMember<span class="token punctuation">,</span> toMember</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    toMember<span class="token punctuation">.</span><span class="token function">receive</span><span class="token punctuation">(</span>message<span class="token punctuation">,</span> fromMember<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre></div><ul><li>测试一下：</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> chatroom <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Chatroom</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> bruce <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Member</span><span class="token punctuation">(</span><span class="token string">'bruce'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> frank <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Member</span><span class="token punctuation">(</span><span class="token string">'frank'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

chatroom<span class="token punctuation">.</span><span class="token function">addMember</span><span class="token punctuation">(</span>bruce<span class="token punctuation">)</span><span class="token punctuation">;</span>
chatroom<span class="token punctuation">.</span><span class="token function">addMember</span><span class="token punctuation">(</span>frank<span class="token punctuation">)</span><span class="token punctuation">;</span>

bruce<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string">'Hey frank'</span><span class="token punctuation">,</span> frank<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//输出：bruce to frank: hello frank</span>
</code></pre></div></li></ul> <p><strong>优点</strong></p> <ul><li><p>使各对象之间耦合松散，而且可以独立地改变它们之间的交互</p></li> <li><p>中介者和对象一对多的关系取代了对象之间的网状多对多的关系</p></li> <li><p>如果对象之间的复杂耦合度导致维护很困难，而且耦合度随项目变化增速很快，就需要中介者重构代码</p></li></ul> <p><strong>缺点</strong></p> <ul><li>系统中会新增一个中介者对象，因为对象之间交互的复杂性，转移成了中介者对象的复杂性，使得中介者对象经常是巨大的。中介 者对象自身往往就是一个难以维护的对象。</li></ul> <h3 id="_9-访问者模式-visitor-pattern"><a href="#_9-访问者模式-visitor-pattern" class="header-anchor">#</a> 9. 访问者模式（Visitor Pattern）</h3> <p><strong>访问者模式</strong> 是一种将算法与对象结构分离的设计模式，通俗点讲就是：访问者模式让能够在不改变一个对象结构的前提下能够给该对象增加新的逻辑，新增的逻辑保存在一个独立的访问者对象中。访问者模式常用于拓展一些第三方的库和工具。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 访问者  </span>
<span class="token keyword">class</span> <span class="token class-name">Visitor</span> <span class="token punctuation">{</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
    <span class="token function">visitConcreteElement</span><span class="token punctuation">(</span><span class="token parameter">ConcreteElement</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        ConcreteElement<span class="token punctuation">.</span><span class="token function">operation</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">// 元素类  </span>
<span class="token keyword">class</span> <span class="token class-name">ConcreteElement</span><span class="token punctuation">{</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token punctuation">}</span>
    <span class="token function">operation</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
       console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;ConcreteElement.operation invoked&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
    <span class="token punctuation">}</span>
    <span class="token function">accept</span><span class="token punctuation">(</span><span class="token parameter">visitor</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        visitor<span class="token punctuation">.</span><span class="token function">visitConcreteElement</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">// client</span>
<span class="token keyword">let</span> visitor <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Visitor</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> element <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ConcreteElement</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
elementA<span class="token punctuation">.</span><span class="token function">accept</span><span class="token punctuation">(</span>visitor<span class="token punctuation">)</span>
</code></pre></div><p>访问者模式的实现有以下几个要素：</p> <ul><li><p>**Visitor Object：**访问者对象，拥有一个<code>visit()</code>方法</p></li> <li><p>**Receiving Object：**接收对象，拥有一个 <code>accept()</code> 方法</p></li> <li><p>**visit(receivingObj)：**用于<code>Visitor</code>接收一个<code>Receiving Object</code></p></li> <li><p>**accept(visitor)：**用于<code>Receving Object</code>接收一个<code>Visitor</code>，并通过调用<code>Visitor</code>的 <code>visit()</code> 为其提供获取<code>Receiving Object</code>数据的能力</p></li></ul> <p>简单的代码实现如下：</p> <div class="language-js extra-class"><pre class="language-js"><code>Receiving Object：

<span class="token keyword">function</span> <span class="token function">Employee</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> salary</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>salary <span class="token operator">=</span> salary<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token class-name">Employee</span><span class="token punctuation">.</span>prototype <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token function-variable function">getSalary</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>salary<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function-variable function">setSalary</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">salary</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>salary <span class="token operator">=</span> salary<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function-variable function">accept</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">visitor</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    visitor<span class="token punctuation">.</span><span class="token function">visit</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
Visitor Object：

<span class="token keyword">function</span> <span class="token function">Visitor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span>

<span class="token class-name">Visitor</span><span class="token punctuation">.</span>prototype <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token function-variable function">visit</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">employee</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    employee<span class="token punctuation">.</span><span class="token function">setSalary</span><span class="token punctuation">(</span>employee<span class="token punctuation">.</span><span class="token function">getSalary</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>验证一下：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> employee <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Employee</span><span class="token punctuation">(</span><span class="token string">'bruce'</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> visitor <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Visitor</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
employee<span class="token punctuation">.</span><span class="token function">accept</span><span class="token punctuation">(</span>visitor<span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>employee<span class="token punctuation">.</span><span class="token function">getSalary</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//输出：2000</span>
</code></pre></div><p><strong>场景</strong></p> <ul><li><p>对象结构中对象对应的类很少改变，但经常需要在此对象结构上定义新的操作</p></li> <li><p>需要对一个对象结构中的对象进行很多不同的并且不相关的操作，而需要避免让这些操作&quot;污染&quot;这些对象的类，也不希望在增加新操作时修改这些类。</p></li></ul> <p><strong>优点</strong></p> <ul><li><p>符合单一职责原则</p></li> <li><p>优秀的扩展性</p></li> <li><p>灵活性</p></li></ul> <p><strong>缺点</strong></p> <ul><li><p>具体元素对访问者公布细节，违反了迪米特原则</p></li> <li><p>违反了依赖倒置原则，依赖了具体类，没有依赖抽象。</p></li> <li><p>具体元素变更比较困难</p></li></ul> <p><a href="https://juejin.im/post/5e021eb96fb9a01628014095" target="_blank" rel="noopener noreferrer">JavaScript设计模式es6（23种)<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><a href="https://juejin.im/book/5bdc715fe51d454e755f75ef/section/5bdc74186fb9a049ab0d0b6b" target="_blank" rel="noopener noreferrer">《前端面试之道》<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><a href="https://juejin.im/post/59df4f74f265da430f311909#heading-3" target="_blank" rel="noopener noreferrer">《JavaScript 设计模式》<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><a href="https://juejin.im/post/5afe6430518825428630bc4d" target="_blank" rel="noopener noreferrer">《JavaScript 中常见设计模式整理》<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></div> <!----> <div class="content__content-bottom"></div> <footer class="page-meta"><div class="edit-link"><svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon edit-icon"><path d="M117.953 696.992 64.306 959.696l265.931-49.336 450.204-452.505-212.284-213.376-450.204 452.513zm496.384-296.326L219.039 797.993l-46.108-46.34L568.233 354.33l46.104 46.335zm345.357-122.99-114.45 115.04-212.288-213.377 114.45-115.035 212.288 213.371zm0 0" fill="currentColor"></path></svg> <a href="https://github.com/sykinggg/notes/edit/main/docs/jsInterview/baseInterview.md" target="_blank" rel="noopener noreferrer">Edit this page</a></div> <div class="meta-item update-time"><span class="label">Last update:</span> <span class="info">November 5, 2021 01:06</span></div> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev"><a href="/notes/jsInterview/largeFileResumableUpload/" class="prev"><svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon prev-icon"><path d="M906.783 588.79c-.02 8.499-6.882 15.36-15.38 15.37l-443.7-.01 75.704 191.682c2.52 6.42.482 13.763-5.038 17.91-5.52 4.168-13.138 4.147-18.616-.092L123.228 524.175a15.362 15.362 0 0 1-6-12.165c0-4.782 2.222-9.277 6-12.185L499.753 210.35a15.388 15.388 0 0 1 9.38-3.195c3.236 0 6.502 1.034 9.236 3.103 5.52 4.147 7.578 11.49 5.038 17.91L447.683 419.84l443.72-.01c8.498.01 15.36 6.881 15.36 15.36l.02 153.6z" fill="currentColor"></path></svg>
        大文件上传和断点续传
      </a></span> <span class="next"><a href="/notes/jsInterview/babelCompile/">
        babel 编译原理
        <svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon next-icon"><path d="M906.772 512c0 4.772-2.211 9.267-5.99 12.175L524.257 813.66a15.37 15.37 0 0 1-18.616.092 15.368 15.368 0 0 1-5.038-17.91l75.714-191.672h-443.73c-8.488 0-15.36-6.881-15.36-15.36v-153.6c0-8.489 6.872-15.36 15.36-15.36h443.73l-75.714-191.682a15.358 15.358 0 0 1 5.048-17.91c5.51-4.158 13.128-4.137 18.606.092l376.525 289.485a15.323 15.323 0 0 1 5.99 12.165z" fill="currentColor"></path></svg></a></span></p></div> <!----> <!----> <div class="content__page-bottom"></div></main> <!----></div><div class="global-ui"><!----><!----><div id="pwa-install"><!----> <div id="install-modal-wrapper" style="display:none;"><div class="background"></div> <div class="install-modal"><div class="header"><button aria-label="Close" class="close-button"><svg width="23" height="22" xmlns="http://www.w3.org/2000/svg" class="icon close-icon"><path fill-rule="evenodd" clip-rule="evenodd" d="M1.12.358a1.224 1.224 0 011.729 0l8.92 8.914L20.686.358a1.224 1.224 0 011.73 1.728L13.497 11l8.92 8.913a1.222 1.222 0 11-1.73 1.729l-8.919-8.913-8.92 8.913a1.224 1.224 0 01-1.729-1.729L10.04 11l-8.92-8.914a1.222 1.222 0 010-1.728z" fill="currentColor"></path></svg></button> <div class="logo"><!----> <div class="title"><h1></h1> <p class="desc">This app can be installed on your PC or mobile device.  This will allow this web app to look and behave like any other installed app.  You will find it in your app lists and be able to pin it to your home screen, start menus or task bars.  This installed web app will also be able to safely interact with other apps and your operating system. </p></div></div></div> <div class="content"><div class="highlight"><!----> <!----></div> <div class="description"><h3>Description</h3> <p></p></div></div> <div class="button-wrapper"><button class="install-button">
        Install <span></span></button> <button class="cancel-button">
        Cancel
      </button></div></div></div></div><div tabindex="-1" role="dialog" aria-hidden="true" class="pswp"><div class="pswp__bg"></div> <div class="pswp__scroll-wrap"><div class="pswp__container"><div class="pswp__item"></div> <div class="pswp__item"></div> <div class="pswp__item"></div></div> <div class="pswp__ui pswp__ui--hidden"><div class="pswp__top-bar"><div class="pswp__counter"></div> <button class="pswp__button pswp__button--close"></button> <button class="pswp__button pswp__button--share"></button> <button class="pswp__button pswp__button--fs"></button> <button class="pswp__button pswp__button--zoom"></button> <div class="pswp__preloader"><div class="pswp__preloader__icn"><div class="pswp__preloader__cut"><div class="pswp__preloader__donut"></div></div></div></div></div> <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class="pswp__share-tooltip"></div></div> <button class="pswp__button pswp__button--arrow--left"></button> <button class="pswp__button pswp__button--arrow--right"></button> <div class="pswp__caption"><div class="pswp__caption__center"></div></div></div></div></div><div class="my-popup" style="display:none;" data-v-5f98aac3><div class="my-popup-container" data-v-5f98aac3><div class="my-popup-exit" data-v-5f98aac3></div> <img src="" alt data-v-5f98aac3></div></div></div></div>
    <script src="/notes/assets/js/app.2a7b403f.js" defer></script><script src="/notes/assets/js/vendors~layout-Layout.bad6b0ac.js" defer></script><script src="/notes/assets/js/vendors~layout-Blog~layout-Layout~layout-NotFound.f2412bde.js" defer></script><script src="/notes/assets/js/page-第一套js综合基础面试题.d70ec353.js" defer></script><script src="/notes/assets/js/vendors~layout-Blog~layout-Layout~layout-NotFound~layout-Slide.8a19680c.js" defer></script>
  </body>
</html>
