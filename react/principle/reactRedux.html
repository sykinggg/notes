<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.46">
    <style>
      :root {
        --c-bg: #fff;
      }
      html.dark {
        --c-bg: #22272e;
      }
      html, body {
        background-color: var(--c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme');
			const systemDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
			if (userMode === 'dark' || (userMode !== 'light' && systemDarkMode)) {
				document.documentElement.classList.toggle('dark', true);
			}
    </script>
    <title>react-redux源码 | </title><meta name="description" content="君子藏器于身 待时而动 天下有道则见 无道则隐">
    <link rel="modulepreload" href="/notes/assets/app.e9fd9ffa.js"><link rel="modulepreload" href="/notes/assets/reactRedux.html.05204623.js"><link rel="modulepreload" href="/notes/assets/reactRedux.html.677fb4e0.js"><link rel="prefetch" href="/notes/assets/index.html.5fd94bab.js"><link rel="prefetch" href="/notes/assets/_sidebar.html.a6abb857.js"><link rel="prefetch" href="/notes/assets/_sidebar.html.ae77e968.js"><link rel="prefetch" href="/notes/assets/base.html.3d754fa5.js"><link rel="prefetch" href="/notes/assets/customCli.html.36e53760.js"><link rel="prefetch" href="/notes/assets/_sidebar.html.2d46cabb.js"><link rel="prefetch" href="/notes/assets/adapter.html.5a9d6af2.js"><link rel="prefetch" href="/notes/assets/amd.html.2bea2db4.js"><link rel="prefetch" href="/notes/assets/builder.html.729f6b2e.js"><link rel="prefetch" href="/notes/assets/censorJquery.html.39371bf2.js"><link rel="prefetch" href="/notes/assets/combination.html.d817f852.js"><link rel="prefetch" href="/notes/assets/command.html.b4ecb5f8.js"><link rel="prefetch" href="/notes/assets/commonJS.html.0798834e.js"><link rel="prefetch" href="/notes/assets/constructor.html.30e7985e.js"><link rel="prefetch" href="/notes/assets/decoration.html.71ad24e0.js"><link rel="prefetch" href="/notes/assets/esHarmony.html.7c39ce29.js"><link rel="prefetch" href="/notes/assets/exposed.html.cb9784d3.js"><link rel="prefetch" href="/notes/assets/exterior.html.404cbc0a.js"><link rel="prefetch" href="/notes/assets/factory.html.c6fa80a5.js"><link rel="prefetch" href="/notes/assets/flyweight.html.d6fcb6c1.js"><link rel="prefetch" href="/notes/assets/functionalProgramming.html.1195cfd1.js"><link rel="prefetch" href="/notes/assets/intermediary.html.dec9cb53.js"><link rel="prefetch" href="/notes/assets/iterator.html.95b44153.js"><link rel="prefetch" href="/notes/assets/lazyInitial.html.5cde602d.js"><link rel="prefetch" href="/notes/assets/mixin.html.9c154f1d.js"><link rel="prefetch" href="/notes/assets/module.html.0f568c6d.js"><link rel="prefetch" href="/notes/assets/mvc.html.7795f31a.js"><link rel="prefetch" href="/notes/assets/mvp.html.b2ac7e69.js"><link rel="prefetch" href="/notes/assets/mvvm.html.b2ea5257.js"><link rel="prefetch" href="/notes/assets/observer.html.2e944745.js"><link rel="prefetch" href="/notes/assets/outward.html.9caf1ef6.js"><link rel="prefetch" href="/notes/assets/overview.html.f5d3c45f.js"><link rel="prefetch" href="/notes/assets/prototype.html.721f6b79.js"><link rel="prefetch" href="/notes/assets/proxy.html.53d7bdce.js"><link rel="prefetch" href="/notes/assets/singleton.html.b6dd9543.js"><link rel="prefetch" href="/notes/assets/axios.html.65151ad6.js"><link rel="prefetch" href="/notes/assets/createUnderscore.html.31b0b486.js"><link rel="prefetch" href="/notes/assets/jquery.html.531d64e8.js"><link rel="prefetch" href="/notes/assets/lodash.html.4b2564ab.js"><link rel="prefetch" href="/notes/assets/sentry.html.e888b325.js"><link rel="prefetch" href="/notes/assets/underscore.html.6110ee50.js"><link rel="prefetch" href="/notes/assets/vuex.html.fc16ecfa.js"><link rel="prefetch" href="/notes/assets/customCli.html.51768ec9.js"><link rel="prefetch" href="/notes/assets/description.html.766a5b08.js"><link rel="prefetch" href="/notes/assets/indx.html.9df0d7fc.js"><link rel="prefetch" href="/notes/assets/rebase.html.e99965ec.js"><link rel="prefetch" href="/notes/assets/_sidebar.html.325841e6.js"><link rel="prefetch" href="/notes/assets/_sidebar.html.1fae09b0.js"><link rel="prefetch" href="/notes/assets/_sidebar.html.a531b81d.js"><link rel="prefetch" href="/notes/assets/44Questions.html.cfcba87e.js"><link rel="prefetch" href="/notes/assets/asyncAwait.html.f0015aa3.js"><link rel="prefetch" href="/notes/assets/babelCompile.html.77d68e32.js"><link rel="prefetch" href="/notes/assets/base.html.33fa02fb.js"><link rel="prefetch" href="/notes/assets/baseInterview.html.c24e8ade.js"><link rel="prefetch" href="/notes/assets/baseWebpack.html.292b14cb.js"><link rel="prefetch" href="/notes/assets/codeSeparation.html.9d879cd5.js"><link rel="prefetch" href="/notes/assets/cycle.html.137809e7.js"><link rel="prefetch" href="/notes/assets/cycleOtherWay.html.ada0833d.js"><link rel="prefetch" href="/notes/assets/executionMechanism.html.951d5374.js"><link rel="prefetch" href="/notes/assets/hybrid.html.b0b3d836.js"><link rel="prefetch" href="/notes/assets/jsHandwriting.html.19b021ba.js"><link rel="prefetch" href="/notes/assets/jsonStringify.html.52da0969.js"><link rel="prefetch" href="/notes/assets/largeFileResumableUpload.html.508feaaf.js"><link rel="prefetch" href="/notes/assets/performance.html.68c4fc21.js"><link rel="prefetch" href="/notes/assets/promise.html.3b0b5c5e.js"><link rel="prefetch" href="/notes/assets/promiseAll.html.1b4e5e96.js"><link rel="prefetch" href="/notes/assets/spa.html.938883e6.js"><link rel="prefetch" href="/notes/assets/tsBaseInterview.html.bb72859b.js"><link rel="prefetch" href="/notes/assets/useEs6.html.7d7e4a2c.js"><link rel="prefetch" href="/notes/assets/webAnimations.html.6661a43e.js"><link rel="prefetch" href="/notes/assets/webpackInterview.html.3a3d02ad.js"><link rel="prefetch" href="/notes/assets/webpackLoader.html.6cfc263d.js"><link rel="prefetch" href="/notes/assets/webpackPublic.html.ec37b3f0.js"><link rel="prefetch" href="/notes/assets/weird.html.26aa839f.js"><link rel="prefetch" href="/notes/assets/es10News.html.291746c2.js"><link rel="prefetch" href="/notes/assets/es11News.html.8eff96d2.js"><link rel="prefetch" href="/notes/assets/es6Interview1.html.2b11b6e0.js"><link rel="prefetch" href="/notes/assets/es6Interview2.html.2b98737a.js"><link rel="prefetch" href="/notes/assets/es6Interview3.html.9ccf5fb1.js"><link rel="prefetch" href="/notes/assets/es6News.html.a9d31612.js"><link rel="prefetch" href="/notes/assets/es7News.html.9b4781b3.js"><link rel="prefetch" href="/notes/assets/es8News.html.9307577a.js"><link rel="prefetch" href="/notes/assets/es9News.html.6ac1e35c.js"><link rel="prefetch" href="/notes/assets/base.html.4c28f783.js"><link rel="prefetch" href="/notes/assets/nginxComprehensiveScene.html.f320dc2a.js"><link rel="prefetch" href="/notes/assets/commonlyUsed.html.3492e665.js"><link rel="prefetch" href="/notes/assets/inelegantHook.html.b55d7207.js"><link rel="prefetch" href="/notes/assets/interview1.html.2e20a58d.js"><link rel="prefetch" href="/notes/assets/interview2.html.9f5ee4a9.js"><link rel="prefetch" href="/notes/assets/interview3.html.c36fc333.js"><link rel="prefetch" href="/notes/assets/interview4.html.e024e4f1.js"><link rel="prefetch" href="/notes/assets/base.html.ad052a66.js"><link rel="prefetch" href="/notes/assets/introduction.html.5494f7c1.js"><link rel="prefetch" href="/notes/assets/base.html.d6e33357.js"><link rel="prefetch" href="/notes/assets/summarize.html.ad4e1588.js"><link rel="prefetch" href="/notes/assets/_sidebar.html.6fc18be1.js"><link rel="prefetch" href="/notes/assets/index.html.dd06691f.js"><link rel="prefetch" href="/notes/assets/baseInterview.html.675a8c87.js"><link rel="prefetch" href="/notes/assets/baseInterview.html.78dd0170.js"><link rel="prefetch" href="/notes/assets/bigDataRender.html.d1f6216b.js"><link rel="prefetch" href="/notes/assets/progress.html.c7533ef6.js"><link rel="prefetch" href="/notes/assets/quirksStandards.html.1cab042f.js"><link rel="prefetch" href="/notes/assets/redrawReflow.html.2c7ff78e.js"><link rel="prefetch" href="/notes/assets/storageSpace.html.f29e9739.js"><link rel="prefetch" href="/notes/assets/webComLink.html.f667a10d.js"><link rel="prefetch" href="/notes/assets/webUrl.html.a93630bb.js"><link rel="prefetch" href="/notes/assets/spanWidthHeight.html.e4ad25d8.js"><link rel="prefetch" href="/notes/assets/baseCss.html.ec237054.js"><link rel="prefetch" href="/notes/assets/blockFormattingContext.html.9ab811ce.js"><link rel="prefetch" href="/notes/assets/containingBlock.html.9e23e696.js"><link rel="prefetch" href="/notes/assets/cssBeforeAfter.html.502b8b57.js"><link rel="prefetch" href="/notes/assets/cssBoxModal.html.cbe3c632.js"><link rel="prefetch" href="/notes/assets/cssCollapsing.html.a7d77cae.js"><link rel="prefetch" href="/notes/assets/cssCompatible.html.2377bc79.js"><link rel="prefetch" href="/notes/assets/cssFlexDemo.html.3eaeadc9.js"><link rel="prefetch" href="/notes/assets/cssFlexLayout.html.fc0f35eb.js"><link rel="prefetch" href="/notes/assets/cssGridLayout.html.8a22c979.js"><link rel="prefetch" href="/notes/assets/cssHack.html.3acfa041.js"><link rel="prefetch" href="/notes/assets/cssInlineBlock.html.3c2bf647.js"><link rel="prefetch" href="/notes/assets/cssPriority.html.20999d4d.js"><link rel="prefetch" href="/notes/assets/cssPseudo.html.10c6046c.js"><link rel="prefetch" href="/notes/assets/cssPseudoClass.html.1efe0528.js"><link rel="prefetch" href="/notes/assets/cssSelector.html.4c005d78.js"><link rel="prefetch" href="/notes/assets/cssTutorial.html.e9db71fd.js"><link rel="prefetch" href="/notes/assets/fieldInvalid.html.c03e5356.js"><link rel="prefetch" href="/notes/assets/frame.html.a01f241f.js"><link rel="prefetch" href="/notes/assets/knowledgePoints.html.63fc8117.js"><link rel="prefetch" href="/notes/assets/linkImport.html.c753a459.js"><link rel="prefetch" href="/notes/assets/stackingContext.html.61c46214.js"><link rel="prefetch" href="/notes/assets/tools.html.053a5b49.js"><link rel="prefetch" href="/notes/assets/units.html.b9e11db9.js"><link rel="prefetch" href="/notes/assets/transform.html.344d9c0e.js"><link rel="prefetch" href="/notes/assets/content.html.07e14491.js"><link rel="prefetch" href="/notes/assets/plugins.html.574ca307.js"><link rel="prefetch" href="/notes/assets/accesskey.html.bf424b11.js"><link rel="prefetch" href="/notes/assets/baseInterview.html.adab2861.js"><link rel="prefetch" href="/notes/assets/canvasSvg.html.87df6fba.js"><link rel="prefetch" href="/notes/assets/deviceAPI.html.bf65293f.js"><link rel="prefetch" href="/notes/assets/globalAttr.html.f4ac6831.js"><link rel="prefetch" href="/notes/assets/htmlDatalist.html.3f218328.js"><link rel="prefetch" href="/notes/assets/htmlElement.html.d7b24e52.js"><link rel="prefetch" href="/notes/assets/interview10.html.89a58f87.js"><link rel="prefetch" href="/notes/assets/interview11.html.b7962668.js"><link rel="prefetch" href="/notes/assets/interview12.html.85c95a5c.js"><link rel="prefetch" href="/notes/assets/interview13.html.88df657a.js"><link rel="prefetch" href="/notes/assets/interview14.html.39d2f828.js"><link rel="prefetch" href="/notes/assets/interview15.html.aaef0b52.js"><link rel="prefetch" href="/notes/assets/interview16.html.ff167a6b.js"><link rel="prefetch" href="/notes/assets/interview17.html.c9001163.js"><link rel="prefetch" href="/notes/assets/interview18.html.880e3d1e.js"><link rel="prefetch" href="/notes/assets/interview19.html.1958d466.js"><link rel="prefetch" href="/notes/assets/interview20.html.21e48354.js"><link rel="prefetch" href="/notes/assets/interview21.html.6023e07c.js"><link rel="prefetch" href="/notes/assets/interview22.html.4677d656.js"><link rel="prefetch" href="/notes/assets/interview23.html.b8220b4c.js"><link rel="prefetch" href="/notes/assets/interview24.html.7f19c01b.js"><link rel="prefetch" href="/notes/assets/interview25.html.9ac61831.js"><link rel="prefetch" href="/notes/assets/interview26.html.377dde62.js"><link rel="prefetch" href="/notes/assets/interview27.html.5e98aced.js"><link rel="prefetch" href="/notes/assets/interview28.html.c1bfe472.js"><link rel="prefetch" href="/notes/assets/interview29.html.f741b535.js"><link rel="prefetch" href="/notes/assets/interview30.html.9696b49d.js"><link rel="prefetch" href="/notes/assets/interview31.html.4119a1a0.js"><link rel="prefetch" href="/notes/assets/interview32.html.117b8ee8.js"><link rel="prefetch" href="/notes/assets/interview33.html.f8e21947.js"><link rel="prefetch" href="/notes/assets/interview34.html.535144fb.js"><link rel="prefetch" href="/notes/assets/interview35.html.f2e76b28.js"><link rel="prefetch" href="/notes/assets/interview36.html.1f550f8d.js"><link rel="prefetch" href="/notes/assets/interview37.html.4000dac3.js"><link rel="prefetch" href="/notes/assets/interview38.html.e91632bf.js"><link rel="prefetch" href="/notes/assets/interview39.html.21e7baea.js"><link rel="prefetch" href="/notes/assets/interview40.html.f785a5f6.js"><link rel="prefetch" href="/notes/assets/interview41.html.73f4f84b.js"><link rel="prefetch" href="/notes/assets/interview42.html.d3d3e9ce.js"><link rel="prefetch" href="/notes/assets/interview43.html.5d63065b.js"><link rel="prefetch" href="/notes/assets/interview44.html.b19a4028.js"><link rel="prefetch" href="/notes/assets/interview45.html.9b8cda30.js"><link rel="prefetch" href="/notes/assets/interview46.html.24f10f5a.js"><link rel="prefetch" href="/notes/assets/interview47.html.f751d2f0.js"><link rel="prefetch" href="/notes/assets/interview48.html.12a690e2.js"><link rel="prefetch" href="/notes/assets/interview49.html.b4be6982.js"><link rel="prefetch" href="/notes/assets/interview5.html.3a3f66f3.js"><link rel="prefetch" href="/notes/assets/interview50.html.45a1a5cd.js"><link rel="prefetch" href="/notes/assets/interview51.html.19354eb8.js"><link rel="prefetch" href="/notes/assets/interview52.html.efd71ae9.js"><link rel="prefetch" href="/notes/assets/interview53.html.9e229722.js"><link rel="prefetch" href="/notes/assets/interview54.html.3ead9d6a.js"><link rel="prefetch" href="/notes/assets/interview55.html.473afc35.js"><link rel="prefetch" href="/notes/assets/interview56.html.7dfbd31d.js"><link rel="prefetch" href="/notes/assets/interview57.html.94e1e9b1.js"><link rel="prefetch" href="/notes/assets/interview58.html.31f24461.js"><link rel="prefetch" href="/notes/assets/interview59.html.4ed31be6.js"><link rel="prefetch" href="/notes/assets/interview6.html.f07f88a0.js"><link rel="prefetch" href="/notes/assets/interview7.html.747e06ec.js"><link rel="prefetch" href="/notes/assets/interview8.html.7b389f23.js"><link rel="prefetch" href="/notes/assets/interview9.html.a5375e9d.js"><link rel="prefetch" href="/notes/assets/linkImport.html.21b8f92b.js"><link rel="prefetch" href="/notes/assets/offlineStorage.html.2dbcc5e3.js"><link rel="prefetch" href="/notes/assets/regular.html.08ba75e6.js"><link rel="prefetch" href="/notes/assets/shake.html.6f9e1c10.js"><link rel="prefetch" href="/notes/assets/webWorker.html.b711262e.js"><link rel="prefetch" href="/notes/assets/baseInterview.html.49e07d77.js"><link rel="prefetch" href="/notes/assets/cors.html.85e40ac6.js"><link rel="prefetch" href="/notes/assets/crossDomainCookie.html.29b16251.js"><link rel="prefetch" href="/notes/assets/fetch.html.601d2dea.js"><link rel="prefetch" href="/notes/assets/nestAxios.html.4d4fb363.js"><link rel="prefetch" href="/notes/assets/debounce.html.f9c9ebe3.js"><link rel="prefetch" href="/notes/assets/lodashPrinciple.html.0b11438b.js"><link rel="prefetch" href="/notes/assets/lodashThrottleDebounce.html.6f7ac4a0.js"><link rel="prefetch" href="/notes/assets/throttle.html.fa956948.js"><link rel="prefetch" href="/notes/assets/throttleDebounceReact.html.902e6e58.js"><link rel="prefetch" href="/notes/assets/cloneIntroduction.html.7e9b7555.js"><link rel="prefetch" href="/notes/assets/deepClone.html.9c670832.js"><link rel="prefetch" href="/notes/assets/lodashDeepClone.html.5d982cc4.js"><link rel="prefetch" href="/notes/assets/objectAssign.html.fd2a8018.js"><link rel="prefetch" href="/notes/assets/arraySourceCode.html.198d518d.js"><link rel="prefetch" href="/notes/assets/baseHigh.html.b6f9a2ec.js"><link rel="prefetch" href="/notes/assets/currying.html.3ae0ed6f.js"><link rel="prefetch" href="/notes/assets/baseInterview.html.095e69bb.js"><link rel="prefetch" href="/notes/assets/eventLoop.html.9c0541d6.js"><link rel="prefetch" href="/notes/assets/iife.html.af8ca19a.js"><link rel="prefetch" href="/notes/assets/interview1.html.9063c7a3.js"><link rel="prefetch" href="/notes/assets/jsCompatible.html.96812c57.js"><link rel="prefetch" href="/notes/assets/baseProyotype.html.0bcddabd.js"><link rel="prefetch" href="/notes/assets/functionObjectResource.html.9c0931e5.js"><link rel="prefetch" href="/notes/assets/prototypeInherit.html.37802d14.js"><link rel="prefetch" href="/notes/assets/closureInterview.html.154b277a.js"><link rel="prefetch" href="/notes/assets/scopeChain.html.01bf2994.js"><link rel="prefetch" href="/notes/assets/understandingClosures.html.65acdf9e.js"><link rel="prefetch" href="/notes/assets/executionStack.html.e929b218.js"><link rel="prefetch" href="/notes/assets/memoryLeak.html.926d804a.js"><link rel="prefetch" href="/notes/assets/memoryMechanism.html.7cd99172.js"><link rel="prefetch" href="/notes/assets/memorySpace.html.c936958b.js"><link rel="prefetch" href="/notes/assets/precompiled.html.679c2302.js"><link rel="prefetch" href="/notes/assets/variableObject.html.637de206.js"><link rel="prefetch" href="/notes/assets/arrowFunctionThis.html.464b1960.js"><link rel="prefetch" href="/notes/assets/bindSimulation.html.1caac5bf.js"><link rel="prefetch" href="/notes/assets/callApply.html.04d662f8.js"><link rel="prefetch" href="/notes/assets/newSimulation.html.fa412734.js"><link rel="prefetch" href="/notes/assets/thisBind.html.30924f25.js"><link rel="prefetch" href="/notes/assets/interview1.html.fcb31793.js"><link rel="prefetch" href="/notes/assets/interview10.html.d3e7493d.js"><link rel="prefetch" href="/notes/assets/interview11.html.18a56544.js"><link rel="prefetch" href="/notes/assets/interview12.html.99321eaf.js"><link rel="prefetch" href="/notes/assets/interview13.html.44b1476b.js"><link rel="prefetch" href="/notes/assets/interview14.html.45b2c26a.js"><link rel="prefetch" href="/notes/assets/interview15.html.0d81e102.js"><link rel="prefetch" href="/notes/assets/interview16.html.688d10d3.js"><link rel="prefetch" href="/notes/assets/interview17.html.3e54c07c.js"><link rel="prefetch" href="/notes/assets/interview18.html.a371161d.js"><link rel="prefetch" href="/notes/assets/interview19.html.27acdd64.js"><link rel="prefetch" href="/notes/assets/interview2.html.15df2cfb.js"><link rel="prefetch" href="/notes/assets/interview20.html.354c37ba.js"><link rel="prefetch" href="/notes/assets/interview21.html.40979faa.js"><link rel="prefetch" href="/notes/assets/interview22.html.bb445fc9.js"><link rel="prefetch" href="/notes/assets/interview23.html.a8e75836.js"><link rel="prefetch" href="/notes/assets/interview24.html.409c61a5.js"><link rel="prefetch" href="/notes/assets/interview25.html.1843ea8d.js"><link rel="prefetch" href="/notes/assets/interview26.html.f4ca513a.js"><link rel="prefetch" href="/notes/assets/interview27.html.fc367e09.js"><link rel="prefetch" href="/notes/assets/interview28.html.7402b5d2.js"><link rel="prefetch" href="/notes/assets/interview29.html.0dde0c88.js"><link rel="prefetch" href="/notes/assets/interview3.html.d4dfc1cc.js"><link rel="prefetch" href="/notes/assets/interview30.html.be7e9c89.js"><link rel="prefetch" href="/notes/assets/interview4.html.9ae3190b.js"><link rel="prefetch" href="/notes/assets/interview5.html.25c7953c.js"><link rel="prefetch" href="/notes/assets/interview6.html.23353288.js"><link rel="prefetch" href="/notes/assets/interview7.html.ee377fc3.js"><link rel="prefetch" href="/notes/assets/interview8.html.9bcae03d.js"><link rel="prefetch" href="/notes/assets/interview9.html.55c4e196.js"><link rel="prefetch" href="/notes/assets/adjacentSiblingCombinator.html.07f34992.js"><link rel="prefetch" href="/notes/assets/attributeSelectors.html.ce90852c.js"><link rel="prefetch" href="/notes/assets/charset.html.078dbfdb.js"><link rel="prefetch" href="/notes/assets/childCombinator.html.4ff9d830.js"><link rel="prefetch" href="/notes/assets/classSelectors.html.6b949801.js"><link rel="prefetch" href="/notes/assets/descendantCombinator.html.fb2c8962.js"><link rel="prefetch" href="/notes/assets/generalSiblingCombinator.html.0fd2d0c6.js"><link rel="prefetch" href="/notes/assets/iDSelectors.html.39037901.js"><link rel="prefetch" href="/notes/assets/pseudoClasses.html.25d078a3.js"><link rel="prefetch" href="/notes/assets/pseudoElements.html.8dc0191a.js"><link rel="prefetch" href="/notes/assets/selectorList.html.6fe90e0a.js"><link rel="prefetch" href="/notes/assets/typeSelectors.html.b491ac5f.js"><link rel="prefetch" href="/notes/assets/universalSelectors.html.816f3c7b.js"><link rel="prefetch" href="/notes/assets/IterationProtocols.html.7d48aa19.js"><link rel="prefetch" href="/notes/assets/arrayFlat.html.5fa02b31.js"><link rel="prefetch" href="/notes/assets/asyncHistory.html.8dce6d6c.js"><link rel="prefetch" href="/notes/assets/eventLoop.html.a507c544.js"><link rel="prefetch" href="/notes/assets/fileReader.html.28b32ac8.js"><link rel="prefetch" href="/notes/assets/formData.html.36930f6c.js"><link rel="prefetch" href="/notes/assets/functionGenerator.html.c22d434a.js"><link rel="prefetch" href="/notes/assets/generator.html.fa79ded8.js"><link rel="prefetch" href="/notes/assets/intersectionObserver.html.d0a34581.js"><link rel="prefetch" href="/notes/assets/map.html.1c60889c.js"><link rel="prefetch" href="/notes/assets/promise.html.0d3e87d5.js"><link rel="prefetch" href="/notes/assets/set.html.6c24d5c7.js"><link rel="prefetch" href="/notes/assets/string.html.5ba9d368.js"><link rel="prefetch" href="/notes/assets/symbol.html.6fdbbd29.js"><link rel="prefetch" href="/notes/assets/xMLHttpRequest.html.33d4ce2a.js"><link rel="prefetch" href="/notes/assets/spreadSyntax.html.f3c9ea47.js"><link rel="prefetch" href="/notes/assets/strictMode.html.e8207ff6.js"><link rel="prefetch" href="/notes/assets/cache.html.4940d7b2.js"><link rel="prefetch" href="/notes/assets/drag1.html.afd4ea62.js"><link rel="prefetch" href="/notes/assets/oneLineCode.html.55bfff06.js"><link rel="prefetch" href="/notes/assets/oneLineCodeArray.html.bedca4e8.js"><link rel="prefetch" href="/notes/assets/oneLineCodeDOM.html.80aa1194.js"><link rel="prefetch" href="/notes/assets/oneLineCodeDateTime.html.ac4e9ccb.js"><link rel="prefetch" href="/notes/assets/oneLineCodeFunction.html.84c7454e.js"><link rel="prefetch" href="/notes/assets/oneLineCodeMath.html.5742ddd7.js"><link rel="prefetch" href="/notes/assets/oneLineCodeMisc.html.0cb08be7.js"><link rel="prefetch" href="/notes/assets/oneLineCodeNumber.html.f0aa314e.js"><link rel="prefetch" href="/notes/assets/oneLineCodeObject.html.245a76f8.js"><link rel="prefetch" href="/notes/assets/oneLineCodeRandom.html.d3e82fdf.js"><link rel="prefetch" href="/notes/assets/oneLineCodeString.html.f6633104.js"><link rel="prefetch" href="/notes/assets/oneLineCodeValidator.html.aa3f2d2a.js"><link rel="prefetch" href="/notes/assets/typeScriptCache.html.039f0904.js"><link rel="prefetch" href="/notes/assets/reactBase.html.552b6769.js"><link rel="prefetch" href="/notes/assets/reactTypescript.html.93bff7eb.js"><link rel="prefetch" href="/notes/assets/vue2Base.html.4b24158e.js"><link rel="prefetch" href="/notes/assets/vue2Table.html.2318d76c.js"><link rel="prefetch" href="/notes/assets/vue2offsetTop.html.bfdac791.js"><link rel="prefetch" href="/notes/assets/componentWillXXX.html.d91a05e2.js"><link rel="prefetch" href="/notes/assets/disrupt.html.5ef7dcea.js"><link rel="prefetch" href="/notes/assets/lane.html.9b262dfe.js"><link rel="prefetch" href="/notes/assets/prepare.html.87381a22.js"><link rel="prefetch" href="/notes/assets/redux.html.4f7d6c76.js"><link rel="prefetch" href="/notes/assets/scheduler.html.3c27a810.js"><link rel="prefetch" href="/notes/assets/multi.html.99533875.js"><link rel="prefetch" href="/notes/assets/one.html.b16c51c1.js"><link rel="prefetch" href="/notes/assets/prepare.html.3385c4d6.js"><link rel="prefetch" href="/notes/assets/create.html.0ab7996b.js"><link rel="prefetch" href="/notes/assets/prepare.html.91332b0b.js"><link rel="prefetch" href="/notes/assets/structure.html.5933ee9d.js"><link rel="prefetch" href="/notes/assets/useeffect.html.f2f6257f.js"><link rel="prefetch" href="/notes/assets/usememo.html.23ce2e2f.js"><link rel="prefetch" href="/notes/assets/useref.html.3eec1369.js"><link rel="prefetch" href="/notes/assets/usestate.html.d4ae4308.js"><link rel="prefetch" href="/notes/assets/file.html.8851f09a.js"><link rel="prefetch" href="/notes/assets/idea.html.3ef26f24.js"><link rel="prefetch" href="/notes/assets/jsx.html.37b1b037.js"><link rel="prefetch" href="/notes/assets/newConstructure.html.becdd02d.js"><link rel="prefetch" href="/notes/assets/oldConstructure.html.b667b873.js"><link rel="prefetch" href="/notes/assets/source.html.e172df48.js"><link rel="prefetch" href="/notes/assets/summary.html.cf5b0199.js"><link rel="prefetch" href="/notes/assets/basePrinciple.html.10653078.js"><link rel="prefetch" href="/notes/assets/componentApi.html.315ee627.js"><link rel="prefetch" href="/notes/assets/domApi.html.415f4315.js"><link rel="prefetch" href="/notes/assets/hoc.html.1d76d049.js"><link rel="prefetch" href="/notes/assets/hookApi.html.0d83a935.js"><link rel="prefetch" href="/notes/assets/hookCustom.html.fda10772.js"><link rel="prefetch" href="/notes/assets/hookPrinciple.html.6f4d0ebd.js"><link rel="prefetch" href="/notes/assets/hookUse.html.ead46266.js"><link rel="prefetch" href="/notes/assets/reactKeeplive.html.30cd74b5.js"><link rel="prefetch" href="/notes/assets/reactRouter.html.1cef54c7.js"><link rel="prefetch" href="/notes/assets/toolApi.html.99668bba.js"><link rel="prefetch" href="/notes/assets/beginWork.html.7a33c00f.js"><link rel="prefetch" href="/notes/assets/completeWork.html.2035893d.js"><link rel="prefetch" href="/notes/assets/doubleBuffer.html.cc4445bd.js"><link rel="prefetch" href="/notes/assets/fiber-mental.html.4dfd8f47.js"><link rel="prefetch" href="/notes/assets/fiber.html.52caaab5.js"><link rel="prefetch" href="/notes/assets/reconciler.html.9699e007.js"><link rel="prefetch" href="/notes/assets/beforeMutation.html.33716e1b.js"><link rel="prefetch" href="/notes/assets/layout.html.a14b1eed.js"><link rel="prefetch" href="/notes/assets/mutation.html.f7e1003d.js"><link rel="prefetch" href="/notes/assets/prepare.html.ddc74f37.js"><link rel="prefetch" href="/notes/assets/mental.html.14317c32.js"><link rel="prefetch" href="/notes/assets/prepare.html.3ca09907.js"><link rel="prefetch" href="/notes/assets/priority.html.26fe7059.js"><link rel="prefetch" href="/notes/assets/reactdom.html.c2db9055.js"><link rel="prefetch" href="/notes/assets/setstate.html.b94928c4.js"><link rel="prefetch" href="/notes/assets/update.html.c22aefc2.js"><link rel="prefetch" href="/notes/assets/bitfiled.html.617d13be.js"><link rel="prefetch" href="/notes/assets/dfs.html.ec91a986.js"><link rel="prefetch" href="/notes/assets/diff.html.cc4104fd.js"><link rel="prefetch" href="/notes/assets/heapsort.html.f7d22f26.js"><link rel="prefetch" href="/notes/assets/linkedlist.html.5d65c236.js"><link rel="prefetch" href="/notes/assets/stack.html.bd0c161f.js"><link rel="prefetch" href="/notes/assets/bootstrap.html.88423719.js"><link rel="prefetch" href="/notes/assets/context.html.c7443262.js"><link rel="prefetch" href="/notes/assets/fibertree-commit.html.838d32d9.js"><link rel="prefetch" href="/notes/assets/fibertree-create.html.b7f49839.js"><link rel="prefetch" href="/notes/assets/fibertree-prepare.html.8d41cc2e.js"><link rel="prefetch" href="/notes/assets/fibertree-update.html.0d18b903.js"><link rel="prefetch" href="/notes/assets/hook-effect.html.0f255dcd.js"><link rel="prefetch" href="/notes/assets/hook-state.html.f8558f5d.js"><link rel="prefetch" href="/notes/assets/hook-summary.html.61a205c0.js"><link rel="prefetch" href="/notes/assets/macro-structure.html.fbf7eef1.js"><link rel="prefetch" href="/notes/assets/object-structure.html.edd9c1b5.js"><link rel="prefetch" href="/notes/assets/priority.html.5439c4ff.js"><link rel="prefetch" href="/notes/assets/reconciler-workflow.html.e0bbcc08.js"><link rel="prefetch" href="/notes/assets/scheduler.html.10c55373.js"><link rel="prefetch" href="/notes/assets/state-effects.html.e60ede50.js"><link rel="prefetch" href="/notes/assets/synthetic-event.html.d0770b3a.js"><link rel="prefetch" href="/notes/assets/workloop.html.13b1a682.js"><link rel="prefetch" href="/notes/assets/ast.html.d21023b0.js"><link rel="prefetch" href="/notes/assets/binder.html.a2714bf7.js"><link rel="prefetch" href="/notes/assets/checker.html.24906eb0.js"><link rel="prefetch" href="/notes/assets/emitter.html.b1029e01.js"><link rel="prefetch" href="/notes/assets/overview.html.19eebc00.js"><link rel="prefetch" href="/notes/assets/parser.html.2d94d647.js"><link rel="prefetch" href="/notes/assets/program.html.4db1161d.js"><link rel="prefetch" href="/notes/assets/scanner.html.c2c24c94.js"><link rel="prefetch" href="/notes/assets/common.html.8eba1020.js"><link rel="prefetch" href="/notes/assets/interpreting.html.30f91541.js"><link rel="prefetch" href="/notes/assets/class.html.5ae13692.js"><link rel="prefetch" href="/notes/assets/commandline-behavior.html.0473e087.js"><link rel="prefetch" href="/notes/assets/comments.html.65dd32cd.js"><link rel="prefetch" href="/notes/assets/common-bug-not-bugs.html.43a82661.js"><link rel="prefetch" href="/notes/assets/common-feature-request.html.b1331da1.js"><link rel="prefetch" href="/notes/assets/decorators.html.17216663.js"><link rel="prefetch" href="/notes/assets/enums.html.3fc69842.js"><link rel="prefetch" href="/notes/assets/function.html.e1d07c96.js"><link rel="prefetch" href="/notes/assets/generics.html.0b7a519c.js"><link rel="prefetch" href="/notes/assets/glossary-and-terms.html.ce339703.js"><link rel="prefetch" href="/notes/assets/jsx-and-react.html.32a80645.js"><link rel="prefetch" href="/notes/assets/modules.html.af19d0f1.js"><link rel="prefetch" href="/notes/assets/thing-that-dont-work.html.fc69aaa7.js"><link rel="prefetch" href="/notes/assets/tsconfig-behavior.html.6a2d0189.js"><link rel="prefetch" href="/notes/assets/type-guards.html.d21e2a7d.js"><link rel="prefetch" href="/notes/assets/type-system-behavior.html.0e39b791.js"><link rel="prefetch" href="/notes/assets/nonReactJSX.html.19eab2c4.js"><link rel="prefetch" href="/notes/assets/reactJSX.html.fd2bb738.js"><link rel="prefetch" href="/notes/assets/support.html.cb016cd3.js"><link rel="prefetch" href="/notes/assets/typescript-3.7.html.2fac1e82.js"><link rel="prefetch" href="/notes/assets/typescript-3.8.html.a220982d.js"><link rel="prefetch" href="/notes/assets/typescript-3.9.html.6167b329.js"><link rel="prefetch" href="/notes/assets/compilationContext.html.bbad3955.js"><link rel="prefetch" href="/notes/assets/declarationspaces.html.3bd1aac8.js"><link rel="prefetch" href="/notes/assets/dynamicImportExpressions.html.12ca7d94.js"><link rel="prefetch" href="/notes/assets/inDepthTs.html.41bd2192.js"><link rel="prefetch" href="/notes/assets/modules.html.a6bcaddb.js"><link rel="prefetch" href="/notes/assets/namespaces.html.4bb82e1a.js"><link rel="prefetch" href="/notes/assets/unknownAny.html.f557d28e.js"><link rel="prefetch" href="/notes/assets/avoidExportDefault.html.82c3363f.js"><link rel="prefetch" href="/notes/assets/barrel.html.ec59a7f8.js"><link rel="prefetch" href="/notes/assets/bind.html.f576f83b.js"><link rel="prefetch" href="/notes/assets/buildToggles.html.4c044ce6.js"><link rel="prefetch" href="/notes/assets/classAreUseful.html.4a58ec93.js"><link rel="prefetch" href="/notes/assets/covarianceAndContravariance.html.992ff90f.js"><link rel="prefetch" href="/notes/assets/createArrays.html.72326f33.js"><link rel="prefetch" href="/notes/assets/curry.html.0a0a4a8e.js"><link rel="prefetch" href="/notes/assets/functionParameters.html.4779bba1.js"><link rel="prefetch" href="/notes/assets/infer.html.f0f8f422.js"><link rel="prefetch" href="/notes/assets/lazyObjectLiteralInitialization.html.9d27e86b.js"><link rel="prefetch" href="/notes/assets/limitPropertySetters.html.d7fb2131.js"><link rel="prefetch" href="/notes/assets/metadata.html.09b09148.js"><link rel="prefetch" href="/notes/assets/nominalTyping.html.06f4c02c.js"><link rel="prefetch" href="/notes/assets/outFileCaution.html.1b1564f3.js"><link rel="prefetch" href="/notes/assets/singletonPatern.html.93fe6c2e.js"><link rel="prefetch" href="/notes/assets/statefulFunctions.html.acc67a02.js"><link rel="prefetch" href="/notes/assets/staticConstructors.html.1f2ea4dd.js"><link rel="prefetch" href="/notes/assets/stringBasedEmuns.html.9cf73254.js"><link rel="prefetch" href="/notes/assets/truthy.html.7b3d8315.js"><link rel="prefetch" href="/notes/assets/typeInstantiation.html.03ce0207.js"><link rel="prefetch" href="/notes/assets/typesafeEventEmitter.html.fed58529.js"><link rel="prefetch" href="/notes/assets/ambient.html.b80ddcae.js"><link rel="prefetch" href="/notes/assets/callable.html.e9d545d6.js"><link rel="prefetch" href="/notes/assets/discrominatedUnion.html.ff3dcf08.js"><link rel="prefetch" href="/notes/assets/enums.html.22190da6.js"><link rel="prefetch" href="/notes/assets/exceptionsHanding.html.8504963b.js"><link rel="prefetch" href="/notes/assets/freshness.html.64e8a122.js"><link rel="prefetch" href="/notes/assets/functions.html.13d15914.js"><link rel="prefetch" href="/notes/assets/generices.html.b6921a89.js"><link rel="prefetch" href="/notes/assets/indexSignatures.html.13d6d22b.js"><link rel="prefetch" href="/notes/assets/interfaces.html.d45c37f0.js"><link rel="prefetch" href="/notes/assets/lib.html.4beff787.js"><link rel="prefetch" href="/notes/assets/literals.html.3f2f849c.js"><link rel="prefetch" href="/notes/assets/migrating.html.339ba887.js"><link rel="prefetch" href="/notes/assets/mixins.html.7b55b989.js"><link rel="prefetch" href="/notes/assets/movingTypes.html.38aa51b0.js"><link rel="prefetch" href="/notes/assets/neverType.html.75619579.js"><link rel="prefetch" href="/notes/assets/overview.html.d10a6a35.js"><link rel="prefetch" href="/notes/assets/readonly.html.28810593.js"><link rel="prefetch" href="/notes/assets/thisType.html.47c0c223.js"><link rel="prefetch" href="/notes/assets/typeAssertion.html.87d528f7.js"><link rel="prefetch" href="/notes/assets/typeCompatibility.html.9c3c7d06.js"><link rel="prefetch" href="/notes/assets/typeGuard.html.317bac98.js"><link rel="prefetch" href="/notes/assets/typeInference.html.8f05f6c3.js"><link rel="prefetch" href="/notes/assets/types.html.d19cc157.js"><link rel="prefetch" href="/notes/assets/pluginDva.html.d1d9e748.js"><link rel="prefetch" href="/notes/assets/pluginQiankun.html.7dab7334.js"><link rel="prefetch" href="/notes/assets/codegen.html.1735e461.js"><link rel="prefetch" href="/notes/assets/entrance.html.266225da.js"><link rel="prefetch" href="/notes/assets/optimize.html.674b11b3.js"><link rel="prefetch" href="/notes/assets/outline.html.ae40e5c4.js"><link rel="prefetch" href="/notes/assets/parse.html.f64a2d11.js"><link rel="prefetch" href="/notes/assets/async-component.html.28d5d444.js"><link rel="prefetch" href="/notes/assets/component-register.html.b65135c0.js"><link rel="prefetch" href="/notes/assets/create-component.html.6ab6521e.js"><link rel="prefetch" href="/notes/assets/lifecycle.html.8d7a96ae.js"><link rel="prefetch" href="/notes/assets/merge-option.html.fce5ab83.js"><link rel="prefetch" href="/notes/assets/outline.html.a8e7fe79.js"><link rel="prefetch" href="/notes/assets/patch.html.24db82cb.js"><link rel="prefetch" href="/notes/assets/_index.html.e07c74b0.js"><link rel="prefetch" href="/notes/assets/create-element.html.2f8cf81c.js"><link rel="prefetch" href="/notes/assets/mounted.html.e3474385.js"><link rel="prefetch" href="/notes/assets/new-vue.html.b1d29325.js"><link rel="prefetch" href="/notes/assets/render.html.f1ea2503.js"><link rel="prefetch" href="/notes/assets/update.html.27f64c43.js"><link rel="prefetch" href="/notes/assets/virtual-dom.html.c7b55b01.js"><link rel="prefetch" href="/notes/assets/event.html.b4efa3b2.js"><link rel="prefetch" href="/notes/assets/keep-alive.html.4f803771.js"><link rel="prefetch" href="/notes/assets/outline.html.6a524ae3.js"><link rel="prefetch" href="/notes/assets/slot.html.eaf5c9a4.js"><link rel="prefetch" href="/notes/assets/tansition-group.html.cbb8a3d6.js"><link rel="prefetch" href="/notes/assets/tansition.html.a69ccf5b.js"><link rel="prefetch" href="/notes/assets/v-model.html.63c7fa55.js"><link rel="prefetch" href="/notes/assets/baseInterview.html.0306d961.js"><link rel="prefetch" href="/notes/assets/baseInterviewSecond.html.49263449.js"><link rel="prefetch" href="/notes/assets/componentCommunication.html.1addc104.js"><link rel="prefetch" href="/notes/assets/detailedResponsiveness.html.654fec55.js"><link rel="prefetch" href="/notes/assets/diff.html.5c7a53ac.js"><link rel="prefetch" href="/notes/assets/eventBinding.html.1747d384.js"><link rel="prefetch" href="/notes/assets/eventMechanism.html.62b75039.js"><link rel="prefetch" href="/notes/assets/key.html.48506e77.js"><link rel="prefetch" href="/notes/assets/knowledgeSystem.html.e1447b13.js"><link rel="prefetch" href="/notes/assets/slot.html.a8513190.js"><link rel="prefetch" href="/notes/assets/sourceCodeAsyncDomUpdateNextTick.html.dd364f2d.js"><link rel="prefetch" href="/notes/assets/sourceCodeElementBroadcastDispatch.html.56ebef73.js"><link rel="prefetch" href="/notes/assets/sourceCodeKeepAlive.html.09fa79aa.js"><link rel="prefetch" href="/notes/assets/sourceCodeResponsiveness.html.0da0a55c.js"><link rel="prefetch" href="/notes/assets/sourceCodeTemplateCompilation.html.de8ecd3e.js"><link rel="prefetch" href="/notes/assets/sourceCodeTemplateDom.html.3ba45fe7.js"><link rel="prefetch" href="/notes/assets/sourceCodeVuex.html.a33f53db.js"><link rel="prefetch" href="/notes/assets/templateCompilation.html.c892ed89.js"><link rel="prefetch" href="/notes/assets/vNode.html.3fe1ba1a.js"><link rel="prefetch" href="/notes/assets/vNodeDiff.html.94f17e77.js"><link rel="prefetch" href="/notes/assets/build.html.bb96d7fd.js"><link rel="prefetch" href="/notes/assets/directory.html.04a221e0.js"><link rel="prefetch" href="/notes/assets/entrance.html.424b6dd1.js"><link rel="prefetch" href="/notes/assets/flow.html.4b479893.js"><link rel="prefetch" href="/notes/assets/component-update.html.598c84a1.js"><link rel="prefetch" href="/notes/assets/computed-watcher.html.e6150b01.js"><link rel="prefetch" href="/notes/assets/getters.html.2dce3eca.js"><link rel="prefetch" href="/notes/assets/next-tick.html.c306007a.js"><link rel="prefetch" href="/notes/assets/outline.html.26e4b651.js"><link rel="prefetch" href="/notes/assets/props.html.84d728db.js"><link rel="prefetch" href="/notes/assets/questions.html.faae8d87.js"><link rel="prefetch" href="/notes/assets/reactive-object.html.0a684e2e.js"><link rel="prefetch" href="/notes/assets/setters.html.961aafc8.js"><link rel="prefetch" href="/notes/assets/summary.html.c4853ec8.js"><link rel="prefetch" href="/notes/assets/install.html.f509d18f.js"><link rel="prefetch" href="/notes/assets/matcher.html.067ea897.js"><link rel="prefetch" href="/notes/assets/outline.html.a111b655.js"><link rel="prefetch" href="/notes/assets/router.html.fea98cc5.js"><link rel="prefetch" href="/notes/assets/transition-to.html.ebf8d62b.js"><link rel="prefetch" href="/notes/assets/api.html.45043f9b.js"><link rel="prefetch" href="/notes/assets/idex.html.e112457d.js"><link rel="prefetch" href="/notes/assets/init.html.9d2e055b.js"><link rel="prefetch" href="/notes/assets/plugin.html.928c2159.js"><link rel="prefetch" href="/notes/assets/baseInterview.html.4ef068ff.js"><link rel="prefetch" href="/notes/assets/configuration.html.8083a0ca.js"><link rel="prefetch" href="/notes/assets/entryPoints.html.4bea34de.js"><link rel="prefetch" href="/notes/assets/loader.html.68794263.js"><link rel="prefetch" href="/notes/assets/output.html.bae04749.js"><link rel="prefetch" href="/notes/assets/plugin.html.4eeb072b.js"><link rel="prefetch" href="/notes/assets/webpackInterview.html.95f30c3f.js"><link rel="prefetch" href="/notes/assets/reactApi.html.2104e776.js"><link rel="prefetch" href="/notes/assets/reactChildren.html.6b7f3068.js"><link rel="prefetch" href="/notes/assets/reactElement.html.08b2978f.js"><link rel="prefetch" href="/notes/assets/reactFiber.html.f919a48c.js"><link rel="prefetch" href="/notes/assets/commitAllHostEffects.html.7b11170a.js"><link rel="prefetch" href="/notes/assets/commitAllLifeCycles.html.16da4023.js"><link rel="prefetch" href="/notes/assets/commitBeforeMutationLifecycles.html.5ba39311.js"><link rel="prefetch" href="/notes/assets/commitDeletion.html.f742b166.js"><link rel="prefetch" href="/notes/assets/commitPlacement.html.b4775d16.js"><link rel="prefetch" href="/notes/assets/commitRoot.html.2bf6c1ca.js"><link rel="prefetch" href="/notes/assets/commitWork.html.dc3ab2b1.js"><link rel="prefetch" href="/notes/assets/invokeGuardedCallback.html.f5292698.js"><link rel="prefetch" href="/notes/assets/expirationTime.html.b8a67046.js"><link rel="prefetch" href="/notes/assets/reactDomRender.html.0b76fdb9.js"><link rel="prefetch" href="/notes/assets/setStateForceUpdate.html.a5023b8b.js"><link rel="prefetch" href="/notes/assets/context.html.5041dfce.js"><link rel="prefetch" href="/notes/assets/evenInit.html.2cd645a3.js"><link rel="prefetch" href="/notes/assets/eventBind.html.e37dd4c9.js"><link rel="prefetch" href="/notes/assets/eventCreateEventObject.html.fb328078.js"><link rel="prefetch" href="/notes/assets/eventDispath.html.f6f045bb.js"><link rel="prefetch" href="/notes/assets/hydrate.html.b74fb015.js"><link rel="prefetch" href="/notes/assets/ref.html.6898834e.js"><link rel="prefetch" href="/notes/assets/suspense.html.7b33e91d.js"><link rel="prefetch" href="/notes/assets/suspenseLazy.html.b0f2aa2c.js"><link rel="prefetch" href="/notes/assets/suspenseWork.html.e275034c.js"><link rel="prefetch" href="/notes/assets/hooksCommon.html.597fcea1.js"><link rel="prefetch" href="/notes/assets/hooksOther.html.de33223b.js"><link rel="prefetch" href="/notes/assets/start.html.dc53f83a.js"><link rel="prefetch" href="/notes/assets/useEffect.html.4cde9c87.js"><link rel="prefetch" href="/notes/assets/useState.html.8bbec48b.js"><link rel="prefetch" href="/notes/assets/base.html.5440e744.js"><link rel="prefetch" href="/notes/assets/commpontDiff.html.d7104fc7.js"><link rel="prefetch" href="/notes/assets/componentUpdate.html.59d0e27d.js"><link rel="prefetch" href="/notes/assets/renderProcess.html.2f886f53.js"><link rel="prefetch" href="/notes/assets/schedulingPrinciple.html.160d98cd.js"><link rel="prefetch" href="/notes/assets/beginWork.html.e8a4ae65.js"><link rel="prefetch" href="/notes/assets/globalVariable.html.cebaa128.js"><link rel="prefetch" href="/notes/assets/mountIndeterminateComponent.html.85755a9e.js"><link rel="prefetch" href="/notes/assets/mountLazyCompont.html.44e8bfbb.js"><link rel="prefetch" href="/notes/assets/performUnitOfWork.html.c236e137.js"><link rel="prefetch" href="/notes/assets/performWork.html.111cb729.js"><link rel="prefetch" href="/notes/assets/reactScheduler.html.8034a0cb.js"><link rel="prefetch" href="/notes/assets/reconcileChildren.html.f5a21cb0.js"><link rel="prefetch" href="/notes/assets/reconcileChildrenArray.html.aa74cf86.js"><link rel="prefetch" href="/notes/assets/reconcileSingleElement.html.b360dbc7.js"><link rel="prefetch" href="/notes/assets/renderRoot.html.b1d0c1be.js"><link rel="prefetch" href="/notes/assets/scheduleWork.html.28b4d5db.js"><link rel="prefetch" href="/notes/assets/throwException.html.269ae6a0.js"><link rel="prefetch" href="/notes/assets/updateClassComponent.html.1c51bd3d.js"><link rel="prefetch" href="/notes/assets/updateContextConsumer.html.bd5557fb.js"><link rel="prefetch" href="/notes/assets/updateContextProvider.html.191c8bfe.js"><link rel="prefetch" href="/notes/assets/updateForwardRef.html.98f2c65a.js"><link rel="prefetch" href="/notes/assets/updateFragment.html.eee79c9e.js"><link rel="prefetch" href="/notes/assets/updateFunctionalComponent.html.2066a73a.js"><link rel="prefetch" href="/notes/assets/updateHostComponent.html.4dcff0e9.js"><link rel="prefetch" href="/notes/assets/updateHostRoot.html.17211a9a.js"><link rel="prefetch" href="/notes/assets/updateHostText.html.177e061d.js"><link rel="prefetch" href="/notes/assets/updateMode.html.94722d4f.js"><link rel="prefetch" href="/notes/assets/updatePortalComponent.html.e52826e9.js"><link rel="prefetch" href="/notes/assets/updateProfiler.html.57117274.js"><link rel="prefetch" href="/notes/assets/updateSuspenseComponent.html.daf8c75d.js"><link rel="prefetch" href="/notes/assets/interview1.html.e77fef8b.js"><link rel="prefetch" href="/notes/assets/interview2.html.efc87d5c.js"><link rel="prefetch" href="/notes/assets/interview3.html.c024243e.js"><link rel="prefetch" href="/notes/assets/interview51.html.5acdd80f.js"><link rel="prefetch" href="/notes/assets/interview52.html.c306af68.js"><link rel="prefetch" href="/notes/assets/interview53.html.34bff16e.js"><link rel="prefetch" href="/notes/assets/interview54.html.09f9341f.js"><link rel="prefetch" href="/notes/assets/interview55.html.0d7b47d6.js"><link rel="prefetch" href="/notes/assets/interview56.html.be5608f7.js"><link rel="prefetch" href="/notes/assets/interview57.html.44dfe8a9.js"><link rel="prefetch" href="/notes/assets/interview1.html.524fe5c8.js"><link rel="prefetch" href="/notes/assets/interview10.html.6b6661d9.js"><link rel="prefetch" href="/notes/assets/interview11.html.de86ffd8.js"><link rel="prefetch" href="/notes/assets/interview12.html.8d04894b.js"><link rel="prefetch" href="/notes/assets/interview13.html.3fd9ed5c.js"><link rel="prefetch" href="/notes/assets/interview14.html.e7757074.js"><link rel="prefetch" href="/notes/assets/interview15.html.004fd17c.js"><link rel="prefetch" href="/notes/assets/interview16.html.eb595a40.js"><link rel="prefetch" href="/notes/assets/interview17.html.fd2aff6c.js"><link rel="prefetch" href="/notes/assets/interview18.html.7145c350.js"><link rel="prefetch" href="/notes/assets/interview19.html.6f06169b.js"><link rel="prefetch" href="/notes/assets/interview2.html.2df5d69d.js"><link rel="prefetch" href="/notes/assets/interview20.html.49c4ff89.js"><link rel="prefetch" href="/notes/assets/interview21.html.cfed4f54.js"><link rel="prefetch" href="/notes/assets/interview22.html.b81d04c7.js"><link rel="prefetch" href="/notes/assets/interview23.html.40d68929.js"><link rel="prefetch" href="/notes/assets/interview24.html.70e31c98.js"><link rel="prefetch" href="/notes/assets/interview25.html.9ff89387.js"><link rel="prefetch" href="/notes/assets/interview26.html.d208a025.js"><link rel="prefetch" href="/notes/assets/interview27.html.a1eaa849.js"><link rel="prefetch" href="/notes/assets/interview28.html.14b7d1bc.js"><link rel="prefetch" href="/notes/assets/interview29.html.a5732620.js"><link rel="prefetch" href="/notes/assets/interview3.html.b7590473.js"><link rel="prefetch" href="/notes/assets/interview30.html.4d4eea82.js"><link rel="prefetch" href="/notes/assets/interview31.html.dc7dae65.js"><link rel="prefetch" href="/notes/assets/interview32.html.c1a7fc28.js"><link rel="prefetch" href="/notes/assets/interview33.html.ac3c1683.js"><link rel="prefetch" href="/notes/assets/interview34.html.df20642e.js"><link rel="prefetch" href="/notes/assets/interview35.html.79db6c5e.js"><link rel="prefetch" href="/notes/assets/interview36.html.b1f05e0e.js"><link rel="prefetch" href="/notes/assets/interview37.html.581db9fd.js"><link rel="prefetch" href="/notes/assets/interview38.html.e19f689d.js"><link rel="prefetch" href="/notes/assets/interview39.html.2de50b2e.js"><link rel="prefetch" href="/notes/assets/interview4.html.52a1ce9f.js"><link rel="prefetch" href="/notes/assets/interview40.html.d1b405eb.js"><link rel="prefetch" href="/notes/assets/interview41.html.a9385882.js"><link rel="prefetch" href="/notes/assets/interview42.html.10af55c0.js"><link rel="prefetch" href="/notes/assets/interview43.html.19a61756.js"><link rel="prefetch" href="/notes/assets/interview44.html.239d098f.js"><link rel="prefetch" href="/notes/assets/interview45.html.7fc33488.js"><link rel="prefetch" href="/notes/assets/interview46.html.398fdf68.js"><link rel="prefetch" href="/notes/assets/interview47.html.69634aec.js"><link rel="prefetch" href="/notes/assets/interview48.html.0d2d4de1.js"><link rel="prefetch" href="/notes/assets/interview49.html.d6d3f786.js"><link rel="prefetch" href="/notes/assets/interview5.html.65dc3fb7.js"><link rel="prefetch" href="/notes/assets/interview50.html.1075a599.js"><link rel="prefetch" href="/notes/assets/interview6.html.437406d4.js"><link rel="prefetch" href="/notes/assets/interview7.html.159a0065.js"><link rel="prefetch" href="/notes/assets/interview8.html.2c17813c.js"><link rel="prefetch" href="/notes/assets/interview9.html.48c5a0ad.js"><link rel="prefetch" href="/notes/assets/404.html.93146c89.js"><link rel="prefetch" href="/notes/assets/index.html.826c4efe.js"><link rel="prefetch" href="/notes/assets/_sidebar.html.d8bbaf0b.js"><link rel="prefetch" href="/notes/assets/_sidebar.html.4fb3c96b.js"><link rel="prefetch" href="/notes/assets/base.html.546a173c.js"><link rel="prefetch" href="/notes/assets/customCli.html.a15c83cc.js"><link rel="prefetch" href="/notes/assets/_sidebar.html.9f16eeaf.js"><link rel="prefetch" href="/notes/assets/adapter.html.9b7fd6b2.js"><link rel="prefetch" href="/notes/assets/amd.html.e675422c.js"><link rel="prefetch" href="/notes/assets/builder.html.c7284f4f.js"><link rel="prefetch" href="/notes/assets/censorJquery.html.279b43b1.js"><link rel="prefetch" href="/notes/assets/combination.html.4651f375.js"><link rel="prefetch" href="/notes/assets/command.html.6b273d60.js"><link rel="prefetch" href="/notes/assets/commonJS.html.4d3889e3.js"><link rel="prefetch" href="/notes/assets/constructor.html.076c347c.js"><link rel="prefetch" href="/notes/assets/decoration.html.8b56a839.js"><link rel="prefetch" href="/notes/assets/esHarmony.html.91b5673b.js"><link rel="prefetch" href="/notes/assets/exposed.html.b22ad7f8.js"><link rel="prefetch" href="/notes/assets/exterior.html.f318771a.js"><link rel="prefetch" href="/notes/assets/factory.html.86802cd3.js"><link rel="prefetch" href="/notes/assets/flyweight.html.d1c1a3db.js"><link rel="prefetch" href="/notes/assets/functionalProgramming.html.20bc5852.js"><link rel="prefetch" href="/notes/assets/intermediary.html.8d717c0a.js"><link rel="prefetch" href="/notes/assets/iterator.html.98730f3b.js"><link rel="prefetch" href="/notes/assets/lazyInitial.html.d175de9f.js"><link rel="prefetch" href="/notes/assets/mixin.html.cfd21b49.js"><link rel="prefetch" href="/notes/assets/module.html.c733f96a.js"><link rel="prefetch" href="/notes/assets/mvc.html.92509703.js"><link rel="prefetch" href="/notes/assets/mvp.html.8ba68eda.js"><link rel="prefetch" href="/notes/assets/mvvm.html.bdc7348f.js"><link rel="prefetch" href="/notes/assets/observer.html.2a40777b.js"><link rel="prefetch" href="/notes/assets/outward.html.c560d197.js"><link rel="prefetch" href="/notes/assets/overview.html.98e27f0a.js"><link rel="prefetch" href="/notes/assets/prototype.html.f403c1a8.js"><link rel="prefetch" href="/notes/assets/proxy.html.68ef1ce7.js"><link rel="prefetch" href="/notes/assets/singleton.html.7d7c87c5.js"><link rel="prefetch" href="/notes/assets/axios.html.dfda8f04.js"><link rel="prefetch" href="/notes/assets/createUnderscore.html.9f75fc81.js"><link rel="prefetch" href="/notes/assets/jquery.html.7a623b1e.js"><link rel="prefetch" href="/notes/assets/lodash.html.2649aa61.js"><link rel="prefetch" href="/notes/assets/sentry.html.eb9a3e9a.js"><link rel="prefetch" href="/notes/assets/underscore.html.7a2a33b7.js"><link rel="prefetch" href="/notes/assets/vuex.html.e8c0523f.js"><link rel="prefetch" href="/notes/assets/customCli.html.1180ccfa.js"><link rel="prefetch" href="/notes/assets/description.html.f3f55d3a.js"><link rel="prefetch" href="/notes/assets/indx.html.1b8f568d.js"><link rel="prefetch" href="/notes/assets/rebase.html.750b9a9c.js"><link rel="prefetch" href="/notes/assets/_sidebar.html.cdb041d5.js"><link rel="prefetch" href="/notes/assets/_sidebar.html.784ea468.js"><link rel="prefetch" href="/notes/assets/_sidebar.html.0bc52fd5.js"><link rel="prefetch" href="/notes/assets/44Questions.html.76c15c5a.js"><link rel="prefetch" href="/notes/assets/asyncAwait.html.03c9a560.js"><link rel="prefetch" href="/notes/assets/babelCompile.html.f8f2cab8.js"><link rel="prefetch" href="/notes/assets/base.html.5f0f32d8.js"><link rel="prefetch" href="/notes/assets/baseInterview.html.263ff16d.js"><link rel="prefetch" href="/notes/assets/baseWebpack.html.da6d5052.js"><link rel="prefetch" href="/notes/assets/codeSeparation.html.0fe827d6.js"><link rel="prefetch" href="/notes/assets/cycle.html.9e270fc8.js"><link rel="prefetch" href="/notes/assets/cycleOtherWay.html.b1995037.js"><link rel="prefetch" href="/notes/assets/executionMechanism.html.712201e9.js"><link rel="prefetch" href="/notes/assets/hybrid.html.8c03ec2f.js"><link rel="prefetch" href="/notes/assets/jsHandwriting.html.28688507.js"><link rel="prefetch" href="/notes/assets/jsonStringify.html.fad11265.js"><link rel="prefetch" href="/notes/assets/largeFileResumableUpload.html.00f92e4d.js"><link rel="prefetch" href="/notes/assets/performance.html.41643289.js"><link rel="prefetch" href="/notes/assets/promise.html.29c5498a.js"><link rel="prefetch" href="/notes/assets/promiseAll.html.19223401.js"><link rel="prefetch" href="/notes/assets/spa.html.4876c936.js"><link rel="prefetch" href="/notes/assets/tsBaseInterview.html.9d172f83.js"><link rel="prefetch" href="/notes/assets/useEs6.html.6285e81c.js"><link rel="prefetch" href="/notes/assets/webAnimations.html.b0e65d0f.js"><link rel="prefetch" href="/notes/assets/webpackInterview.html.3f76888c.js"><link rel="prefetch" href="/notes/assets/webpackLoader.html.5e527754.js"><link rel="prefetch" href="/notes/assets/webpackPublic.html.ae2a242a.js"><link rel="prefetch" href="/notes/assets/weird.html.7c14677a.js"><link rel="prefetch" href="/notes/assets/es10News.html.ba88f287.js"><link rel="prefetch" href="/notes/assets/es11News.html.0603c233.js"><link rel="prefetch" href="/notes/assets/es6Interview1.html.042f245d.js"><link rel="prefetch" href="/notes/assets/es6Interview2.html.bb3c8c06.js"><link rel="prefetch" href="/notes/assets/es6Interview3.html.1da7059b.js"><link rel="prefetch" href="/notes/assets/es6News.html.a8f9ffee.js"><link rel="prefetch" href="/notes/assets/es7News.html.bf1518b6.js"><link rel="prefetch" href="/notes/assets/es8News.html.5b331795.js"><link rel="prefetch" href="/notes/assets/es9News.html.b9a1a55b.js"><link rel="prefetch" href="/notes/assets/base.html.64564ef9.js"><link rel="prefetch" href="/notes/assets/nginxComprehensiveScene.html.6f47ce48.js"><link rel="prefetch" href="/notes/assets/commonlyUsed.html.5b5b6d0b.js"><link rel="prefetch" href="/notes/assets/inelegantHook.html.c7fc3249.js"><link rel="prefetch" href="/notes/assets/interview1.html.e40d38c0.js"><link rel="prefetch" href="/notes/assets/interview2.html.0a2730f5.js"><link rel="prefetch" href="/notes/assets/interview3.html.0e7dbc0e.js"><link rel="prefetch" href="/notes/assets/interview4.html.fea337c3.js"><link rel="prefetch" href="/notes/assets/base.html.f50db7a1.js"><link rel="prefetch" href="/notes/assets/introduction.html.1a34d3c4.js"><link rel="prefetch" href="/notes/assets/base.html.f4ca865a.js"><link rel="prefetch" href="/notes/assets/summarize.html.63d19062.js"><link rel="prefetch" href="/notes/assets/_sidebar.html.6c01c952.js"><link rel="prefetch" href="/notes/assets/index.html.18ff6d6e.js"><link rel="prefetch" href="/notes/assets/baseInterview.html.9c1992d7.js"><link rel="prefetch" href="/notes/assets/baseInterview.html.67c292a7.js"><link rel="prefetch" href="/notes/assets/bigDataRender.html.11e69215.js"><link rel="prefetch" href="/notes/assets/progress.html.0cc72861.js"><link rel="prefetch" href="/notes/assets/quirksStandards.html.ab5428ae.js"><link rel="prefetch" href="/notes/assets/redrawReflow.html.fab57e8b.js"><link rel="prefetch" href="/notes/assets/storageSpace.html.9e04962e.js"><link rel="prefetch" href="/notes/assets/webComLink.html.eeb710bf.js"><link rel="prefetch" href="/notes/assets/webUrl.html.444dc6e5.js"><link rel="prefetch" href="/notes/assets/spanWidthHeight.html.8bd77ca7.js"><link rel="prefetch" href="/notes/assets/baseCss.html.ebb01aa7.js"><link rel="prefetch" href="/notes/assets/blockFormattingContext.html.001cd157.js"><link rel="prefetch" href="/notes/assets/containingBlock.html.053dbea5.js"><link rel="prefetch" href="/notes/assets/cssBeforeAfter.html.8f3f3aa8.js"><link rel="prefetch" href="/notes/assets/cssBoxModal.html.2cf173b0.js"><link rel="prefetch" href="/notes/assets/cssCollapsing.html.bd135f28.js"><link rel="prefetch" href="/notes/assets/cssCompatible.html.863f4f7f.js"><link rel="prefetch" href="/notes/assets/cssFlexDemo.html.713e2e6d.js"><link rel="prefetch" href="/notes/assets/cssFlexLayout.html.29646f39.js"><link rel="prefetch" href="/notes/assets/cssGridLayout.html.b38a60ca.js"><link rel="prefetch" href="/notes/assets/cssHack.html.f11b5546.js"><link rel="prefetch" href="/notes/assets/cssInlineBlock.html.4d0142e2.js"><link rel="prefetch" href="/notes/assets/cssPriority.html.d25c37ae.js"><link rel="prefetch" href="/notes/assets/cssPseudo.html.4925055f.js"><link rel="prefetch" href="/notes/assets/cssPseudoClass.html.79317bea.js"><link rel="prefetch" href="/notes/assets/cssSelector.html.22ed218e.js"><link rel="prefetch" href="/notes/assets/cssTutorial.html.2a816001.js"><link rel="prefetch" href="/notes/assets/fieldInvalid.html.8aaf8374.js"><link rel="prefetch" href="/notes/assets/frame.html.c5b78398.js"><link rel="prefetch" href="/notes/assets/knowledgePoints.html.1d3fb9d7.js"><link rel="prefetch" href="/notes/assets/linkImport.html.3d40bb1f.js"><link rel="prefetch" href="/notes/assets/stackingContext.html.919eb557.js"><link rel="prefetch" href="/notes/assets/tools.html.6df3ce88.js"><link rel="prefetch" href="/notes/assets/units.html.9cde3463.js"><link rel="prefetch" href="/notes/assets/transform.html.3d84c112.js"><link rel="prefetch" href="/notes/assets/content.html.69c1e5e0.js"><link rel="prefetch" href="/notes/assets/plugins.html.c0a258d9.js"><link rel="prefetch" href="/notes/assets/accesskey.html.e638be37.js"><link rel="prefetch" href="/notes/assets/baseInterview.html.dc18a8ff.js"><link rel="prefetch" href="/notes/assets/canvasSvg.html.fe89bde8.js"><link rel="prefetch" href="/notes/assets/deviceAPI.html.75bef739.js"><link rel="prefetch" href="/notes/assets/globalAttr.html.4f3994ac.js"><link rel="prefetch" href="/notes/assets/htmlDatalist.html.aa776f97.js"><link rel="prefetch" href="/notes/assets/htmlElement.html.694be7a8.js"><link rel="prefetch" href="/notes/assets/interview10.html.09f09c53.js"><link rel="prefetch" href="/notes/assets/interview11.html.7451e625.js"><link rel="prefetch" href="/notes/assets/interview12.html.57bb2f49.js"><link rel="prefetch" href="/notes/assets/interview13.html.000d91d6.js"><link rel="prefetch" href="/notes/assets/interview14.html.90eaceb5.js"><link rel="prefetch" href="/notes/assets/interview15.html.6d3161d9.js"><link rel="prefetch" href="/notes/assets/interview16.html.5d30dab8.js"><link rel="prefetch" href="/notes/assets/interview17.html.7d57d5ff.js"><link rel="prefetch" href="/notes/assets/interview18.html.970befa2.js"><link rel="prefetch" href="/notes/assets/interview19.html.67cd2721.js"><link rel="prefetch" href="/notes/assets/interview20.html.01b611ee.js"><link rel="prefetch" href="/notes/assets/interview21.html.bd1bcc4e.js"><link rel="prefetch" href="/notes/assets/interview22.html.83fc623d.js"><link rel="prefetch" href="/notes/assets/interview23.html.c4599df2.js"><link rel="prefetch" href="/notes/assets/interview24.html.cae639b1.js"><link rel="prefetch" href="/notes/assets/interview25.html.743c3f96.js"><link rel="prefetch" href="/notes/assets/interview26.html.ef3f466a.js"><link rel="prefetch" href="/notes/assets/interview27.html.5b46eaa2.js"><link rel="prefetch" href="/notes/assets/interview28.html.9e0e5f47.js"><link rel="prefetch" href="/notes/assets/interview29.html.925ee38f.js"><link rel="prefetch" href="/notes/assets/interview30.html.7873e1f7.js"><link rel="prefetch" href="/notes/assets/interview31.html.c0a5b7d6.js"><link rel="prefetch" href="/notes/assets/interview32.html.ac19da01.js"><link rel="prefetch" href="/notes/assets/interview33.html.d1591c30.js"><link rel="prefetch" href="/notes/assets/interview34.html.8443ab10.js"><link rel="prefetch" href="/notes/assets/interview35.html.7092b6eb.js"><link rel="prefetch" href="/notes/assets/interview36.html.cd1391a3.js"><link rel="prefetch" href="/notes/assets/interview37.html.67df34d2.js"><link rel="prefetch" href="/notes/assets/interview38.html.ff1fd1b4.js"><link rel="prefetch" href="/notes/assets/interview39.html.751d0c46.js"><link rel="prefetch" href="/notes/assets/interview40.html.63e77ddc.js"><link rel="prefetch" href="/notes/assets/interview41.html.456bb0bf.js"><link rel="prefetch" href="/notes/assets/interview42.html.ddd498df.js"><link rel="prefetch" href="/notes/assets/interview43.html.3192d09b.js"><link rel="prefetch" href="/notes/assets/interview44.html.2bb6879e.js"><link rel="prefetch" href="/notes/assets/interview45.html.574de178.js"><link rel="prefetch" href="/notes/assets/interview46.html.6b7f2eb6.js"><link rel="prefetch" href="/notes/assets/interview47.html.54b243a4.js"><link rel="prefetch" href="/notes/assets/interview48.html.b9762a15.js"><link rel="prefetch" href="/notes/assets/interview49.html.b829f2a5.js"><link rel="prefetch" href="/notes/assets/interview5.html.9f6f451e.js"><link rel="prefetch" href="/notes/assets/interview50.html.e3f794ae.js"><link rel="prefetch" href="/notes/assets/interview51.html.11cee9fd.js"><link rel="prefetch" href="/notes/assets/interview52.html.c957441a.js"><link rel="prefetch" href="/notes/assets/interview53.html.1a8afb67.js"><link rel="prefetch" href="/notes/assets/interview54.html.45a853b5.js"><link rel="prefetch" href="/notes/assets/interview55.html.3a01aec9.js"><link rel="prefetch" href="/notes/assets/interview56.html.4faec3de.js"><link rel="prefetch" href="/notes/assets/interview57.html.a53011ea.js"><link rel="prefetch" href="/notes/assets/interview58.html.f8dff879.js"><link rel="prefetch" href="/notes/assets/interview59.html.6be5c7cb.js"><link rel="prefetch" href="/notes/assets/interview6.html.7e71acd2.js"><link rel="prefetch" href="/notes/assets/interview7.html.6060fab5.js"><link rel="prefetch" href="/notes/assets/interview8.html.662f4f3d.js"><link rel="prefetch" href="/notes/assets/interview9.html.f5c4a5eb.js"><link rel="prefetch" href="/notes/assets/linkImport.html.5c43fedb.js"><link rel="prefetch" href="/notes/assets/offlineStorage.html.51afad50.js"><link rel="prefetch" href="/notes/assets/regular.html.30ef8499.js"><link rel="prefetch" href="/notes/assets/shake.html.f438ecd2.js"><link rel="prefetch" href="/notes/assets/webWorker.html.81c5454f.js"><link rel="prefetch" href="/notes/assets/baseInterview.html.0a70f58f.js"><link rel="prefetch" href="/notes/assets/cors.html.88078404.js"><link rel="prefetch" href="/notes/assets/crossDomainCookie.html.76eb5642.js"><link rel="prefetch" href="/notes/assets/fetch.html.02767e24.js"><link rel="prefetch" href="/notes/assets/nestAxios.html.183081db.js"><link rel="prefetch" href="/notes/assets/debounce.html.0e741df9.js"><link rel="prefetch" href="/notes/assets/lodashPrinciple.html.fed84d3d.js"><link rel="prefetch" href="/notes/assets/lodashThrottleDebounce.html.b0c47904.js"><link rel="prefetch" href="/notes/assets/throttle.html.5af8cd6c.js"><link rel="prefetch" href="/notes/assets/throttleDebounceReact.html.0f48e78c.js"><link rel="prefetch" href="/notes/assets/cloneIntroduction.html.e094fc49.js"><link rel="prefetch" href="/notes/assets/deepClone.html.0563006a.js"><link rel="prefetch" href="/notes/assets/lodashDeepClone.html.c494241f.js"><link rel="prefetch" href="/notes/assets/objectAssign.html.311609d8.js"><link rel="prefetch" href="/notes/assets/arraySourceCode.html.e1c2aeca.js"><link rel="prefetch" href="/notes/assets/baseHigh.html.b9d6ea4d.js"><link rel="prefetch" href="/notes/assets/currying.html.244cc271.js"><link rel="prefetch" href="/notes/assets/baseInterview.html.4479f99c.js"><link rel="prefetch" href="/notes/assets/eventLoop.html.dd59fa4d.js"><link rel="prefetch" href="/notes/assets/iife.html.e7fd3a36.js"><link rel="prefetch" href="/notes/assets/interview1.html.899728ae.js"><link rel="prefetch" href="/notes/assets/jsCompatible.html.6e3c28ef.js"><link rel="prefetch" href="/notes/assets/baseProyotype.html.d06317d6.js"><link rel="prefetch" href="/notes/assets/functionObjectResource.html.0beefcd9.js"><link rel="prefetch" href="/notes/assets/prototypeInherit.html.a2f1810b.js"><link rel="prefetch" href="/notes/assets/closureInterview.html.faff273d.js"><link rel="prefetch" href="/notes/assets/scopeChain.html.dfa3a8f4.js"><link rel="prefetch" href="/notes/assets/understandingClosures.html.cdb4a397.js"><link rel="prefetch" href="/notes/assets/executionStack.html.65080c12.js"><link rel="prefetch" href="/notes/assets/memoryLeak.html.7c52b75a.js"><link rel="prefetch" href="/notes/assets/memoryMechanism.html.176570e0.js"><link rel="prefetch" href="/notes/assets/memorySpace.html.6155acc0.js"><link rel="prefetch" href="/notes/assets/precompiled.html.aaca9c13.js"><link rel="prefetch" href="/notes/assets/variableObject.html.891241af.js"><link rel="prefetch" href="/notes/assets/arrowFunctionThis.html.d931bb99.js"><link rel="prefetch" href="/notes/assets/bindSimulation.html.905ec84a.js"><link rel="prefetch" href="/notes/assets/callApply.html.58a6e080.js"><link rel="prefetch" href="/notes/assets/newSimulation.html.b3faf2bc.js"><link rel="prefetch" href="/notes/assets/thisBind.html.45d8eba8.js"><link rel="prefetch" href="/notes/assets/interview1.html.8dfa87fe.js"><link rel="prefetch" href="/notes/assets/interview10.html.75cc5e07.js"><link rel="prefetch" href="/notes/assets/interview11.html.0c4f982d.js"><link rel="prefetch" href="/notes/assets/interview12.html.01dee691.js"><link rel="prefetch" href="/notes/assets/interview13.html.2bf72612.js"><link rel="prefetch" href="/notes/assets/interview14.html.dc87e9bf.js"><link rel="prefetch" href="/notes/assets/interview15.html.9b442142.js"><link rel="prefetch" href="/notes/assets/interview16.html.20487da3.js"><link rel="prefetch" href="/notes/assets/interview17.html.61b31436.js"><link rel="prefetch" href="/notes/assets/interview18.html.8758ad27.js"><link rel="prefetch" href="/notes/assets/interview19.html.e755e06e.js"><link rel="prefetch" href="/notes/assets/interview2.html.571913f9.js"><link rel="prefetch" href="/notes/assets/interview20.html.8be53874.js"><link rel="prefetch" href="/notes/assets/interview21.html.7d031a37.js"><link rel="prefetch" href="/notes/assets/interview22.html.9b10aa47.js"><link rel="prefetch" href="/notes/assets/interview23.html.f73dc91f.js"><link rel="prefetch" href="/notes/assets/interview24.html.ab7ad5f9.js"><link rel="prefetch" href="/notes/assets/interview25.html.884dae8b.js"><link rel="prefetch" href="/notes/assets/interview26.html.85e81e0b.js"><link rel="prefetch" href="/notes/assets/interview27.html.0672dea9.js"><link rel="prefetch" href="/notes/assets/interview28.html.495c2a3a.js"><link rel="prefetch" href="/notes/assets/interview29.html.0f0acaa6.js"><link rel="prefetch" href="/notes/assets/interview3.html.675fb640.js"><link rel="prefetch" href="/notes/assets/interview30.html.dfbf8fa7.js"><link rel="prefetch" href="/notes/assets/interview4.html.10ba802f.js"><link rel="prefetch" href="/notes/assets/interview5.html.8cc39933.js"><link rel="prefetch" href="/notes/assets/interview6.html.6e753bf0.js"><link rel="prefetch" href="/notes/assets/interview7.html.c5a4ba45.js"><link rel="prefetch" href="/notes/assets/interview8.html.1ff05252.js"><link rel="prefetch" href="/notes/assets/interview9.html.0b8c8413.js"><link rel="prefetch" href="/notes/assets/adjacentSiblingCombinator.html.03d98a43.js"><link rel="prefetch" href="/notes/assets/attributeSelectors.html.c68474f9.js"><link rel="prefetch" href="/notes/assets/charset.html.cad8b82d.js"><link rel="prefetch" href="/notes/assets/childCombinator.html.5a2c2204.js"><link rel="prefetch" href="/notes/assets/classSelectors.html.151bd104.js"><link rel="prefetch" href="/notes/assets/descendantCombinator.html.d9a40850.js"><link rel="prefetch" href="/notes/assets/generalSiblingCombinator.html.6ccb0384.js"><link rel="prefetch" href="/notes/assets/iDSelectors.html.8ae75816.js"><link rel="prefetch" href="/notes/assets/pseudoClasses.html.e222b82a.js"><link rel="prefetch" href="/notes/assets/pseudoElements.html.0893bfff.js"><link rel="prefetch" href="/notes/assets/selectorList.html.96b02a30.js"><link rel="prefetch" href="/notes/assets/typeSelectors.html.1c6b6353.js"><link rel="prefetch" href="/notes/assets/universalSelectors.html.fbbbfe2f.js"><link rel="prefetch" href="/notes/assets/IterationProtocols.html.7fa98cb2.js"><link rel="prefetch" href="/notes/assets/arrayFlat.html.67d6ab57.js"><link rel="prefetch" href="/notes/assets/asyncHistory.html.600d1e01.js"><link rel="prefetch" href="/notes/assets/eventLoop.html.85fa60db.js"><link rel="prefetch" href="/notes/assets/fileReader.html.ca0c2664.js"><link rel="prefetch" href="/notes/assets/formData.html.6578e826.js"><link rel="prefetch" href="/notes/assets/functionGenerator.html.2b0ec8fc.js"><link rel="prefetch" href="/notes/assets/generator.html.5e21af8a.js"><link rel="prefetch" href="/notes/assets/intersectionObserver.html.ada3cc04.js"><link rel="prefetch" href="/notes/assets/map.html.442b7c8d.js"><link rel="prefetch" href="/notes/assets/promise.html.ddb903e5.js"><link rel="prefetch" href="/notes/assets/set.html.0f9a8793.js"><link rel="prefetch" href="/notes/assets/string.html.d52c7578.js"><link rel="prefetch" href="/notes/assets/symbol.html.49559aa0.js"><link rel="prefetch" href="/notes/assets/xMLHttpRequest.html.7dfb7357.js"><link rel="prefetch" href="/notes/assets/spreadSyntax.html.f86cb3a4.js"><link rel="prefetch" href="/notes/assets/strictMode.html.8a21c49f.js"><link rel="prefetch" href="/notes/assets/cache.html.368a7528.js"><link rel="prefetch" href="/notes/assets/drag1.html.c4e1f968.js"><link rel="prefetch" href="/notes/assets/oneLineCode.html.9b0e0f29.js"><link rel="prefetch" href="/notes/assets/oneLineCodeArray.html.bb1b11db.js"><link rel="prefetch" href="/notes/assets/oneLineCodeDOM.html.1511e4b1.js"><link rel="prefetch" href="/notes/assets/oneLineCodeDateTime.html.80cd9435.js"><link rel="prefetch" href="/notes/assets/oneLineCodeFunction.html.05d84375.js"><link rel="prefetch" href="/notes/assets/oneLineCodeMath.html.4ab68d1b.js"><link rel="prefetch" href="/notes/assets/oneLineCodeMisc.html.a5280aea.js"><link rel="prefetch" href="/notes/assets/oneLineCodeNumber.html.e5b206c7.js"><link rel="prefetch" href="/notes/assets/oneLineCodeObject.html.e4b81ac7.js"><link rel="prefetch" href="/notes/assets/oneLineCodeRandom.html.25c89c47.js"><link rel="prefetch" href="/notes/assets/oneLineCodeString.html.4adc8ab9.js"><link rel="prefetch" href="/notes/assets/oneLineCodeValidator.html.d582414f.js"><link rel="prefetch" href="/notes/assets/typeScriptCache.html.261d41ad.js"><link rel="prefetch" href="/notes/assets/reactBase.html.503ea5fc.js"><link rel="prefetch" href="/notes/assets/reactTypescript.html.2b7f17e0.js"><link rel="prefetch" href="/notes/assets/vue2Base.html.f64821f1.js"><link rel="prefetch" href="/notes/assets/vue2Table.html.e401f53c.js"><link rel="prefetch" href="/notes/assets/vue2offsetTop.html.b90ec92f.js"><link rel="prefetch" href="/notes/assets/componentWillXXX.html.3d3be0c6.js"><link rel="prefetch" href="/notes/assets/disrupt.html.60e9c50b.js"><link rel="prefetch" href="/notes/assets/lane.html.6bdca8ed.js"><link rel="prefetch" href="/notes/assets/prepare.html.a4ff07c1.js"><link rel="prefetch" href="/notes/assets/redux.html.c7dc256c.js"><link rel="prefetch" href="/notes/assets/scheduler.html.6d318b04.js"><link rel="prefetch" href="/notes/assets/multi.html.60702603.js"><link rel="prefetch" href="/notes/assets/one.html.0b04b252.js"><link rel="prefetch" href="/notes/assets/prepare.html.2c0f7716.js"><link rel="prefetch" href="/notes/assets/create.html.c3cc733c.js"><link rel="prefetch" href="/notes/assets/prepare.html.8c7c446e.js"><link rel="prefetch" href="/notes/assets/structure.html.4a4bfb0d.js"><link rel="prefetch" href="/notes/assets/useeffect.html.7afafbd1.js"><link rel="prefetch" href="/notes/assets/usememo.html.5e25a2dc.js"><link rel="prefetch" href="/notes/assets/useref.html.b2450f52.js"><link rel="prefetch" href="/notes/assets/usestate.html.9c0701fb.js"><link rel="prefetch" href="/notes/assets/file.html.409f66f0.js"><link rel="prefetch" href="/notes/assets/idea.html.220d22ad.js"><link rel="prefetch" href="/notes/assets/jsx.html.fec2b7ce.js"><link rel="prefetch" href="/notes/assets/newConstructure.html.48a67b2f.js"><link rel="prefetch" href="/notes/assets/oldConstructure.html.c3f818bf.js"><link rel="prefetch" href="/notes/assets/source.html.826b9e47.js"><link rel="prefetch" href="/notes/assets/summary.html.12445456.js"><link rel="prefetch" href="/notes/assets/basePrinciple.html.3868922a.js"><link rel="prefetch" href="/notes/assets/componentApi.html.0567ec84.js"><link rel="prefetch" href="/notes/assets/domApi.html.d6dd3a45.js"><link rel="prefetch" href="/notes/assets/hoc.html.5144de3a.js"><link rel="prefetch" href="/notes/assets/hookApi.html.4005fe10.js"><link rel="prefetch" href="/notes/assets/hookCustom.html.d3a0b093.js"><link rel="prefetch" href="/notes/assets/hookPrinciple.html.9aacbdf5.js"><link rel="prefetch" href="/notes/assets/hookUse.html.7c80445e.js"><link rel="prefetch" href="/notes/assets/reactKeeplive.html.1846952f.js"><link rel="prefetch" href="/notes/assets/reactRouter.html.533e6d05.js"><link rel="prefetch" href="/notes/assets/toolApi.html.93611800.js"><link rel="prefetch" href="/notes/assets/beginWork.html.f2d2dfc6.js"><link rel="prefetch" href="/notes/assets/completeWork.html.412a9dc0.js"><link rel="prefetch" href="/notes/assets/doubleBuffer.html.dc4d1922.js"><link rel="prefetch" href="/notes/assets/fiber-mental.html.981e31e4.js"><link rel="prefetch" href="/notes/assets/fiber.html.175c6004.js"><link rel="prefetch" href="/notes/assets/reconciler.html.a3218c38.js"><link rel="prefetch" href="/notes/assets/beforeMutation.html.8d4ea20b.js"><link rel="prefetch" href="/notes/assets/layout.html.0f6de580.js"><link rel="prefetch" href="/notes/assets/mutation.html.194fdb03.js"><link rel="prefetch" href="/notes/assets/prepare.html.fb274b42.js"><link rel="prefetch" href="/notes/assets/mental.html.541b303a.js"><link rel="prefetch" href="/notes/assets/prepare.html.5d6ff9cb.js"><link rel="prefetch" href="/notes/assets/priority.html.92db7070.js"><link rel="prefetch" href="/notes/assets/reactdom.html.0c535a57.js"><link rel="prefetch" href="/notes/assets/setstate.html.6b0b459a.js"><link rel="prefetch" href="/notes/assets/update.html.f88219c2.js"><link rel="prefetch" href="/notes/assets/bitfiled.html.e3ce4640.js"><link rel="prefetch" href="/notes/assets/dfs.html.56fdc032.js"><link rel="prefetch" href="/notes/assets/diff.html.232e0a17.js"><link rel="prefetch" href="/notes/assets/heapsort.html.6e054462.js"><link rel="prefetch" href="/notes/assets/linkedlist.html.4e1fb50e.js"><link rel="prefetch" href="/notes/assets/stack.html.581119e1.js"><link rel="prefetch" href="/notes/assets/bootstrap.html.933d4936.js"><link rel="prefetch" href="/notes/assets/context.html.530e5e04.js"><link rel="prefetch" href="/notes/assets/fibertree-commit.html.8b0645c4.js"><link rel="prefetch" href="/notes/assets/fibertree-create.html.66313eb7.js"><link rel="prefetch" href="/notes/assets/fibertree-prepare.html.032402f7.js"><link rel="prefetch" href="/notes/assets/fibertree-update.html.502cf625.js"><link rel="prefetch" href="/notes/assets/hook-effect.html.316f4423.js"><link rel="prefetch" href="/notes/assets/hook-state.html.2f220ceb.js"><link rel="prefetch" href="/notes/assets/hook-summary.html.7f9e9dd3.js"><link rel="prefetch" href="/notes/assets/macro-structure.html.ba481eb2.js"><link rel="prefetch" href="/notes/assets/object-structure.html.ccf5e554.js"><link rel="prefetch" href="/notes/assets/priority.html.d731cb4a.js"><link rel="prefetch" href="/notes/assets/reconciler-workflow.html.474b9761.js"><link rel="prefetch" href="/notes/assets/scheduler.html.4bf5c4af.js"><link rel="prefetch" href="/notes/assets/state-effects.html.7e16b30f.js"><link rel="prefetch" href="/notes/assets/synthetic-event.html.b609d141.js"><link rel="prefetch" href="/notes/assets/workloop.html.4adeffa8.js"><link rel="prefetch" href="/notes/assets/ast.html.9a63ab11.js"><link rel="prefetch" href="/notes/assets/binder.html.a219046c.js"><link rel="prefetch" href="/notes/assets/checker.html.a1e0a2c0.js"><link rel="prefetch" href="/notes/assets/emitter.html.5e3abe0e.js"><link rel="prefetch" href="/notes/assets/overview.html.2d9c501a.js"><link rel="prefetch" href="/notes/assets/parser.html.29d2bad1.js"><link rel="prefetch" href="/notes/assets/program.html.7028845a.js"><link rel="prefetch" href="/notes/assets/scanner.html.5492f92d.js"><link rel="prefetch" href="/notes/assets/common.html.2de17b1e.js"><link rel="prefetch" href="/notes/assets/interpreting.html.8ef2bacd.js"><link rel="prefetch" href="/notes/assets/class.html.71684068.js"><link rel="prefetch" href="/notes/assets/commandline-behavior.html.f48f1deb.js"><link rel="prefetch" href="/notes/assets/comments.html.dbabbb2a.js"><link rel="prefetch" href="/notes/assets/common-bug-not-bugs.html.489a7e46.js"><link rel="prefetch" href="/notes/assets/common-feature-request.html.82fce904.js"><link rel="prefetch" href="/notes/assets/decorators.html.d08d6558.js"><link rel="prefetch" href="/notes/assets/enums.html.e63a9560.js"><link rel="prefetch" href="/notes/assets/function.html.a3b347e9.js"><link rel="prefetch" href="/notes/assets/generics.html.972d6b82.js"><link rel="prefetch" href="/notes/assets/glossary-and-terms.html.cec9a32b.js"><link rel="prefetch" href="/notes/assets/jsx-and-react.html.64aa7ae5.js"><link rel="prefetch" href="/notes/assets/modules.html.9c836d94.js"><link rel="prefetch" href="/notes/assets/thing-that-dont-work.html.63287c47.js"><link rel="prefetch" href="/notes/assets/tsconfig-behavior.html.d7c099bb.js"><link rel="prefetch" href="/notes/assets/type-guards.html.1c6febb3.js"><link rel="prefetch" href="/notes/assets/type-system-behavior.html.3ee9711f.js"><link rel="prefetch" href="/notes/assets/nonReactJSX.html.bc0aeb2c.js"><link rel="prefetch" href="/notes/assets/reactJSX.html.e4779f8a.js"><link rel="prefetch" href="/notes/assets/support.html.8bdc0029.js"><link rel="prefetch" href="/notes/assets/typescript-3.7.html.983cd835.js"><link rel="prefetch" href="/notes/assets/typescript-3.8.html.cb0aec4c.js"><link rel="prefetch" href="/notes/assets/typescript-3.9.html.8d9efaf5.js"><link rel="prefetch" href="/notes/assets/compilationContext.html.0a0ee423.js"><link rel="prefetch" href="/notes/assets/declarationspaces.html.1c1dd8f7.js"><link rel="prefetch" href="/notes/assets/dynamicImportExpressions.html.71478bd3.js"><link rel="prefetch" href="/notes/assets/inDepthTs.html.f6c03688.js"><link rel="prefetch" href="/notes/assets/modules.html.ea84132d.js"><link rel="prefetch" href="/notes/assets/namespaces.html.637fa22c.js"><link rel="prefetch" href="/notes/assets/unknownAny.html.cb741975.js"><link rel="prefetch" href="/notes/assets/avoidExportDefault.html.8d52d0da.js"><link rel="prefetch" href="/notes/assets/barrel.html.8f40c1c7.js"><link rel="prefetch" href="/notes/assets/bind.html.ef153152.js"><link rel="prefetch" href="/notes/assets/buildToggles.html.0f22767a.js"><link rel="prefetch" href="/notes/assets/classAreUseful.html.58e2dabf.js"><link rel="prefetch" href="/notes/assets/covarianceAndContravariance.html.d0d1b035.js"><link rel="prefetch" href="/notes/assets/createArrays.html.0e227c5c.js"><link rel="prefetch" href="/notes/assets/curry.html.1c9a5de3.js"><link rel="prefetch" href="/notes/assets/functionParameters.html.b9a640a4.js"><link rel="prefetch" href="/notes/assets/infer.html.596018ae.js"><link rel="prefetch" href="/notes/assets/lazyObjectLiteralInitialization.html.fdd07bff.js"><link rel="prefetch" href="/notes/assets/limitPropertySetters.html.1720d04e.js"><link rel="prefetch" href="/notes/assets/metadata.html.b22d00aa.js"><link rel="prefetch" href="/notes/assets/nominalTyping.html.beec167d.js"><link rel="prefetch" href="/notes/assets/outFileCaution.html.14061280.js"><link rel="prefetch" href="/notes/assets/singletonPatern.html.f21d254a.js"><link rel="prefetch" href="/notes/assets/statefulFunctions.html.d63c649e.js"><link rel="prefetch" href="/notes/assets/staticConstructors.html.c9c8df45.js"><link rel="prefetch" href="/notes/assets/stringBasedEmuns.html.a305d6ea.js"><link rel="prefetch" href="/notes/assets/truthy.html.7f66eb04.js"><link rel="prefetch" href="/notes/assets/typeInstantiation.html.46ce0962.js"><link rel="prefetch" href="/notes/assets/typesafeEventEmitter.html.daf4733c.js"><link rel="prefetch" href="/notes/assets/ambient.html.48146e03.js"><link rel="prefetch" href="/notes/assets/callable.html.29da55b6.js"><link rel="prefetch" href="/notes/assets/discrominatedUnion.html.d610171f.js"><link rel="prefetch" href="/notes/assets/enums.html.539f215c.js"><link rel="prefetch" href="/notes/assets/exceptionsHanding.html.612fda8b.js"><link rel="prefetch" href="/notes/assets/freshness.html.370f3c06.js"><link rel="prefetch" href="/notes/assets/functions.html.512ad0b1.js"><link rel="prefetch" href="/notes/assets/generices.html.f4aca1e8.js"><link rel="prefetch" href="/notes/assets/indexSignatures.html.8e4e0907.js"><link rel="prefetch" href="/notes/assets/interfaces.html.fde540af.js"><link rel="prefetch" href="/notes/assets/lib.html.9146e7cd.js"><link rel="prefetch" href="/notes/assets/literals.html.21063322.js"><link rel="prefetch" href="/notes/assets/migrating.html.11c1b6a2.js"><link rel="prefetch" href="/notes/assets/mixins.html.d504752f.js"><link rel="prefetch" href="/notes/assets/movingTypes.html.99591e46.js"><link rel="prefetch" href="/notes/assets/neverType.html.cc408da8.js"><link rel="prefetch" href="/notes/assets/overview.html.2eef097c.js"><link rel="prefetch" href="/notes/assets/readonly.html.8488ca14.js"><link rel="prefetch" href="/notes/assets/thisType.html.32380aac.js"><link rel="prefetch" href="/notes/assets/typeAssertion.html.8ca3efbe.js"><link rel="prefetch" href="/notes/assets/typeCompatibility.html.07250fa7.js"><link rel="prefetch" href="/notes/assets/typeGuard.html.c15461ff.js"><link rel="prefetch" href="/notes/assets/typeInference.html.64b555a3.js"><link rel="prefetch" href="/notes/assets/types.html.68c1f8df.js"><link rel="prefetch" href="/notes/assets/pluginDva.html.e15756e5.js"><link rel="prefetch" href="/notes/assets/pluginQiankun.html.b9450b61.js"><link rel="prefetch" href="/notes/assets/codegen.html.d8c0ff69.js"><link rel="prefetch" href="/notes/assets/entrance.html.3ab2a5ef.js"><link rel="prefetch" href="/notes/assets/optimize.html.6b812b85.js"><link rel="prefetch" href="/notes/assets/outline.html.8e15633d.js"><link rel="prefetch" href="/notes/assets/parse.html.ed2bc6c0.js"><link rel="prefetch" href="/notes/assets/async-component.html.abcb5d86.js"><link rel="prefetch" href="/notes/assets/component-register.html.7812b7db.js"><link rel="prefetch" href="/notes/assets/create-component.html.9e32052a.js"><link rel="prefetch" href="/notes/assets/lifecycle.html.0348926b.js"><link rel="prefetch" href="/notes/assets/merge-option.html.e85f9d86.js"><link rel="prefetch" href="/notes/assets/outline.html.fa88e23e.js"><link rel="prefetch" href="/notes/assets/patch.html.70b1ef22.js"><link rel="prefetch" href="/notes/assets/_index.html.8249c732.js"><link rel="prefetch" href="/notes/assets/create-element.html.dbdd47dc.js"><link rel="prefetch" href="/notes/assets/mounted.html.defea20c.js"><link rel="prefetch" href="/notes/assets/new-vue.html.122e5b4e.js"><link rel="prefetch" href="/notes/assets/render.html.bde3561d.js"><link rel="prefetch" href="/notes/assets/update.html.c7eb6a9c.js"><link rel="prefetch" href="/notes/assets/virtual-dom.html.c21a2994.js"><link rel="prefetch" href="/notes/assets/event.html.10e0cb19.js"><link rel="prefetch" href="/notes/assets/keep-alive.html.6cbde32b.js"><link rel="prefetch" href="/notes/assets/outline.html.7240be27.js"><link rel="prefetch" href="/notes/assets/slot.html.d5eb4989.js"><link rel="prefetch" href="/notes/assets/tansition-group.html.46b441c8.js"><link rel="prefetch" href="/notes/assets/tansition.html.62973d99.js"><link rel="prefetch" href="/notes/assets/v-model.html.034f5fba.js"><link rel="prefetch" href="/notes/assets/baseInterview.html.8a0ca8a7.js"><link rel="prefetch" href="/notes/assets/baseInterviewSecond.html.ee86c87a.js"><link rel="prefetch" href="/notes/assets/componentCommunication.html.9d20fea7.js"><link rel="prefetch" href="/notes/assets/detailedResponsiveness.html.db60ce57.js"><link rel="prefetch" href="/notes/assets/diff.html.65d5d3c5.js"><link rel="prefetch" href="/notes/assets/eventBinding.html.1345bfc8.js"><link rel="prefetch" href="/notes/assets/eventMechanism.html.b2904c87.js"><link rel="prefetch" href="/notes/assets/key.html.81ebdde9.js"><link rel="prefetch" href="/notes/assets/knowledgeSystem.html.62a7eac6.js"><link rel="prefetch" href="/notes/assets/slot.html.227982ae.js"><link rel="prefetch" href="/notes/assets/sourceCodeAsyncDomUpdateNextTick.html.be6e27a7.js"><link rel="prefetch" href="/notes/assets/sourceCodeElementBroadcastDispatch.html.12fa2480.js"><link rel="prefetch" href="/notes/assets/sourceCodeKeepAlive.html.a8a2e742.js"><link rel="prefetch" href="/notes/assets/sourceCodeResponsiveness.html.20c1c90d.js"><link rel="prefetch" href="/notes/assets/sourceCodeTemplateCompilation.html.be7a0276.js"><link rel="prefetch" href="/notes/assets/sourceCodeTemplateDom.html.a324d87d.js"><link rel="prefetch" href="/notes/assets/sourceCodeVuex.html.60577f70.js"><link rel="prefetch" href="/notes/assets/templateCompilation.html.93b3a5a7.js"><link rel="prefetch" href="/notes/assets/vNode.html.ef2b522a.js"><link rel="prefetch" href="/notes/assets/vNodeDiff.html.a9a18290.js"><link rel="prefetch" href="/notes/assets/build.html.6566bc89.js"><link rel="prefetch" href="/notes/assets/directory.html.fa4c3471.js"><link rel="prefetch" href="/notes/assets/entrance.html.73626535.js"><link rel="prefetch" href="/notes/assets/flow.html.52f97f44.js"><link rel="prefetch" href="/notes/assets/component-update.html.93bbbb25.js"><link rel="prefetch" href="/notes/assets/computed-watcher.html.18d34055.js"><link rel="prefetch" href="/notes/assets/getters.html.80223268.js"><link rel="prefetch" href="/notes/assets/next-tick.html.90f1173c.js"><link rel="prefetch" href="/notes/assets/outline.html.bf7bfbbd.js"><link rel="prefetch" href="/notes/assets/props.html.c5de9ee5.js"><link rel="prefetch" href="/notes/assets/questions.html.381ddb15.js"><link rel="prefetch" href="/notes/assets/reactive-object.html.3cea2e73.js"><link rel="prefetch" href="/notes/assets/setters.html.e258a9c7.js"><link rel="prefetch" href="/notes/assets/summary.html.0a83da78.js"><link rel="prefetch" href="/notes/assets/install.html.e5406bd6.js"><link rel="prefetch" href="/notes/assets/matcher.html.2de93377.js"><link rel="prefetch" href="/notes/assets/outline.html.c58c28ac.js"><link rel="prefetch" href="/notes/assets/router.html.82fb2dc5.js"><link rel="prefetch" href="/notes/assets/transition-to.html.dc12c7d0.js"><link rel="prefetch" href="/notes/assets/api.html.6f051702.js"><link rel="prefetch" href="/notes/assets/idex.html.de227c36.js"><link rel="prefetch" href="/notes/assets/init.html.180db5a2.js"><link rel="prefetch" href="/notes/assets/plugin.html.cfdb6d17.js"><link rel="prefetch" href="/notes/assets/baseInterview.html.7de7cab4.js"><link rel="prefetch" href="/notes/assets/configuration.html.91dc53a2.js"><link rel="prefetch" href="/notes/assets/entryPoints.html.8e3e855a.js"><link rel="prefetch" href="/notes/assets/loader.html.1dc3c32c.js"><link rel="prefetch" href="/notes/assets/output.html.df7e33e1.js"><link rel="prefetch" href="/notes/assets/plugin.html.6fcb9042.js"><link rel="prefetch" href="/notes/assets/webpackInterview.html.683233f1.js"><link rel="prefetch" href="/notes/assets/reactApi.html.bf3c0b76.js"><link rel="prefetch" href="/notes/assets/reactChildren.html.7793bdfb.js"><link rel="prefetch" href="/notes/assets/reactElement.html.6852c9c2.js"><link rel="prefetch" href="/notes/assets/reactFiber.html.9a33a785.js"><link rel="prefetch" href="/notes/assets/commitAllHostEffects.html.46321993.js"><link rel="prefetch" href="/notes/assets/commitAllLifeCycles.html.8b8ea7e6.js"><link rel="prefetch" href="/notes/assets/commitBeforeMutationLifecycles.html.5e861df3.js"><link rel="prefetch" href="/notes/assets/commitDeletion.html.15df04f9.js"><link rel="prefetch" href="/notes/assets/commitPlacement.html.e76d7112.js"><link rel="prefetch" href="/notes/assets/commitRoot.html.706a293c.js"><link rel="prefetch" href="/notes/assets/commitWork.html.c8f6cec3.js"><link rel="prefetch" href="/notes/assets/invokeGuardedCallback.html.cc5a8e61.js"><link rel="prefetch" href="/notes/assets/expirationTime.html.5312cbd7.js"><link rel="prefetch" href="/notes/assets/reactDomRender.html.ca921bd1.js"><link rel="prefetch" href="/notes/assets/setStateForceUpdate.html.b3925da9.js"><link rel="prefetch" href="/notes/assets/context.html.0ea722e5.js"><link rel="prefetch" href="/notes/assets/evenInit.html.65982f9e.js"><link rel="prefetch" href="/notes/assets/eventBind.html.120ea1da.js"><link rel="prefetch" href="/notes/assets/eventCreateEventObject.html.27b6db90.js"><link rel="prefetch" href="/notes/assets/eventDispath.html.f5664ed3.js"><link rel="prefetch" href="/notes/assets/hydrate.html.f727cd7f.js"><link rel="prefetch" href="/notes/assets/ref.html.59cbf1ad.js"><link rel="prefetch" href="/notes/assets/suspense.html.b1f6282d.js"><link rel="prefetch" href="/notes/assets/suspenseLazy.html.c9bdfd12.js"><link rel="prefetch" href="/notes/assets/suspenseWork.html.231134be.js"><link rel="prefetch" href="/notes/assets/hooksCommon.html.dcc7f744.js"><link rel="prefetch" href="/notes/assets/hooksOther.html.965688cc.js"><link rel="prefetch" href="/notes/assets/start.html.27eb157c.js"><link rel="prefetch" href="/notes/assets/useEffect.html.fd6c0769.js"><link rel="prefetch" href="/notes/assets/useState.html.1c535882.js"><link rel="prefetch" href="/notes/assets/base.html.373880b2.js"><link rel="prefetch" href="/notes/assets/commpontDiff.html.5eff054c.js"><link rel="prefetch" href="/notes/assets/componentUpdate.html.f1b4b9f1.js"><link rel="prefetch" href="/notes/assets/renderProcess.html.380a270a.js"><link rel="prefetch" href="/notes/assets/schedulingPrinciple.html.d473671d.js"><link rel="prefetch" href="/notes/assets/beginWork.html.533dc090.js"><link rel="prefetch" href="/notes/assets/globalVariable.html.6c3a8dca.js"><link rel="prefetch" href="/notes/assets/mountIndeterminateComponent.html.26ff6d0d.js"><link rel="prefetch" href="/notes/assets/mountLazyCompont.html.d54b60cf.js"><link rel="prefetch" href="/notes/assets/performUnitOfWork.html.2a7e681e.js"><link rel="prefetch" href="/notes/assets/performWork.html.b8409467.js"><link rel="prefetch" href="/notes/assets/reactScheduler.html.6719feb0.js"><link rel="prefetch" href="/notes/assets/reconcileChildren.html.ef92b0d3.js"><link rel="prefetch" href="/notes/assets/reconcileChildrenArray.html.23c591ad.js"><link rel="prefetch" href="/notes/assets/reconcileSingleElement.html.08397dca.js"><link rel="prefetch" href="/notes/assets/renderRoot.html.20c09e9b.js"><link rel="prefetch" href="/notes/assets/scheduleWork.html.bb4aa8ef.js"><link rel="prefetch" href="/notes/assets/throwException.html.e1c8692a.js"><link rel="prefetch" href="/notes/assets/updateClassComponent.html.6c8d478f.js"><link rel="prefetch" href="/notes/assets/updateContextConsumer.html.fd719a5f.js"><link rel="prefetch" href="/notes/assets/updateContextProvider.html.6378fb0f.js"><link rel="prefetch" href="/notes/assets/updateForwardRef.html.be89c6c6.js"><link rel="prefetch" href="/notes/assets/updateFragment.html.b7878506.js"><link rel="prefetch" href="/notes/assets/updateFunctionalComponent.html.217a9bb2.js"><link rel="prefetch" href="/notes/assets/updateHostComponent.html.9e899033.js"><link rel="prefetch" href="/notes/assets/updateHostRoot.html.006d06eb.js"><link rel="prefetch" href="/notes/assets/updateHostText.html.87da4e1a.js"><link rel="prefetch" href="/notes/assets/updateMode.html.15c739d8.js"><link rel="prefetch" href="/notes/assets/updatePortalComponent.html.b30447ce.js"><link rel="prefetch" href="/notes/assets/updateProfiler.html.e0284500.js"><link rel="prefetch" href="/notes/assets/updateSuspenseComponent.html.94df98c9.js"><link rel="prefetch" href="/notes/assets/interview1.html.edc64764.js"><link rel="prefetch" href="/notes/assets/interview2.html.6c5d6d32.js"><link rel="prefetch" href="/notes/assets/interview3.html.43636370.js"><link rel="prefetch" href="/notes/assets/interview51.html.be85ee8f.js"><link rel="prefetch" href="/notes/assets/interview52.html.a17243bf.js"><link rel="prefetch" href="/notes/assets/interview53.html.f55d39e7.js"><link rel="prefetch" href="/notes/assets/interview54.html.b1577ad7.js"><link rel="prefetch" href="/notes/assets/interview55.html.5964d917.js"><link rel="prefetch" href="/notes/assets/interview56.html.810bbff2.js"><link rel="prefetch" href="/notes/assets/interview57.html.8b784d71.js"><link rel="prefetch" href="/notes/assets/interview1.html.f318f6fb.js"><link rel="prefetch" href="/notes/assets/interview10.html.12078bd6.js"><link rel="prefetch" href="/notes/assets/interview11.html.15f6059b.js"><link rel="prefetch" href="/notes/assets/interview12.html.f0ce3358.js"><link rel="prefetch" href="/notes/assets/interview13.html.779e3f2d.js"><link rel="prefetch" href="/notes/assets/interview14.html.9b1b59e8.js"><link rel="prefetch" href="/notes/assets/interview15.html.29ac1648.js"><link rel="prefetch" href="/notes/assets/interview16.html.a8ae61cb.js"><link rel="prefetch" href="/notes/assets/interview17.html.7d465130.js"><link rel="prefetch" href="/notes/assets/interview18.html.8cd86c17.js"><link rel="prefetch" href="/notes/assets/interview19.html.3995bcba.js"><link rel="prefetch" href="/notes/assets/interview2.html.83a91620.js"><link rel="prefetch" href="/notes/assets/interview20.html.48274523.js"><link rel="prefetch" href="/notes/assets/interview21.html.83b4ab4f.js"><link rel="prefetch" href="/notes/assets/interview22.html.cce479fd.js"><link rel="prefetch" href="/notes/assets/interview23.html.ee9c4db0.js"><link rel="prefetch" href="/notes/assets/interview24.html.8c7608d6.js"><link rel="prefetch" href="/notes/assets/interview25.html.068c224f.js"><link rel="prefetch" href="/notes/assets/interview26.html.c3c4d95b.js"><link rel="prefetch" href="/notes/assets/interview27.html.c36ec185.js"><link rel="prefetch" href="/notes/assets/interview28.html.ac418906.js"><link rel="prefetch" href="/notes/assets/interview29.html.de8bf94d.js"><link rel="prefetch" href="/notes/assets/interview3.html.3c5783ec.js"><link rel="prefetch" href="/notes/assets/interview30.html.fb534b7e.js"><link rel="prefetch" href="/notes/assets/interview31.html.fcd9520e.js"><link rel="prefetch" href="/notes/assets/interview32.html.31b08e5a.js"><link rel="prefetch" href="/notes/assets/interview33.html.2dec6056.js"><link rel="prefetch" href="/notes/assets/interview34.html.c4ec3930.js"><link rel="prefetch" href="/notes/assets/interview35.html.32823b61.js"><link rel="prefetch" href="/notes/assets/interview36.html.88590d4a.js"><link rel="prefetch" href="/notes/assets/interview37.html.a11839d0.js"><link rel="prefetch" href="/notes/assets/interview38.html.209721f3.js"><link rel="prefetch" href="/notes/assets/interview39.html.ed70c55a.js"><link rel="prefetch" href="/notes/assets/interview4.html.e3c493ca.js"><link rel="prefetch" href="/notes/assets/interview40.html.01047eb6.js"><link rel="prefetch" href="/notes/assets/interview41.html.9e9f218a.js"><link rel="prefetch" href="/notes/assets/interview42.html.db84d1eb.js"><link rel="prefetch" href="/notes/assets/interview43.html.e82fc0cf.js"><link rel="prefetch" href="/notes/assets/interview44.html.ae6754da.js"><link rel="prefetch" href="/notes/assets/interview45.html.6ffedb56.js"><link rel="prefetch" href="/notes/assets/interview46.html.8cf91e58.js"><link rel="prefetch" href="/notes/assets/interview47.html.87e099e9.js"><link rel="prefetch" href="/notes/assets/interview48.html.5ec3ce2f.js"><link rel="prefetch" href="/notes/assets/interview49.html.1178b8c8.js"><link rel="prefetch" href="/notes/assets/interview5.html.afd0d5d2.js"><link rel="prefetch" href="/notes/assets/interview50.html.7df846b4.js"><link rel="prefetch" href="/notes/assets/interview6.html.b72624ce.js"><link rel="prefetch" href="/notes/assets/interview7.html.400a1cda.js"><link rel="prefetch" href="/notes/assets/interview8.html.1fa3d768.js"><link rel="prefetch" href="/notes/assets/interview9.html.abbdd212.js"><link rel="prefetch" href="/notes/assets/404.html.8a52f95d.js"><link rel="prefetch" href="/notes/assets/404.490e3686.js"><link rel="prefetch" href="/notes/assets/Layout.bd103d6a.js">
    <link rel="stylesheet" href="/notes/assets/style.742f5b36.css">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><!--[--><header class="navbar"><div class="toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a href="/notes/" class=""><!----><!----></a></span><div class="navbar-items-wrapper" style=""><!--[--><!--]--><!----><!--[--><!--]--><button class="toggle-dark-button" title="toggle dark mode"><svg style="" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg style="display:none;" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><!----></div></header><!--]--><div class="sidebar-mask"></div><!--[--><aside class="sidebar"><!----><!--[--><!--]--><ul class="sidebar-items"><!--[--><li><p tabindex="0" class="sidebar-item sidebar-heading">react-redux源码 <!----></p><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/notes/react/principle/reactRedux.html#概述" class="router-link-active router-link-exact-active sidebar-item" aria-label="概述"><!--[--><!--]--> 概述 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/notes/react/principle/reactRedux.html#从源码中provider作用大致是这样的" class="router-link-active router-link-exact-active sidebar-item" aria-label="从源码中provider作用大致是这样的"><!--[--><!--]--> 从源码中provider作用大致是这样的 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/notes/react/principle/reactRedux.html#subscription总结-发布订阅模式的实现" class="router-link-active router-link-exact-active sidebar-item" aria-label="Subscription总结 - 发布订阅模式的实现"><!--[--><!--]--> Subscription总结 - 发布订阅模式的实现 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/notes/react/principle/reactRedux.html#总结" class="router-link-active router-link-exact-active sidebar-item" aria-label="总结"><!--[--><!--]--> 总结 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/notes/react/principle/reactRedux.html#_1-回顾-connect-用法" class="router-link-active router-link-exact-active sidebar-item" aria-label="1 回顾 connect 用法"><!--[--><!--]--> 1 回顾 connect 用法 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/notes/react/principle/reactRedux.html#_2-connect-初探" class="router-link-active router-link-exact-active sidebar-item" aria-label="2 connect 初探"><!--[--><!--]--> 2 connect 初探 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/notes/react/principle/reactRedux.html#_3-selectorfactory-形成新的props" class="router-link-active router-link-exact-active sidebar-item" aria-label="3 selectorFactory 形成新的props"><!--[--><!--]--> 3 selectorFactory 形成新的props <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/notes/react/principle/reactRedux.html#_4-connectadvanced-形成真正包裹业务组件的-hoc" class="router-link-active router-link-exact-active sidebar-item" aria-label="4 connectAdvanced 形成真正包裹业务组件的 Hoc"><!--[--><!--]--> 4 connectAdvanced 形成真正包裹业务组件的 Hoc <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/notes/react/principle/reactRedux.html#_5-wrapwithconnect-高阶组件" class="router-link-active router-link-exact-active sidebar-item" aria-label="5 wrapWithConnect 高阶组件"><!--[--><!--]--> 5 wrapWithConnect 高阶组件 <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/notes/react/principle/reactRedux.html#第一步" class="router-link-active router-link-exact-active sidebar-item" aria-label="* 第一步"><!--[--><!--]--> * 第一步 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/notes/react/principle/reactRedux.html#第二步" class="router-link-active router-link-exact-active sidebar-item" aria-label="* 第二步"><!--[--><!--]--> * 第二步 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/notes/react/principle/reactRedux.html#第三步" class="router-link-active router-link-exact-active sidebar-item" aria-label="* 第三步"><!--[--><!--]--> * 第三步 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/notes/react/principle/reactRedux.html#第四步" class="router-link-active router-link-exact-active sidebar-item" aria-label="第四步"><!--[--><!--]--> 第四步 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/notes/react/principle/reactRedux.html#_6-connectfunction-控制更新" class="router-link-active router-link-exact-active sidebar-item" aria-label="6 ConnectFunction 控制更新"><!--[--><!--]--> 6 ConnectFunction 控制更新 <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/notes/react/principle/reactRedux.html#第一步-1" class="router-link-active router-link-exact-active sidebar-item" aria-label="第一步"><!--[--><!--]--> 第一步 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/notes/react/principle/reactRedux.html#第二步-1" class="router-link-active router-link-exact-active sidebar-item" aria-label="第二步"><!--[--><!--]--> 第二步 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/notes/react/principle/reactRedux.html#第三步-1" class="router-link-active router-link-exact-active sidebar-item" aria-label="第三步"><!--[--><!--]--> 第三步 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/notes/react/principle/reactRedux.html#总结-1" class="router-link-active router-link-exact-active sidebar-item" aria-label="总结"><!--[--><!--]--> 总结 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/notes/react/principle/reactRedux.html#_1-缓存属性-方法" class="router-link-active router-link-exact-active sidebar-item" aria-label="1 缓存属性 / 方法"><!--[--><!--]--> 1 缓存属性 / 方法 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/notes/react/principle/reactRedux.html#_2-控制组件渲染-渲染节流。" class="router-link-active router-link-exact-active sidebar-item" aria-label="2 控制组件渲染，渲染节流。"><!--[--><!--]--> 2 控制组件渲染，渲染节流。 <!--[--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><!--]--><div><h1 id="react-redux源码" tabindex="-1"><a class="header-anchor" href="#react-redux源码" aria-hidden="true">#</a> react-redux源码</h1><h2 id="概述" tabindex="-1"><a class="header-anchor" href="#概述" aria-hidden="true">#</a> 概述</h2><ol><li><p>为什么要在 <code>root</code> 根组件上使用 <code>react-redux</code> 的 <code>Provider</code> 组件包裹？</p></li><li><p><code>react-redux</code> 是怎么和 <code>redux</code> 契合，做到 <code>state</code> 改变更新视图的呢？</p></li><li><p><code>provide</code> 用什么方式存放当前的 <code>redux</code> 的 <code>store</code>, 又是怎么传递给每一个需要管理<code>state</code>的组件的？</p></li><li><p><code>connect</code> 是怎么样连接的业务组件，然后传递组件更新函数的呢？</p></li><li><p><code>connect</code> 是怎么通过第一个参数，来订阅与之对应的 <code>state</code> 的呢？</p></li><li><p><code>connect</code> 怎么样将 <code>props</code>，和 <code>redux</code>的 <code>state</code> 合并的?</p></li></ol><img src="/notes/assets/react/8089f33462be4c5c9bad97b66dc8a3fa_tplv-k3u1fbpfcp-watermark.image" alt="demo"><h1 id="一-provider-创建subscription-context保存上下文" tabindex="-1"><a class="header-anchor" href="#一-provider-创建subscription-context保存上下文" aria-hidden="true">#</a> 一 Provider 创建Subscription，context保存上下文</h1><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">/* provider 组件代码 */</span>
<span class="token keyword">function</span> <span class="token function">Provider</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> store<span class="token punctuation">,</span> context<span class="token punctuation">,</span> children <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
   <span class="token comment">/* 利用useMemo，跟据store变化创建出一个contextValue 包含一个根元素订阅器和当前store  */</span> 
  <span class="token keyword">const</span> contextValue <span class="token operator">=</span> <span class="token function">useMemo</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token comment">/* 创建了一个根 Subscription 订阅器 */</span>
    <span class="token keyword">const</span> subscription <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Subscription</span><span class="token punctuation">(</span>store<span class="token punctuation">)</span>
    <span class="token comment">/* subscription 的 notifyNestedSubs 方法 ，赋值给  onStateChange方法 */</span>
    subscription<span class="token punctuation">.</span>onStateChange <span class="token operator">=</span> subscription<span class="token punctuation">.</span>notifyNestedSubs  
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      store<span class="token punctuation">,</span>
      subscription
    <span class="token punctuation">}</span> <span class="token comment">/*  store 改变创建新的contextValue */</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>store<span class="token punctuation">]</span><span class="token punctuation">)</span>
  <span class="token comment">/*  获取更新之前的state值 ，函数组件里面的上下文要优先于组件更新渲染  */</span>
  <span class="token keyword">const</span> previousState <span class="token operator">=</span> <span class="token function">useMemo</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> store<span class="token punctuation">.</span><span class="token function">getState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>store<span class="token punctuation">]</span><span class="token punctuation">)</span>

  <span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> <span class="token punctuation">{</span> subscription <span class="token punctuation">}</span> <span class="token operator">=</span> contextValue
    <span class="token comment">/* 触发trySubscribe方法执行，创建listens */</span>
    subscription<span class="token punctuation">.</span><span class="token function">trySubscribe</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// 发起订阅</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>previousState <span class="token operator">!==</span> store<span class="token punctuation">.</span><span class="token function">getState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">/* 组件更新渲染之后，如果此时state发生改变，那么立即触发 subscription.notifyNestedSubs 方法  */</span>
      subscription<span class="token punctuation">.</span><span class="token function">notifyNestedSubs</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 
    <span class="token punctuation">}</span>
    <span class="token comment">/*   */</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      subscription<span class="token punctuation">.</span><span class="token function">tryUnsubscribe</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment">// 卸载订阅</span>
      subscription<span class="token punctuation">.</span>onStateChange <span class="token operator">=</span> <span class="token keyword">null</span>
    <span class="token punctuation">}</span>
    <span class="token comment">/*  contextValue state 改变出发新的 effect */</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>contextValue<span class="token punctuation">,</span> previousState<span class="token punctuation">]</span><span class="token punctuation">)</span>

  <span class="token keyword">const</span> Context <span class="token operator">=</span> context <span class="token operator">||</span> ReactReduxContext
  <span class="token comment">/*  context 存在用跟元素传进来的context ，如果不存在 createContext创建一个context  ，这里的ReactReduxContext就是由createContext创建出的context */</span>
  <span class="token keyword">return</span> <span class="token operator">&lt;</span>Context<span class="token punctuation">.</span>Provider value<span class="token operator">=</span><span class="token punctuation">{</span>contextValue<span class="token punctuation">}</span><span class="token operator">&gt;</span><span class="token punctuation">{</span>children<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>Context<span class="token punctuation">.</span>Provider<span class="token operator">&gt;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="从源码中provider作用大致是这样的" tabindex="-1"><a class="header-anchor" href="#从源码中provider作用大致是这样的" aria-hidden="true">#</a> 从源码中provider作用大致是这样的</h2><hr><ol><li><p>首先创建一个 <code>contextValue</code> ，里面包含一个创建出来的父级 <code>Subscription</code> (姑且先称之为根级订阅器)和<code>redux</code>提供的<code>store</code>。</p></li><li><p>通过react上下文<code>context</code>把 <code>contextValue</code> 传递给子孙组件。</p></li></ol><h1 id="二-subscription订阅消息-发布更新" tabindex="-1"><a class="header-anchor" href="#二-subscription订阅消息-发布更新" aria-hidden="true">#</a> 二 Subscription订阅消息，发布更新</h1><p><code>notifyNestedSubs</code> <code>trySubscribe</code> <code>tryUnsubscribe</code></p><p>在整个 <code>react-redux</code> 执行过程中 <code>Subscription</code> 作用非常重要，这里方便先透漏一下，他的作用是收集所有被 <code>connect</code> 包裹的组件的更新函数 <code>onstatechange</code>，然后形成一个 <code>callback</code> 链表，再由父级 <code>Subscription</code> 统一派发执行更新，暂且不关心它是怎么运作的，接下来就是 <code>Subscription</code> 源码 ，重点看一下如上出现的三个方法。</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">/* 发布订阅者模式 */</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">Subscription</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">store<span class="token punctuation">,</span> parentSub</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>store <span class="token operator">=</span> store
    <span class="token keyword">this</span><span class="token punctuation">.</span>parentSub <span class="token operator">=</span> parentSub
    <span class="token keyword">this</span><span class="token punctuation">.</span>unsubscribe <span class="token operator">=</span> <span class="token keyword">null</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>listeners <span class="token operator">=</span> nullListeners

    <span class="token keyword">this</span><span class="token punctuation">.</span>handleChangeWrapper <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">handleChangeWrapper</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token comment">/* 负责检测是否该组件订阅，然后添加订阅者也就是listener */</span>
  <span class="token function">addNestedSub</span><span class="token punctuation">(</span><span class="token parameter">listener</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">trySubscribe</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>listeners<span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span>listener<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token comment">/* 向listeners发布通知 */</span>
  <span class="token function">notifyNestedSubs</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>listeners<span class="token punctuation">.</span><span class="token function">notify</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token comment">/* 对于 provide onStateChange 就是 notifyNestedSubs 方法，对于 connect 包裹接受更新的组件 ，onStateChange 就是 负责更新组件的函数 。   */</span>
  <span class="token function">handleChangeWrapper</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>onStateChange<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">onStateChange</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
   <span class="token comment">/* 判断有没有开启订阅 */</span>
  <span class="token function">isSubscribed</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">Boolean</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>unsubscribe<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token comment">/* 开启订阅模式 首先判断当前订阅器有没有父级订阅器 ， 如果有父级订阅器(就是父级Subscription)，把自己的handleChangeWrapper放入到监听者链表中 */</span>
  <span class="token function">trySubscribe</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">/*
    parentSub  即是provide value 里面的 Subscription 这里可以理解为 父级元素的 Subscription
    */</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span>unsubscribe<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>unsubscribe <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>parentSub
        <span class="token operator">?</span> <span class="token keyword">this</span><span class="token punctuation">.</span>parentSub<span class="token punctuation">.</span><span class="token function">addNestedSub</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>handleChangeWrapper<span class="token punctuation">)</span>
        <span class="token comment">/* provider的Subscription是不存在parentSub，所以此时trySubscribe 就会调用 store.subscribe   */</span>
        <span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>store<span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>handleChangeWrapper<span class="token punctuation">)</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>listeners <span class="token operator">=</span> <span class="token function">createListenerCollection</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token comment">/* 取消订阅 */</span>
  <span class="token function">tryUnsubscribe</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>unsubscribe<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">unsubscribe</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>unsubscribe <span class="token operator">=</span> <span class="token keyword">null</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>listeners<span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

      <span class="token keyword">this</span><span class="token punctuation">.</span>listeners <span class="token operator">=</span> nullListeners
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>看完 <code>Provider</code> 和 <code>Subscription</code>源码，来解释一下两者到底有什么关联，首先<code>Provider</code>创建 <code>Subscription</code> 时候没有第二个参数，就说明<code>provider</code> 中的<code>Subscription</code> 不存在 <code>parentSub</code> 。</p><p>那么再调用<code>Provider</code>组件中<code>useEffect</code>钩子中<code>trySubscribe</code>的时候,会触发<code>this.store.subscribe</code> , <code>subscribe</code> 就是 <code>redux</code> 的 <code>subscribe</code> ,此时真正发起了订阅。</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>subscription<span class="token punctuation">.</span>onStateChange <span class="token operator">=</span> subscription<span class="token punctuation">.</span>notifyNestedSubs 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>有此可知，最终<code>state</code>改变，触发的是<code>notifyNestedSubs</code>方法。再一次看看这个<code>notifyNestedSubs</code>。</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">/* 向listeners发布通知 */</span>
<span class="token function">notifyNestedSubs</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>listeners<span class="token punctuation">.</span><span class="token function">notify</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>最终向当前<code>Subscription</code> 的订阅者们发布 <code>notify</code>更新。</p><h2 id="subscription总结-发布订阅模式的实现" tabindex="-1"><a class="header-anchor" href="#subscription总结-发布订阅模式的实现" aria-hidden="true">#</a> Subscription总结 - 发布订阅模式的实现</h2><hr><p>综上所述总结一下。<code>Subscription</code> 的作用,首先通过 <code>trySubscribe</code> 发起订阅模式，如果存在这父级订阅者，就把自己更新函数<code>handleChangeWrapper</code>，传递给父级订阅者，然后父级由 <code>addNestedSub</code> 方法将此时的回调函数（更新函数）添加到当前的 <code>listeners</code> 中 。如果没有父级元素(<code>Provider</code>的情况)，则将此回调函数放在<code>store.subscribe</code>中，<code>handleChangeWrapper</code> 函数中<code>onStateChange</code>，就是 <code>Provider</code> 中 <code>Subscription</code> 的 <code>notifyNestedSubs</code> 方法，而 <code>notifyNestedSubs</code> 方法会通知<code>listens</code> 的 <code>notify</code> 方法来触发更新。这里透漏一下，子代<code>Subscription</code>会把更新自身<code>handleChangeWrapper</code>传递给<code>parentSub</code>，来统一通知<code>connect</code>组件更新。</p><p><strong>这里弄明白一个问题</strong></p><p><strong><code>react-redux </code>更新组件也是用了 <code>store.subscribe</code> 而且 <code>store.subscribe</code> 只用在了 <code>Provider</code> 的 <code>Subscription</code>中 (没有 <code>parentsub</code> )</strong></p><p>大致模型就是</p><p><strong><code>state</code>更改 -&gt; <code>store.subscribe</code> -&gt; 触发 <code>provider</code> 的 <code>Subscription</code> 的 <code>handleChangeWrapper</code> 也就是 <code>notifyNestedSubs</code> -&gt; 通知 <code>listeners.notify()</code> -&gt; 通知每个被 <code>connect</code> 容器组件的更新 -&gt; <code>callback</code> 执行 -&gt; <code>触发子组件Subscription</code> 的 handleChangeWrapper -&gt;触发子 <code>onstatechange</code>（可以提前透漏一下,<code>onstatechange</code>保存了更新组件的函数）</strong></p><p>前边的内容提到了<strong>createListenerCollection</strong>, <strong>listeners</strong>，但是他具体有什么作用接下来一起看一下。</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">createListenerCollection</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
   <span class="token comment">/* batch 由getBatch得到的 unstable_batchedUpdates 方法 */</span>
  <span class="token keyword">const</span> batch <span class="token operator">=</span> <span class="token function">getBatch</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token keyword">let</span> first <span class="token operator">=</span> <span class="token keyword">null</span>
  <span class="token keyword">let</span> last <span class="token operator">=</span> <span class="token keyword">null</span>

  <span class="token keyword">return</span> <span class="token punctuation">{</span>
    <span class="token comment">/* 清除当前listeners的所有listener */</span>
    <span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      first <span class="token operator">=</span> <span class="token keyword">null</span>
      last <span class="token operator">=</span> <span class="token keyword">null</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">/* 派发更新 */</span>
    <span class="token function">notify</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">batch</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">let</span> listener <span class="token operator">=</span> first
        <span class="token keyword">while</span> <span class="token punctuation">(</span>listener<span class="token punctuation">)</span> <span class="token punctuation">{</span>
          listener<span class="token punctuation">.</span><span class="token function">callback</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
          listener <span class="token operator">=</span> listener<span class="token punctuation">.</span>next
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">/* 获取listeners的所有listener */</span>
    <span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">let</span> listeners <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
      <span class="token keyword">let</span> listener <span class="token operator">=</span> first
      <span class="token keyword">while</span> <span class="token punctuation">(</span>listener<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        listeners<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>listener<span class="token punctuation">)</span>
        listener <span class="token operator">=</span> listener<span class="token punctuation">.</span>next
      <span class="token punctuation">}</span>
      <span class="token keyword">return</span> listeners
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
     <span class="token comment">/* 接收订阅，将当前的callback（handleChangeWrapper）存到当前的链表中  */</span>
    <span class="token function">subscribe</span><span class="token punctuation">(</span><span class="token parameter">callback</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">let</span> isSubscribed <span class="token operator">=</span> <span class="token boolean">true</span>

      <span class="token keyword">let</span> listener <span class="token operator">=</span> <span class="token punctuation">(</span>last <span class="token operator">=</span> <span class="token punctuation">{</span>
        callback<span class="token punctuation">,</span>
        <span class="token literal-property property">next</span><span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
        <span class="token literal-property property">prev</span><span class="token operator">:</span> last
      <span class="token punctuation">}</span><span class="token punctuation">)</span>

      <span class="token keyword">if</span> <span class="token punctuation">(</span>listener<span class="token punctuation">.</span>prev<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        listener<span class="token punctuation">.</span>prev<span class="token punctuation">.</span>next <span class="token operator">=</span> listener
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        first <span class="token operator">=</span> listener
      <span class="token punctuation">}</span>
      <span class="token comment">/* 取消当前 handleChangeWrapper 的订阅*/</span>
      <span class="token keyword">return</span> <span class="token keyword">function</span> <span class="token function">unsubscribe</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>isSubscribed <span class="token operator">||</span> first <span class="token operator">===</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token keyword">return</span>
        isSubscribed <span class="token operator">=</span> <span class="token boolean">false</span>

        <span class="token keyword">if</span> <span class="token punctuation">(</span>listener<span class="token punctuation">.</span>next<span class="token punctuation">)</span> <span class="token punctuation">{</span>
          listener<span class="token punctuation">.</span>next<span class="token punctuation">.</span>prev <span class="token operator">=</span> listener<span class="token punctuation">.</span>prev
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
          last <span class="token operator">=</span> listener<span class="token punctuation">.</span>prev
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>listener<span class="token punctuation">.</span>prev<span class="token punctuation">)</span> <span class="token punctuation">{</span>
          listener<span class="token punctuation">.</span>prev<span class="token punctuation">.</span>next <span class="token operator">=</span> listener<span class="token punctuation">.</span>next
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
          first <span class="token operator">=</span> listener<span class="token punctuation">.</span>next
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>batch</strong></p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> unstable_batchedUpdates <span class="token keyword">as</span> batch <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;./utils/reactBatchedUpdates&#39;</span>
<span class="token function">setBatch</span><span class="token punctuation">(</span>batch<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>可以得出结论 <code>createListenerCollection</code> 可以产生一个 <code>listeners</code> 。</p><p><code>listeners</code>的作用。</p><ol><li><p><strong>收集订阅： 以链表的形式收集对应的 <code>listeners</code> (每一个<code>Subscription</code>) 的<code>handleChangeWrapper</code>函数。</strong></p></li><li><p><strong>派发更新：, 通过 <code>batch</code> 方法( <code>react-dom</code> 中的 <code>unstable_batchedUpdates</code> ) 来进行批量更新。</strong></p></li></ol><p>提示： <code>React</code> 的 <code>unstable_batchedUpdate()</code> <code>API</code> 允许将一次事件循环中的所有 <strong>React</strong> 更新都一起批量处理到一个渲染过程中。</p><h2 id="总结" tabindex="-1"><a class="header-anchor" href="#总结" aria-hidden="true">#</a> 总结</h2><p><strong>1. <code>react-redux</code> 中的 <code>provider</code> 作用 ，通过 <code>react</code> 的 <code>context</code> 传递 <code>subscription</code> 和 <code>redux</code> 中的<code>store</code> ,并且建立了一个最顶部根 <code>Subscription</code> 。</strong></p><p><strong>2. <code>Subscription</code> 的作用：起到发布订阅作用，一方面订阅 <code>connect</code> 包裹组件的更新函数，一方面通过 <code>store.subscribe</code> 统一派发更新。</strong></p><p><strong>3. <code>Subscription</code> 如果存在这父级的情况，会把自身的更新函数，传递给父级 <code>Subscription</code> 来统一订阅。</strong></p><h1 id="三-connect" tabindex="-1"><a class="header-anchor" href="#三-connect" aria-hidden="true">#</a> 三 connect</h1><h2 id="_1-回顾-connect-用法" tabindex="-1"><a class="header-anchor" href="#_1-回顾-connect-用法" aria-hidden="true">#</a> 1 回顾 connect 用法</h2><hr><p>先看看高阶组件<code>connect</code>用法。</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">connect</span><span class="token punctuation">(</span><span class="token parameter">mapStateToProps<span class="token operator">?</span><span class="token punctuation">,</span> mapDispatchToProps<span class="token operator">?</span><span class="token punctuation">,</span> mergeProps<span class="token operator">?</span><span class="token punctuation">,</span> options<span class="token operator">?</span></span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><strong>mapStateToProps</strong></p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token function-variable function">mapStateToProps</span> <span class="token operator">=</span> <span class="token parameter">state</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">todos</span><span class="token operator">:</span> state<span class="token punctuation">.</span>todos <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>作用很简单，组件依赖<code>redux</code>的 <code>state</code>,映射到业务组件的 <code>props</code>中，<code>state</code>改变触发,业务组件<code>props</code>改变，触发业务组件更新视图。当这个参数没有的时候，当前组件不会订阅 <code>store</code> 的改变。</p><p><strong>mapDispatchToProps</strong></p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token function-variable function">mapDispatchToProps</span> <span class="token operator">=</span> <span class="token parameter">dispatch</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span>
    <span class="token function-variable function">increment</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&#39;INCREMENT&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function-variable function">decrement</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&#39;DECREMENT&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function-variable function">reset</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&#39;RESET&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>将 <code>redux</code> 中的<code>dispatch</code> 方法，映射到，业务组件的<code>props</code>中。</p><p><strong>mergeProps</strong></p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">/*
* stateProps , state 映射到 props 中的内容
* dispatchProps， dispatch 映射到 props 中的内容。
* ownProps 组件本身的 props
*/</span>
<span class="token punctuation">(</span><span class="token parameter">stateProps<span class="token punctuation">,</span> dispatchProps<span class="token punctuation">,</span> ownProps</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> Object
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>正常情况下，如果没有这个参数，会按照如下方式进行合并，返回的对象可以是，自定义的合并规则。还可以附加一些属性。</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token punctuation">{</span> <span class="token operator">...</span>ownProps<span class="token punctuation">,</span> <span class="token operator">...</span>stateProps<span class="token punctuation">,</span> <span class="token operator">...</span>dispatchProps <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><strong>options</strong></p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token punctuation">{</span>
  context<span class="token operator">?</span><span class="token operator">:</span> Object<span class="token punctuation">,</span>   <span class="token comment">// 自定义上下文</span>
  pure<span class="token operator">?</span><span class="token operator">:</span> boolean<span class="token punctuation">,</span> <span class="token comment">// 默认为 true , 当为 true 的时候 ，除了 mapStateToProps 和 props ,其他输入或者state 改变，均不会更新组件。</span>
  areStatesEqual<span class="token operator">?</span><span class="token operator">:</span> Function<span class="token punctuation">,</span> <span class="token comment">// 当pure true , 比较引进store 中state值 是否和之前相等。 (next: Object, prev: Object) =&gt; boolean</span>
  areOwnPropsEqual<span class="token operator">?</span><span class="token operator">:</span> Function<span class="token punctuation">,</span> <span class="token comment">// 当pure true , 比较 props 值, 是否和之前相等。 (next: Object, prev: Object) =&gt; boolean</span>
  areStatePropsEqual<span class="token operator">?</span><span class="token operator">:</span> Function<span class="token punctuation">,</span> <span class="token comment">// 当pure true , 比较 mapStateToProps 后的值 是否和之前相等。  (next: Object, prev: Object) =&gt; boolean</span>
  areMergedPropsEqual<span class="token operator">?</span><span class="token operator">:</span> Function<span class="token punctuation">,</span> <span class="token comment">// 当 pure 为 true 时， 比较 经过 mergeProps 合并后的值 ， 是否与之前等  (next: Object, prev: Object) =&gt; boolean</span>
  forwardRef<span class="token operator">?</span><span class="token operator">:</span> boolean<span class="token punctuation">,</span> <span class="token comment">//当为true 时候,可以通过ref 获取被connect包裹的组件实例。</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>options</code>可以是如上属性，上面已经标注了每一个属性的作用，这里就不多说了。</p><h2 id="_2-connect-初探" tabindex="-1"><a class="header-anchor" href="#_2-connect-初探" aria-hidden="true">#</a> 2 connect 初探</h2><hr><p>对于<code>connect</code> 组件 ，先看源码一探究竟</p><blockquote><p><code>/src/connect/connect.js</code></p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">createConnect</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span>
  connectHOC <span class="token operator">=</span> connectAdvanced<span class="token punctuation">,</span>
  mapStateToPropsFactories <span class="token operator">=</span> defaultMapStateToPropsFactories<span class="token punctuation">,</span>
  mapDispatchToPropsFactories <span class="token operator">=</span> defaultMapDispatchToPropsFactories<span class="token punctuation">,</span>
  mergePropsFactories <span class="token operator">=</span> defaultMergePropsFactories<span class="token punctuation">,</span>
  selectorFactory <span class="token operator">=</span> defaultSelectorFactory
<span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">function</span> <span class="token function">connect</span><span class="token punctuation">(</span>
    <span class="token parameter">mapStateToProps<span class="token punctuation">,</span>
    mapDispatchToProps<span class="token punctuation">,</span>
    mergeProps<span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      pure <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      areStatesEqual <span class="token operator">=</span> strictEqual<span class="token punctuation">,</span>
      areOwnPropsEqual <span class="token operator">=</span> shallowEqual<span class="token punctuation">,</span>
      areStatePropsEqual <span class="token operator">=</span> shallowEqual<span class="token punctuation">,</span>
      areMergedPropsEqual <span class="token operator">=</span> shallowEqual<span class="token punctuation">,</span>
      <span class="token operator">...</span>extraOptions
    <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></span>
  <span class="token punctuation">)</span> <span class="token punctuation">{</span>
   
     <span class="token comment">/* 经过代理包装后的 mapStateToProps */</span>
    <span class="token keyword">const</span> initMapStateToProps <span class="token operator">=</span> <span class="token function">match</span><span class="token punctuation">(</span> mapStateToProps<span class="token punctuation">,</span> mapStateToPropsFactories<span class="token punctuation">,</span><span class="token string">&#39;mapStateToProps&#39;</span> <span class="token punctuation">)</span>
    <span class="token comment">/* 经过代理包装后的 mapDispatchToProps */</span>
    <span class="token keyword">const</span> initMapDispatchToProps <span class="token operator">=</span> <span class="token function">match</span><span class="token punctuation">(</span>  mapDispatchToProps<span class="token punctuation">,</span> mapDispatchToPropsFactories<span class="token punctuation">,</span><span class="token string">&#39;mapDispatchToProps&#39;</span><span class="token punctuation">)</span>
     <span class="token comment">/* 经过代理包装后的 mergeProps */</span>
    <span class="token keyword">const</span> initMergeProps <span class="token operator">=</span> <span class="token function">match</span><span class="token punctuation">(</span>mergeProps<span class="token punctuation">,</span> mergePropsFactories<span class="token punctuation">,</span> <span class="token string">&#39;mergeProps&#39;</span><span class="token punctuation">)</span>

    <span class="token keyword">return</span> <span class="token function">connectHOC</span><span class="token punctuation">(</span>selectorFactory<span class="token punctuation">,</span> <span class="token punctuation">{</span>
     
      <span class="token literal-property property">methodName</span><span class="token operator">:</span> <span class="token string">&#39;connect&#39;</span><span class="token punctuation">,</span>
      <span class="token function-variable function">getDisplayName</span><span class="token operator">:</span> <span class="token parameter">name</span> <span class="token operator">=&gt;</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Connect(</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">)</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
      <span class="token literal-property property">shouldHandleStateChanges</span><span class="token operator">:</span> <span class="token function">Boolean</span><span class="token punctuation">(</span>mapStateToProps<span class="token punctuation">)</span><span class="token punctuation">,</span>
      initMapStateToProps<span class="token punctuation">,</span>
      initMapDispatchToProps<span class="token punctuation">,</span>
      initMergeProps<span class="token punctuation">,</span>
      pure<span class="token punctuation">,</span>
      areStatesEqual<span class="token punctuation">,</span>
      areOwnPropsEqual<span class="token punctuation">,</span>
      areStatePropsEqual<span class="token punctuation">,</span>
      areMergedPropsEqual<span class="token punctuation">,</span>
      <span class="token operator">...</span>extraOptions
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token comment">/*#__PURE__*/</span> <span class="token function">createConnect</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>先来分析一下整个函数做的事。</p><p>1 首先定一个 <code>createConnect</code>方法。 传入了几个默认参数，有两个参数非常重要，<code>connectHOC</code> 作为整个 <code>connect</code> <code>的高阶组件。selectorFactory</code> 做为整合<code>connect</code>更新过程中的形成新<code>props</code>的主要函数。默认的模式是<code>pure</code>模式。</p><p>2 然后执行<code>createConnect</code>方法，返回真正的<code>connect</code>函数本身。<code>connect</code>接收几个参数，然后和默认的函数进行整合，包装，代理，最后形成三个真正的初始化函数，这里的过程就先不讲了。接下来分别介绍这三个函数的用途。</p><p><strong>initMapStateToProps</strong> ，用于形成真正的 <code>MapStateToProps</code>函数，将 <code>store</code> 中 <code>state</code> ,映射到 <code>props</code></p><p><strong>initMapDispatchToProps</strong>，用于形成真正的 <code>MapDispatchToProps</code>，将 <code>dispatch</code> 和 自定义的 <code>dispatch</code> 注入到<code>props</code>。</p><p><strong>initMergeProps</strong>,用于形成真正的 <code>mergeProps</code>函数，<strong>合并</strong>业务组件的 <code>props</code> , <code>state</code> 映射的 <code>props</code> , <code>dispatch</code> 映射的 <code>props</code>。</p><p>这里有一个函数非常重要,这个函数就是<code>mergeProps</code>, 请大家记住这个函数，因为这个函数是判断整个<code>connect</code>是否更新组件关键所在。上边说过 <code>connect</code>基本用法的时候说过，当不向<code>connect</code>传递第三个参数<code>mergeProps</code> 的时候，默认的<code>defaultMergeProps</code>如下</p><blockquote><p><code>/src/connect/mergeProps.js</code></p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">defaultMergeProps</span><span class="token punctuation">(</span><span class="token parameter">stateProps<span class="token punctuation">,</span> dispatchProps<span class="token punctuation">,</span> ownProps</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span> <span class="token operator">...</span>ownProps<span class="token punctuation">,</span> <span class="token operator">...</span>stateProps<span class="token punctuation">,</span> <span class="token operator">...</span>dispatchProps <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>这个函数返回了一个新的对象，也就是新的<code>props</code>。而且将 业务组件 <code>props</code> , <code>store</code> 中的 <code>state</code> ,和 <code>dispatch</code> 结合到一起，形成一个新对象，作为新的 <code>props</code> 传递给了业务组件。</p><h2 id="_3-selectorfactory-形成新的props" tabindex="-1"><a class="header-anchor" href="#_3-selectorfactory-形成新的props" aria-hidden="true">#</a> 3 selectorFactory 形成新的props</h2><hr><p>前面说到<code>selectorFactory</code> 很重要，用于形成新的<code>props</code>,记下来看<code>selectorFactory</code> 源码。</p><blockquote><p><code>/src/connect/selectorFactory.js</code></p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span> <span class="token function">finalPropsSelectorFactory</span><span class="token punctuation">(</span>
  <span class="token parameter">dispatch<span class="token punctuation">,</span>
  <span class="token punctuation">{</span> initMapStateToProps<span class="token punctuation">,</span> initMapDispatchToProps<span class="token punctuation">,</span> initMergeProps<span class="token punctuation">,</span> <span class="token operator">...</span>options <span class="token punctuation">}</span></span>
<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// mapStateToProps mapDispatchToProps mergeProps 为真正connect 经过一层代理的 proxy 函数</span>
  <span class="token keyword">const</span> mapStateToProps <span class="token operator">=</span> <span class="token function">initMapStateToProps</span><span class="token punctuation">(</span>dispatch<span class="token punctuation">,</span> options<span class="token punctuation">)</span>
  <span class="token keyword">const</span> mapDispatchToProps <span class="token operator">=</span> <span class="token function">initMapDispatchToProps</span><span class="token punctuation">(</span>dispatch<span class="token punctuation">,</span> options<span class="token punctuation">)</span>
  <span class="token keyword">const</span> mergeProps <span class="token operator">=</span> <span class="token function">initMergeProps</span><span class="token punctuation">(</span>dispatch<span class="token punctuation">,</span> options<span class="token punctuation">)</span>

  <span class="token keyword">const</span> selectorFactory <span class="token operator">=</span> options<span class="token punctuation">.</span>pure <span class="token operator">?</span> pureFinalPropsSelectorFactory <span class="token operator">:</span> impureFinalPropsSelectorFactory
   <span class="token comment">// 返回一个 函数用于生成新的 props </span>
  <span class="token keyword">return</span> <span class="token function">selectorFactory</span><span class="token punctuation">(</span>
    mapStateToProps<span class="token punctuation">,</span>
    mapDispatchToProps<span class="token punctuation">,</span>
    mergeProps<span class="token punctuation">,</span>
    dispatch<span class="token punctuation">,</span>
    options
  <span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>finalPropsSelectorFactory</code> 的代码很简单， 首先得到真正<strong>connect</strong> 经过一层代理函数 <code>mapStateToProps</code> ,<code>mapDispatchToProps</code> ,<code>mergeProps</code>。然后调用<code>selectorFactory</code> (在<code>pure</code>模式下，<code>selectorFactory</code> 就是 <strong><code>pureFinalPropsSelectorFactory</code></strong> ) 。</p><p>可以这里反复用了<strong>闭包</strong>，可以刚开始有点蒙，不过静下心来看发现其实不是很难。由于默认是<code>pure</code>，所以接下来主要看 <strong>pureFinalPropsSelectorFactory</strong> 函数做了些什么。</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token doc-comment comment">/** pure组件处理 ， 对比 props 是否发生变化 然后 合并props */</span>
<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">pureFinalPropsSelectorFactory</span><span class="token punctuation">(</span>
  mapStateToProps<span class="token punctuation">,</span>
  mapDispatchToProps<span class="token punctuation">,</span>
  mergeProps<span class="token punctuation">,</span>
  dispatch<span class="token punctuation">,</span>
  <span class="token punctuation">{</span> areStatesEqual<span class="token punctuation">,</span> areOwnPropsEqual<span class="token punctuation">,</span> areStatePropsEqual <span class="token punctuation">}</span> <span class="token comment">//判断 state prop 是否相等</span>
<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> hasRunAtLeastOnce <span class="token operator">=</span> <span class="token boolean">false</span>
  <span class="token keyword">let</span> state
  <span class="token keyword">let</span> ownProps
  <span class="token keyword">let</span> stateProps
  <span class="token keyword">let</span> dispatchProps
  <span class="token keyword">let</span> mergedProps
 
  <span class="token comment">/* 第一次 直接形成 ownProps  stateProps  dispatchProps 合并  形成新的 props */</span>
  <span class="token keyword">function</span> <span class="token function">handleFirstCall</span><span class="token punctuation">(</span><span class="token parameter">firstState<span class="token punctuation">,</span> firstOwnProps</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    state <span class="token operator">=</span> firstState
    ownProps <span class="token operator">=</span> firstOwnProps
    stateProps <span class="token operator">=</span> <span class="token function">mapStateToProps</span><span class="token punctuation">(</span>state<span class="token punctuation">,</span> ownProps<span class="token punctuation">)</span>
    dispatchProps <span class="token operator">=</span> <span class="token function">mapDispatchToProps</span><span class="token punctuation">(</span>dispatch<span class="token punctuation">,</span> ownProps<span class="token punctuation">)</span>
    mergedProps <span class="token operator">=</span> <span class="token function">mergeProps</span><span class="token punctuation">(</span>stateProps<span class="token punctuation">,</span> dispatchProps<span class="token punctuation">,</span> ownProps<span class="token punctuation">)</span>
    hasRunAtLeastOnce <span class="token operator">=</span> <span class="token boolean">true</span>
    <span class="token keyword">return</span> mergedProps
  <span class="token punctuation">}</span>
  
  <span class="token keyword">function</span> <span class="token function">handleNewPropsAndNewState</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">//  props 和 state 都改变  mergeProps </span>
  <span class="token punctuation">}</span>

  <span class="token keyword">function</span> <span class="token function">handleNewProps</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// props 改变  mergeProps</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">function</span> <span class="token function">handleNewState</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
     <span class="token comment">// state 改变 mergeProps</span>
  <span class="token punctuation">}</span>

  <span class="token comment">/*  不是第一次的情况 props 或者 store.state 发生改变的情况。 */</span>
  <span class="token keyword">function</span> <span class="token function">handleSubsequentCalls</span><span class="token punctuation">(</span><span class="token parameter">nextState<span class="token punctuation">,</span> nextOwnProps</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">/* 判断两次 props 是否相等 */</span>
    <span class="token keyword">const</span> propsChanged <span class="token operator">=</span> <span class="token operator">!</span><span class="token function">areOwnPropsEqual</span><span class="token punctuation">(</span>nextOwnProps<span class="token punctuation">,</span> ownProps<span class="token punctuation">)</span> 
      <span class="token comment">/* 判断两次 store.state 是否相等 */</span>
    <span class="token keyword">const</span> stateChanged <span class="token operator">=</span> <span class="token operator">!</span><span class="token function">areStatesEqual</span><span class="token punctuation">(</span>nextState<span class="token punctuation">,</span> state<span class="token punctuation">)</span>
    state <span class="token operator">=</span> nextState
    ownProps <span class="token operator">=</span> nextOwnProps
    
    <span class="token keyword">if</span> <span class="token punctuation">(</span>propsChanged <span class="token operator">&amp;&amp;</span> stateChanged<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token function">handleNewPropsAndNewState</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>propsChanged<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token function">handleNewProps</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>stateChanged<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token function">handleNewState</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> mergedProps
  <span class="token punctuation">}</span>

  <span class="token keyword">return</span> <span class="token keyword">function</span> <span class="token function">pureFinalPropsSelector</span><span class="token punctuation">(</span><span class="token parameter">nextState<span class="token punctuation">,</span> nextOwnProps</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> hasRunAtLeastOnce
      <span class="token operator">?</span> <span class="token function">handleSubsequentCalls</span><span class="token punctuation">(</span>nextState<span class="token punctuation">,</span> nextOwnProps<span class="token punctuation">)</span>
      <span class="token operator">:</span> <span class="token function">handleFirstCall</span><span class="token punctuation">(</span>nextState<span class="token punctuation">,</span> nextOwnProps<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>这个函数处理逻辑很清晰。大致上做了这些事。通过闭包的形式返回一个函数<code>pureFinalPropsSelector</code>。<code>pureFinalPropsSelector</code>通过判断是否是第一次初始化组件。</p><p>如果是第一次，那么直接调用<code>mergeProps</code>合并<code>ownProps</code>,<code>stateProps</code>,<code>dispatchProps</code> 形成最终的<code>props</code>。</p><p>如果不是第一次，那么判断到底是<code>props</code>还是 <code>store.state</code> 发生改变，然后针对那里变化，重新生成对应的<code>props</code>，最终合并到真正的<code>props</code>。</p><p><strong>整个 <code>selectorFactory</code> 逻辑就是形成新的<code>props</code>传递给的业务组件。</strong></p><h2 id="_4-connectadvanced-形成真正包裹业务组件的-hoc" tabindex="-1"><a class="header-anchor" href="#_4-connectadvanced-形成真正包裹业务组件的-hoc" aria-hidden="true">#</a> 4 connectAdvanced 形成真正包裹业务组件的 Hoc</h2><hr><p>接下来看一下 <code>connect</code> 返回的 <code>connectAdvanced()</code>到底做了什么,为了方便大家理解<code>connect</code>,这里先看看 <code>connect</code> 用法。</p><p>正常模式下:</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token function-variable function">mapStateToProp</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">store</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">userInfo</span><span class="token operator">:</span> store<span class="token punctuation">.</span>root<span class="token punctuation">.</span>userInfo <span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token keyword">function</span> <span class="token function">Index</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token comment">/* ..... */</span>
    <span class="token keyword">return</span> <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span> <span class="token punctuation">{</span> <span class="token comment">/* .... */</span> <span class="token punctuation">}</span> <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token punctuation">}</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">connect</span><span class="token punctuation">(</span>mapStateToProp<span class="token punctuation">)</span><span class="token punctuation">(</span>Index<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>装饰器模式下:</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token function-variable function">mapStateToProp</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">store</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">userInfo</span><span class="token operator">:</span> store<span class="token punctuation">.</span>root<span class="token punctuation">.</span>userInfo <span class="token punctuation">}</span><span class="token punctuation">)</span>

@<span class="token function">connect</span><span class="token punctuation">(</span>mapStateToProp<span class="token punctuation">)</span>
<span class="token keyword">class</span> <span class="token class-name">Index</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span><span class="token punctuation">{</span>
    <span class="token comment">/* .... */</span>
    <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span> <span class="token punctuation">{</span> <span class="token comment">/* .... */</span> <span class="token punctuation">}</span> <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>上面讲到，<code>connect</code>执行 接受 <code>mapStateToProp</code> 等参数，最后返回 <code>connectAdvanced()</code> ，那么上述例子中<code>connect</code>执行第一步<code>connect(mapStateToProp)===connectAdvanced()</code>,也就是<code>connectAdvanced()</code>执行返回真正的<code>hoc</code>,用于包裹的业务组件。</p><p>接下来看 <code>connectAdvanced</code> 代码</p><blockquote><p><code>/src/components/connectAdvanced.js</code></p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span> <span class="token function">connectAdvanced</span><span class="token punctuation">(</span>
  selectorFactory<span class="token punctuation">,</span> <span class="token comment">// 每次 props,state改变执行 ，用于生成新的 props。</span>
  <span class="token punctuation">{</span>
    <span class="token function-variable function">getDisplayName</span> <span class="token operator">=</span> <span class="token parameter">name</span> <span class="token operator">=&gt;</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">ConnectAdvanced(</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">)</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
    <span class="token comment">//可能被包装函数（如connect（））重写</span>
    methodName <span class="token operator">=</span> <span class="token string">&#39;connectAdvanced&#39;</span><span class="token punctuation">,</span>
    <span class="token comment">//如果定义了，则传递给包装元素的属性的名称，指示要呈现的调用。用于监视react devtools中不必要的重新渲染。</span>
    renderCountProp <span class="token operator">=</span> <span class="token keyword">undefined</span><span class="token punctuation">,</span>
    shouldHandleStateChanges <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">,</span>  <span class="token comment">//确定此HOC是否订阅存储更改</span>
    storeKey <span class="token operator">=</span> <span class="token string">&#39;store&#39;</span><span class="token punctuation">,</span>
    withRef <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    forwardRef <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">// 是否 用 forwarRef 模式</span>
    context <span class="token operator">=</span> ReactReduxContext<span class="token punctuation">,</span><span class="token comment">// Provider 保存的上下文</span>
    <span class="token operator">...</span>connectOptions
  <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">/* ReactReduxContext 就是store存在的context */</span>
  <span class="token keyword">const</span> Context <span class="token operator">=</span> context
   <span class="token comment">/* WrappedComponent 为connect 包裹的组件本身  */</span>   
  <span class="token keyword">return</span>  <span class="token keyword">function</span> <span class="token function">wrapWithConnect</span><span class="token punctuation">(</span><span class="token parameter">WrappedComponent</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
      <span class="token comment">// WrappedComponent 被 connect 的业务组件本身</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p><code>connectAdvanced</code>接受配置参数 ， 然后返回真正的 <code>HOC</code> <code>wrapWithConnect</code>。</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// 可以讲下面的表达式分解</span>
<span class="token function">connect</span><span class="token punctuation">(</span>mapStateToProp<span class="token punctuation">)</span><span class="token punctuation">(</span>Index<span class="token punctuation">)</span>

<span class="token comment">// 执行 connect</span>
<span class="token function">connect</span><span class="token punctuation">(</span>mapStateToProp<span class="token punctuation">)</span> 
<span class="token comment">//返回  </span>
<span class="token function">connectAdvanced</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment">//返回HOC</span>
wrapWithConnect
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_5-wrapwithconnect-高阶组件" tabindex="-1"><a class="header-anchor" href="#_5-wrapwithconnect-高阶组件" aria-hidden="true">#</a> 5 wrapWithConnect 高阶组件</h2><hr><p>重点看一下 <code>wrapWithConnect</code>作为高阶组件，会返回一个组件，这个组件会对原有的业务组件，进行一系列增强等工作。</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">wrapWithConnect</span><span class="token punctuation">(</span><span class="token parameter">WrappedComponent</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> wrappedComponentName <span class="token operator">=</span>
      WrappedComponent<span class="token punctuation">.</span>displayName <span class="token operator">||</span> WrappedComponent<span class="token punctuation">.</span>name <span class="token operator">||</span> <span class="token string">&#39;Component&#39;</span>
  
    <span class="token keyword">const</span> displayName <span class="token operator">=</span> <span class="token function">getDisplayName</span><span class="token punctuation">(</span>wrappedComponentName<span class="token punctuation">)</span>
  
    <span class="token keyword">const</span> selectorFactoryOptions <span class="token operator">=</span> <span class="token punctuation">{</span>
      <span class="token operator">...</span>connectOptions<span class="token punctuation">,</span>
      getDisplayName<span class="token punctuation">,</span>
      methodName<span class="token punctuation">,</span>
      renderCountProp<span class="token punctuation">,</span>
      shouldHandleStateChanges<span class="token punctuation">,</span>
      storeKey<span class="token punctuation">,</span>
      displayName<span class="token punctuation">,</span>
      wrappedComponentName<span class="token punctuation">,</span>
      WrappedComponent
    <span class="token punctuation">}</span>
    <span class="token keyword">const</span> <span class="token punctuation">{</span> pure <span class="token punctuation">}</span> <span class="token operator">=</span> connectOptions
    <span class="token keyword">function</span> <span class="token function">createChildSelector</span><span class="token punctuation">(</span><span class="token parameter">store</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// 合并函数 mergeprops 得到最新的props</span>
      <span class="token keyword">return</span> <span class="token function">selectorFactory</span><span class="token punctuation">(</span>store<span class="token punctuation">.</span>dispatch<span class="token punctuation">,</span> selectorFactoryOptions<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token comment">//判断是否是pure纯组件模式 如果是 将用 useMemo 提升性能</span>
    <span class="token keyword">const</span> usePureOnlyMemo <span class="token operator">=</span> pure <span class="token operator">?</span> <span class="token function-variable function">useMemo</span> <span class="token operator">:</span> <span class="token parameter">callback</span> <span class="token operator">=&gt;</span> <span class="token function">callback</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token comment">// 负责更新的容器子组件</span>
    <span class="token keyword">function</span> <span class="token function">ConnectFunction</span> <span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token comment">// props 为 业务组件 真正的 props </span>
    <span class="token punctuation">}</span>
    <span class="token keyword">const</span> Connect <span class="token operator">=</span> pure <span class="token operator">?</span> React<span class="token punctuation">.</span><span class="token function">memo</span><span class="token punctuation">(</span>ConnectFunction<span class="token punctuation">)</span> <span class="token operator">:</span> ConnectFunction
  
    Connect<span class="token punctuation">.</span>WrappedComponent <span class="token operator">=</span> WrappedComponent
    Connect<span class="token punctuation">.</span>displayName <span class="token operator">=</span> displayName
    <span class="token comment">/* forwardRef */</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>forwardRef<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> forwarded <span class="token operator">=</span> React<span class="token punctuation">.</span><span class="token function">forwardRef</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token function">forwardConnectRef</span><span class="token punctuation">(</span>
        <span class="token parameter">props<span class="token punctuation">,</span>
        ref</span>
      <span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token operator">&lt;</span>Connect <span class="token punctuation">{</span><span class="token operator">...</span>props<span class="token punctuation">}</span> reactReduxForwardedRef<span class="token operator">=</span><span class="token punctuation">{</span>ref<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
  
      forwarded<span class="token punctuation">.</span>displayName <span class="token operator">=</span> displayName
      forwarded<span class="token punctuation">.</span>WrappedComponent <span class="token operator">=</span> WrappedComponent
      <span class="token keyword">return</span> <span class="token function">hoistStatics</span><span class="token punctuation">(</span>forwarded<span class="token punctuation">,</span> WrappedComponent<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  
    <span class="token keyword">return</span> <span class="token function">hoistStatics</span><span class="token punctuation">(</span>Connect<span class="token punctuation">,</span> WrappedComponent<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>wrapWithConnect</code> 的做的事大致分为一下几点：</p><h3 id="第一步" tabindex="-1"><a class="header-anchor" href="#第一步" aria-hidden="true">#</a> * 第一步</h3><p><strong>1 声明负责更新的 <code>ConnectFunction</code> 无状态组件。和负责合并 <code>props</code> 的<code>createChildSelector</code>方法</strong></p><h3 id="第二步" tabindex="-1"><a class="header-anchor" href="#第二步" aria-hidden="true">#</a> * 第二步</h3><p><strong>2 判断是否是 <code>pure</code> 纯组件模式，如果是用<code>react.memo</code>包裹,这样做的好处是，会向 <code>pureComponent</code> 一样对 <code>props</code> 进行浅比较。</strong></p><h3 id="第三步" tabindex="-1"><a class="header-anchor" href="#第三步" aria-hidden="true">#</a> * 第三步</h3><p><strong>3 如果 <code>connect</code> 有<code>forwardRef</code>配置项，用<code>React.forwardRef</code>处理，这样做好处如下。</strong></p><p>正常情况下因为的<code>WrappedComponent</code> 被 <code>connect</code> 包装，所以不能通过<code>ref</code>访问到业务组件<code>WrappedComponent</code>的实例。</p><p><strong>子组件</strong></p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token function-variable function">mapStateToProp</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">store</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">userInfo</span><span class="token operator">:</span> store<span class="token punctuation">.</span>root<span class="token punctuation">.</span>userInfo <span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token keyword">class</span> <span class="token class-name">Child</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span><span class="token punctuation">{</span>
    <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token comment">/* ... */</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">connect</span><span class="token punctuation">(</span>mapStateToProp<span class="token punctuation">)</span><span class="token punctuation">(</span>Child<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>父组件</strong></p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">class</span> <span class="token class-name">Father</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Compoent</span><span class="token punctuation">{</span>
    child <span class="token operator">=</span> <span class="token keyword">null</span> 
    <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token operator">&lt;</span>Child ref<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token parameter">cur</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>child <span class="token operator">=</span> cur <span class="token punctuation">}</span>  <span class="token punctuation">{</span> <span class="token comment">/* 获取到的不是`Child`本身 */</span> <span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>无法通过 <code>ref</code> 访问到 <code>Child</code> 组件。</p><p>所以可以通过 <code>options</code> 的 <code>forwardRef</code> 属性设置为 <code>true</code>，这样就可以根本解决问题。</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token function">connect</span><span class="token punctuation">(</span>mapStateToProp<span class="token punctuation">,</span>mapDispatchToProps<span class="token punctuation">,</span>mergeProps<span class="token punctuation">,</span><span class="token punctuation">{</span> <span class="token literal-property property">forwardRef</span><span class="token operator">:</span><span class="token boolean">true</span>  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span>Child<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="第四步" tabindex="-1"><a class="header-anchor" href="#第四步" aria-hidden="true">#</a> 第四步</h3><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token function">hoistStatics</span><span class="token punctuation">(</span>Connect<span class="token punctuation">,</span> WrappedComponent<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>最后做的事情就是通过<code>hoistStatics</code>库 把子组件<code>WrappedComponent</code>的静态方法/属性，继承到父组件<code>Connect</code>上。因为在 高阶组件 包装 业务组件的过程中，如果不对静态属性或是方法加以额外处理，是不会被包装后的组件访问到的，所以需要类似<code>hoistStatics</code>这样的库，来做处理。</p><h2 id="_6-connectfunction-控制更新" tabindex="-1"><a class="header-anchor" href="#_6-connectfunction-控制更新" aria-hidden="true">#</a> 6 ConnectFunction 控制更新</h2><hr><p><code>ConnectFunction</code> 的代码很复杂，需要一步步去吃透，一步步去消化。</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">ConnectFunction</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">/* TODO:  第一步 把 context ForwardedRef props 取出来 */</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>
    reactReduxForwardedRef<span class="token punctuation">,</span>
    wrapperProps <span class="token comment">// props 传递的props</span>
  <span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useMemo</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    
    <span class="token keyword">const</span> <span class="token punctuation">{</span> reactReduxForwardedRef<span class="token punctuation">,</span> <span class="token operator">...</span>wrapperProps <span class="token punctuation">}</span> <span class="token operator">=</span> props
    <span class="token keyword">return</span> <span class="token punctuation">[</span>reactReduxForwardedRef<span class="token punctuation">,</span> wrapperProps<span class="token punctuation">]</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>props<span class="token punctuation">]</span><span class="token punctuation">)</span>


  <span class="token comment">// 获取 context内容 里面含有  redux 中store 和 subscription</span>
  <span class="token keyword">const</span> contextValue <span class="token operator">=</span> <span class="token function">useContext</span><span class="token punctuation">(</span>Context<span class="token punctuation">)</span>

  <span class="token comment">//TODO: 判断 store 是否来此 props  didStoreComeFromProps ,正常情况下 ，prop 中是不存在 store 所以  didStoreComeFromProps = false</span>
  <span class="token keyword">const</span> didStoreComeFromProps <span class="token operator">=</span>
    <span class="token function">Boolean</span><span class="token punctuation">(</span>props<span class="token punctuation">.</span>store<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span>
    <span class="token function">Boolean</span><span class="token punctuation">(</span>props<span class="token punctuation">.</span>store<span class="token punctuation">.</span>getState<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span>
    <span class="token function">Boolean</span><span class="token punctuation">(</span>props<span class="token punctuation">.</span>store<span class="token punctuation">.</span>dispatch<span class="token punctuation">)</span>
  <span class="token keyword">const</span> didStoreComeFromContext <span class="token operator">=</span>
    <span class="token function">Boolean</span><span class="token punctuation">(</span>contextValue<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token function">Boolean</span><span class="token punctuation">(</span>contextValue<span class="token punctuation">.</span>store<span class="token punctuation">)</span>

  <span class="token comment">// 获取 redux 中 store</span>
  <span class="token keyword">const</span> store <span class="token operator">=</span> didStoreComeFromProps <span class="token operator">?</span> props<span class="token punctuation">.</span>store <span class="token operator">:</span> contextValue<span class="token punctuation">.</span>store
    <span class="token comment">// 返回merge函数 用于生成真正传给子组件 props</span>
  <span class="token keyword">const</span> childPropsSelector <span class="token operator">=</span> <span class="token function">useMemo</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">createChildSelector</span><span class="token punctuation">(</span>store<span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>store<span class="token punctuation">]</span><span class="token punctuation">)</span>


  <span class="token comment">// TODO:  第二步  subscription 监听者实例  </span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>subscription<span class="token punctuation">,</span> notifyNestedSubs<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useMemo</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token comment">// 如果没有订阅更新，那么直接返回。</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>shouldHandleStateChanges<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token constant">NO_SUBSCRIPTION_ARRAY</span>

    <span class="token keyword">const</span> subscription <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Subscription</span><span class="token punctuation">(</span>
      store<span class="token punctuation">,</span>
      didStoreComeFromProps <span class="token operator">?</span> <span class="token keyword">null</span> <span class="token operator">:</span> contextValue<span class="token punctuation">.</span>subscription <span class="token comment">// 和 上级 `subscription` 建立起关系。 this.parentSub = contextValue.subscription</span>
    <span class="token punctuation">)</span>
    <span class="token comment">// notifyNestedSubs 触发 noticy 所有子代 listener 监听者 -&gt; 触发batch方法,触发 batchupdate方法 ,批量更新</span>
    <span class="token keyword">const</span> notifyNestedSubs <span class="token operator">=</span> subscription<span class="token punctuation">.</span><span class="token function">notifyNestedSubs</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span>
      subscription
    <span class="token punctuation">)</span>

    <span class="token keyword">return</span> <span class="token punctuation">[</span>subscription<span class="token punctuation">,</span> notifyNestedSubs<span class="token punctuation">]</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>store<span class="token punctuation">,</span> didStoreComeFromProps<span class="token punctuation">,</span> contextValue<span class="token punctuation">]</span><span class="token punctuation">)</span>

  <span class="token comment">/*  创建出一个新的contextValue ,把父级的 subscription 换成自己的 subscription   */</span>
  <span class="token keyword">const</span> overriddenContextValue <span class="token operator">=</span> <span class="token function">useMemo</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>   
    <span class="token keyword">if</span> <span class="token punctuation">(</span>didStoreComeFromProps<span class="token punctuation">)</span> <span class="token punctuation">{</span> 
      <span class="token keyword">return</span> contextValue
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      <span class="token operator">...</span>contextValue<span class="token punctuation">,</span>
      subscription
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>didStoreComeFromProps<span class="token punctuation">,</span> contextValue<span class="token punctuation">,</span> subscription<span class="token punctuation">]</span><span class="token punctuation">)</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>
    <span class="token punctuation">[</span>previousStateUpdateResult<span class="token punctuation">]</span><span class="token punctuation">,</span>
    forceComponentUpdateDispatch  <span class="token comment">/*  */</span>
  <span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useReducer</span><span class="token punctuation">(</span>storeStateUpdatesReducer<span class="token punctuation">,</span> <span class="token constant">EMPTY_ARRAY</span><span class="token punctuation">,</span> initStateUpdates<span class="token punctuation">)</span>


  <span class="token comment">// TODO: 第三步 </span>
  <span class="token keyword">const</span> lastChildProps <span class="token operator">=</span> <span class="token function">useRef</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">//保存上一次 合并过的 props信息（经过 ownprops ,stateProps , dispatchProps 合并过的 ）</span>
  <span class="token keyword">const</span> lastWrapperProps <span class="token operator">=</span> <span class="token function">useRef</span><span class="token punctuation">(</span>wrapperProps<span class="token punctuation">)</span> <span class="token comment">// 保存本次上下文执行 业务组件的 props </span>
  <span class="token keyword">const</span> childPropsFromStoreUpdate <span class="token operator">=</span> <span class="token function">useRef</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token keyword">const</span> renderIsScheduled <span class="token operator">=</span> <span class="token function">useRef</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span> <span class="token comment">// 当前组件是否处于渲染阶段</span>
  <span class="token comment">// actualChildProps 为当前真正处理过后，经过合并的 props</span>
  <span class="token keyword">const</span> actualChildProps <span class="token operator">=</span> <span class="token function">usePureOnlyMemo</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token comment">// 调用 mergeProps 进行合并，返回合并后的最新 porps</span>
    <span class="token keyword">return</span> <span class="token function">childPropsSelector</span><span class="token punctuation">(</span>store<span class="token punctuation">.</span><span class="token function">getState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> wrapperProps<span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>store<span class="token punctuation">,</span> previousStateUpdateResult<span class="token punctuation">,</span> wrapperProps<span class="token punctuation">]</span><span class="token punctuation">)</span>

  <span class="token comment">/* 负责更新缓存变量，方便下一次更新的时候比较 */</span>
  <span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    <span class="token function">captureWrapperProps</span><span class="token punctuation">(</span><span class="token operator">...</span><span class="token punctuation">[</span>
        lastWrapperProps<span class="token punctuation">,</span>
        lastChildProps<span class="token punctuation">,</span>
        renderIsScheduled<span class="token punctuation">,</span>
        wrapperProps<span class="token punctuation">,</span>
        actualChildProps<span class="token punctuation">,</span>
        childPropsFromStoreUpdate<span class="token punctuation">,</span>
        notifyNestedSubs
      <span class="token punctuation">]</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  
  <span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
      <span class="token function">subscribeUpdates</span><span class="token punctuation">(</span><span class="token operator">...</span><span class="token punctuation">[</span>
      shouldHandleStateChanges<span class="token punctuation">,</span>
      store<span class="token punctuation">,</span>
      subscription<span class="token punctuation">,</span>
      childPropsSelector<span class="token punctuation">,</span>
      lastWrapperProps<span class="token punctuation">,</span>
      lastChildProps<span class="token punctuation">,</span>
      renderIsScheduled<span class="token punctuation">,</span>
      childPropsFromStoreUpdate<span class="token punctuation">,</span>
      notifyNestedSubs<span class="token punctuation">,</span>
      forceComponentUpdateDispatch
      <span class="token punctuation">]</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">[</span>store<span class="token punctuation">,</span> subscription<span class="token punctuation">,</span> childPropsSelector<span class="token punctuation">]</span><span class="token punctuation">)</span>



  <span class="token comment">// TODO: 第四步：reactReduxForwardedRef 是处理父级元素是否含有 forwardRef 的情况 这里可以忽略。</span>
  <span class="token keyword">const</span> renderedWrappedComponent <span class="token operator">=</span> <span class="token function">useMemo</span><span class="token punctuation">(</span>
    <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span>
      <span class="token operator">&lt;</span>WrappedComponent
        <span class="token punctuation">{</span><span class="token operator">...</span>actualChildProps<span class="token punctuation">}</span>
        ref<span class="token operator">=</span><span class="token punctuation">{</span>reactReduxForwardedRef<span class="token punctuation">}</span>
      <span class="token operator">/</span><span class="token operator">&gt;</span>
    <span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">[</span>reactReduxForwardedRef<span class="token punctuation">,</span> WrappedComponent<span class="token punctuation">,</span> actualChildProps<span class="token punctuation">]</span>
  <span class="token punctuation">)</span>
  <span class="token keyword">const</span> renderedChild <span class="token operator">=</span> <span class="token function">useMemo</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">//shouldHandleStateChanges 来源 connect是否有第一个参数</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>shouldHandleStateChanges<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token punctuation">(</span>
        <span class="token comment">// ContextToUse 传递 context </span>
        <span class="token operator">&lt;</span>ContextToUse<span class="token punctuation">.</span>Provider value<span class="token operator">=</span><span class="token punctuation">{</span>overriddenContextValue<span class="token punctuation">}</span><span class="token operator">&gt;</span>
          <span class="token punctuation">{</span>renderedWrappedComponent<span class="token punctuation">}</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>ContextToUse<span class="token punctuation">.</span>Provider<span class="token operator">&gt;</span>
      <span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">return</span> renderedWrappedComponent
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>ContextToUse<span class="token punctuation">,</span> renderedWrappedComponent<span class="token punctuation">,</span> overriddenContextValue<span class="token punctuation">]</span><span class="token punctuation">)</span>

  <span class="token keyword">return</span> renderedChild
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="第一步-1" tabindex="-1"><a class="header-anchor" href="#第一步-1" aria-hidden="true">#</a> 第一步</h3><p>通过 <code>props</code> 分离出 <code>reactReduxForwardedRef</code> , <code>wrapperProps</code> 。<code>reactReduxForwardedRef</code> 是当开启 <code>ForwardedRef</code> 模式下，父级传过来的 <code>React.forwaedRef</code>。</p><p>然后判断通过常量<code>didStoreComeFromProps</code>储存当前，<code>redux.store</code> 是否来自 <code>props</code>, 正常情况下，的 <code>store</code> 都来自 <code>provider</code> ，不会来自<code>props</code>，所以可以把<code>didStoreComeFromProps = true</code> 。接下来获取到 <code>store</code>，通过 <code>store</code> 来判断是否更新真正的合并<code>props</code>函数<code>childPropsSelector</code>。</p><h3 id="第二步-1" tabindex="-1"><a class="header-anchor" href="#第二步-1" aria-hidden="true">#</a> 第二步</h3><p><strong>创建 子代 <code>subscription</code>, 层层传递新的 <code>context</code>(很重要)</strong></p><p>这一步非常重要，判断通过<code>shouldHandleStateChanges</code>判断此 <code>HOC</code> 是否订阅存储更改，如果已经订阅了更新(此时<code>connect</code> 具有第一个参数)，那么创建一个 <code>subscription</code> ,并且和上一层<code>provider</code>的<code>subscription</code>建立起关联。<code>this.parentSub = contextValue.subscription</code>。然后分离出 <code>subscription</code> 和 <code>notifyNestedSubs</code>(<code>notifyNestedSubs</code>的作用是通知当前<code>subscription</code>的 <code>listeners</code> 进行更新的方法。 ) 。</p><p>然后通过 <code>useMemo</code> 创建出一个新的 <code>contextValue</code> ,把父级的 <code>subscription</code> 换成自己的 <code>subscription</code>。用于通过 <code>Provider</code> 传递新的 <code>context</code>。<strong>这里简单介绍一下，运用了 <code>Provider</code> 可以和多个消费组件有对应关系。多个 <code>Provider</code> 也可以嵌套使用，里层的会覆盖外层的数据。<code>react-redux</code>用<code>context</code>更倾向于<code>Provider</code>良好的传递上下文的能力。</strong></p><p>接下来通过<code>useReducer</code>制造出真正触发更新的<code>forceComponentUpdateDispatch</code> 函数。也就是整个 <code>state</code> 或者是 <code>props</code>改变，触发组件更新的函数。为什么这么做呢？</p><p>笔者认为<code>react-redxx</code>这样设计原因是希望<code>connect</code>自己控制自己的更新，并且多个上下级 <code>connect</code>不收到影响。所以一方面通过<code>useMemo</code>来限制<strong>业务组件不必要的更新</strong>,另一方面来通过<code>forceComponentUpdateDispatch</code>来更新 <code>HOC</code> 函数，产生<code>actualChildProps</code>,<code>actualChildProps</code> 改变 ,<code>useMemo</code>执行，触发组件渲染。</p><h3 id="第三步-1" tabindex="-1"><a class="header-anchor" href="#第三步-1" aria-hidden="true">#</a> 第三步</h3><p><strong>保存信息，执行副作用钩子(最重要的部分到了)</strong></p><p>首先先通过<code>useRef</code>缓存几个变量：</p><ul><li><p><strong>lastChildProps</strong> -&gt; 保存上一次 合并过的 <code>props</code> 信息（经过 <code>ownprops</code> ,<code>stateProps</code> , <code>dispatchProps</code> 合并过的 ）。</p></li><li><p><strong>lastWrapperProps</strong> -&gt; 保存本次上下文执行 业务组件的 <code>props</code> 。</p></li><li><p><strong>renderIsScheduled</strong> -&gt; 当前组件是否处于渲染阶段。</p></li><li><p><strong>actualChildProps</strong> -&gt; <code>actualChildProps</code> 为当前真正处理过后，经过合并的 <code>props</code>, 组件通过 <code>dep</code> -&gt; <code>actualChildProps</code>,来判断是否进行更新。</p></li></ul><p>接下来执行两次 <code>useEffect</code> , 源码中不是这个样子的，这里经过简化，第一个 <code>useEffect</code> 执行了 <code>captureWrapperProps</code> ,<code>captureWrapperProps</code> 是干什么的呢？</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">//获取包装的props </span>
<span class="token keyword">function</span> <span class="token function">captureWrapperProps</span><span class="token punctuation">(</span>
  <span class="token parameter">lastWrapperProps<span class="token punctuation">,</span>
  lastChildProps<span class="token punctuation">,</span>
  renderIsScheduled<span class="token punctuation">,</span>
  wrapperProps<span class="token punctuation">,</span>
  actualChildProps<span class="token punctuation">,</span>
  childPropsFromStoreUpdate<span class="token punctuation">,</span>
  notifyNestedSubs</span>
<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  lastWrapperProps<span class="token punctuation">.</span>current <span class="token operator">=</span> wrapperProps  <span class="token comment">//子props </span>
  lastChildProps<span class="token punctuation">.</span>current <span class="token operator">=</span> actualChildProps <span class="token comment">//经过 megeprops 之后形成的 prop</span>
  renderIsScheduled<span class="token punctuation">.</span>current <span class="token operator">=</span> <span class="token boolean">false</span>  <span class="token comment">// 当前组件渲染完成</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>captureWrapperProps</code> 的作用很简单，在一次组件渲染更新后，将上一次 <strong>合并前</strong> 和 <strong>合并后</strong> 的<code>props</code>,保存起来。这么做目的是，能过在两次<code>hoc</code>执行渲染中，对比<code>props stateProps</code>是否发生变化。从而确定是否更新 <code>hoc</code>，进一步更新组件。</p><p>执行第二个 <code>useEffect</code> 是很关键。执行<code>subscribeUpdates</code> 函数，<code>subscribeUpdates</code> 是订阅更新的主要函数，一起来看看：</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">subscribeUpdates</span><span class="token punctuation">(</span>
  shouldHandleStateChanges<span class="token punctuation">,</span>
  store<span class="token punctuation">,</span>
  subscription<span class="token punctuation">,</span>
  childPropsSelector<span class="token punctuation">,</span>
  lastWrapperProps<span class="token punctuation">,</span>  <span class="token comment">//子props </span>
  lastChildProps<span class="token punctuation">,</span> <span class="token comment">//经过 megeprops 之后形成的 prop</span>
  renderIsScheduled<span class="token punctuation">,</span>
  childPropsFromStoreUpdate<span class="token punctuation">,</span>
  notifyNestedSubs<span class="token punctuation">,</span>
  forceComponentUpdateDispatch
<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>shouldHandleStateChanges<span class="token punctuation">)</span> <span class="token keyword">return</span>

   <span class="token comment">// 捕获值以检查此组件是否卸载以及何时卸载</span>
  <span class="token keyword">let</span> didUnsubscribe <span class="token operator">=</span> <span class="token boolean">false</span>
  <span class="token keyword">let</span> lastThrownError <span class="token operator">=</span> <span class="token keyword">null</span>
   <span class="token comment">//store更新订阅传播到此组件时，运行此回调</span>
  <span class="token keyword">const</span> <span class="token function-variable function">checkForUpdates</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
      <span class="token comment">//....</span>
  <span class="token punctuation">}</span>
  subscription<span class="token punctuation">.</span>onStateChange <span class="token operator">=</span> checkForUpdates
  <span class="token comment">//开启订阅者 ，当前是被connect 包转的情况 会把 当前的 checkForceUpdate 放在存入 父元素的addNestedSub中。</span>
  subscription<span class="token punctuation">.</span><span class="token function">trySubscribe</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token comment">//在第一次呈现之后从存储中提取数据，以防存储从开始就改变了。</span>
  <span class="token function">checkForUpdates</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token comment">/* 卸载订阅起 */</span>
  <span class="token keyword">const</span> <span class="token function-variable function">unsubscribeWrapper</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    didUnsubscribe <span class="token operator">=</span> <span class="token boolean">true</span>
    subscription<span class="token punctuation">.</span><span class="token function">tryUnsubscribe</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    subscription<span class="token punctuation">.</span>onStateChange <span class="token operator">=</span> <span class="token keyword">null</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">return</span> unsubscribeWrapper
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>这绝对是整个订阅更新的核心，首先声明 <code>store</code> 更新订阅传播到此组件时的回调函数<code>checkForUpdates</code>把它赋值给<code>onStateChange</code>,如果<code>store</code>中的<code>state</code>发生改变，那么在组件订阅了<code>state</code>内容之后，相关联的<code>state</code>改变就会触发当前组件的<code>onStateChange</code>,来合并得到新的<code>props</code>,从而触发组件更新。</strong></p><p><strong>然后<code>subscription.trySubscribe()</code>把订阅函数<code>onStateChange</code>绑定给父级<code>subscription</code>,进行了层层订阅。</strong></p><p><strong>最后，为了防止渲染后，<code>store</code>内容已经改变，所以首先执行了一次<code>checkForUpdates</code>。那么<code>checkForUpdates</code>的作用很明确了，就是检查是否派发当前组件的更新。</strong></p><p>到这里明白了，<strong>react-redux 通过 subscription 进行层层订阅。对于一层层的组件结构，整体模型图如下：</strong></p><img src="/notes/assets/react/bd432743cd93439ba901b36126a0b6b0_tplv-k3u1fbpfcp-watermark.image" alt="demo"><p>学习 <code>checkForUpdates</code></p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>  <span class="token comment">//store更新订阅传播到此组件时，运行此回调</span>
  <span class="token keyword">const</span> <span class="token function-variable function">checkForUpdates</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>didUnsubscribe<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">//如果写在了</span>
      <span class="token keyword">return</span>
    <span class="token punctuation">}</span>
     <span class="token comment">// 获取 store 里state</span>
    <span class="token keyword">const</span> latestStoreState <span class="token operator">=</span> store<span class="token punctuation">.</span><span class="token function">getState</span><span class="token punctuation">(</span><span class="token punctuation">)</span>q
    <span class="token keyword">let</span> newChildProps<span class="token punctuation">,</span> error
    <span class="token keyword">try</span> <span class="token punctuation">{</span>
      <span class="token comment">/* 得到最新的 props */</span>
      newChildProps <span class="token operator">=</span> <span class="token function">childPropsSelector</span><span class="token punctuation">(</span>
        latestStoreState<span class="token punctuation">,</span>
        lastWrapperProps<span class="token punctuation">.</span>current
      <span class="token punctuation">)</span>
    <span class="token punctuation">}</span> 
    <span class="token comment">//如果新的合并的 props没有更改，则此处不做任何操作-层叠订阅更新</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>newChildProps <span class="token operator">===</span> lastChildProps<span class="token punctuation">.</span>current<span class="token punctuation">)</span> <span class="token punctuation">{</span> 
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>renderIsScheduled<span class="token punctuation">.</span>current<span class="token punctuation">)</span> <span class="token punctuation">{</span>  
        <span class="token function">notifyNestedSubs</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">/* 通知子代 subscription 触发 checkForUpdates 来检查是否需要更新。 */</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      lastChildProps<span class="token punctuation">.</span>current <span class="token operator">=</span> newChildProps
      childPropsFromStoreUpdate<span class="token punctuation">.</span>current <span class="token operator">=</span> newChildProps
      renderIsScheduled<span class="token punctuation">.</span>current <span class="token operator">=</span> <span class="token boolean">true</span>
      <span class="token comment">// 此情况 可能考虑到 代码运行到这里 又发生了 props 更新 所以触发一个 reducer 来促使组件更新。</span>
      <span class="token function">forceComponentUpdateDispatch</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&#39;STORE_UPDATED&#39;</span><span class="token punctuation">,</span>
        <span class="token literal-property property">payload</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          error
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong><code>checkForUpdates</code> 通过调用 <code>childPropsSelector</code>来形成新的<code>props</code>,然后判断之前的 <code>prop</code> 和当前新的 <code>prop</code> 是否相等。如果相等，证明没有发生变化,无须更新当前组件，那么通过调用<code>notifyNestedSubs</code>来通知子代容器组件，检查是否需要更新。如果不相等证明订阅的<code>store.state</code>发生变化，那么立即执行<code>forceComponentUpdateDispatch</code>来触发组件的更新。</strong></p><p><strong>对于层层订阅的结构，整个更新模型图如下：</strong></p><img src="/notes/assets/react/481a9a687369421fbdb2665fc3af44d0_tplv-k3u1fbpfcp-watermark.image" alt="demo"><h2 id="总结-1" tabindex="-1"><a class="header-anchor" href="#总结-1" aria-hidden="true">#</a> 总结</h2><hr><ul><li><strong>订阅流程</strong></li></ul><p><strong>整个订阅的流程是，如果被<code>connect</code>包裹，并且具有第一个参数。首先通过<code>context</code>获取最近的 <code>subscription</code>，然后创建一个新的<code>subscription</code>,并且和父级的<code>subscription</code>建立起关联。当第一次<code>hoc</code>容器组件挂在完成后，在<code>useEffect</code>里，进行订阅，将自己的订阅函数<code>checkForUpdates</code>,作为回调函数，通过<code>trySubscribe</code> 和<code>this.parentSub.addNestedSub</code> ,加入到父级<code>subscription</code>的<code>listeners</code>中。由此完成整个订阅流程。</strong></p><ul><li><strong>更新流程</strong></li></ul><p><strong>整个更新流程是，那<code>state</code>改变，会触发根订阅器的<code>store.subscribe</code>，然后会触发<code>listeners.notify</code> ,也就是<code>checkForUpdates</code>函数，然后<code>checkForUpdates</code>函数首先根据<code>mapStoretoprops</code>，<code>mergeprops</code>等操作，验证该组件是否发起订阅，<code>props</code> 是否改变，并更新，如果发生改变，那么触发<code>useReducer</code>的<code>forceComponentUpdateDispatch</code>函数，来更新业务组件，如果没有发生更新，那么通过调用<code>notifyNestedSubs</code>,来通知当前<code>subscription</code>的<code>listeners</code>检查是否更新，然后尽心层层<code>checkForUpdates</code>,逐级向下，借此完成整个更新流程。</strong></p><h1 id="四-关于-usememo-用法思考" tabindex="-1"><a class="header-anchor" href="#四-关于-usememo-用法思考" aria-hidden="true">#</a> 四 关于 useMemo 用法思考</h1><h2 id="_1-缓存属性-方法" tabindex="-1"><a class="header-anchor" href="#_1-缓存属性-方法" aria-hidden="true">#</a> 1 缓存属性 / 方法</h2><p><code>react-redux</code>源码中，多处应用了<code>useMemo</code> <strong>依赖/缓存</strong> 属性的情况。这样做的好处是只有依赖项发生改变的时候，才更新新的缓存属性/方法，比如 <code>childPropsSelector</code> , <code>subscription</code> , <code>actualChildProps</code> 等主要方法属性。</p><h2 id="_2-控制组件渲染-渲染节流。" tabindex="-1"><a class="header-anchor" href="#_2-控制组件渲染-渲染节流。" aria-hidden="true">#</a> 2 控制组件渲染，渲染节流。</h2><p><code>react-redux</code>源码中，通过 <code>useMemo</code>来控制业务组件是否渲染。通过 <code>actualChildProps</code>变化，来证明是否来自 <strong>自身 <code>props</code></strong> 或 <strong>订阅的 <code>state</code></strong> 的修改，来确定是否渲染组件。</p><p><strong>例子🌰：</strong></p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> renderedWrappedComponent <span class="token operator">=</span> <span class="token function">useMemo</span><span class="token punctuation">(</span>
    <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span>
        <span class="token operator">&lt;</span>WrappedComponent
        <span class="token punctuation">{</span><span class="token operator">...</span>actualChildProps<span class="token punctuation">}</span>
        ref<span class="token operator">=</span><span class="token punctuation">{</span>reactReduxForwardedRef<span class="token punctuation">}</span>
        <span class="token operator">/</span><span class="token operator">&gt;</span>
    <span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">[</span>reactReduxForwardedRef<span class="token punctuation">,</span> WrappedComponent<span class="token punctuation">,</span> actualChildProps<span class="token punctuation">]</span>
<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><!--[--><!--]--></div><footer class="page-meta"><!----><div class="meta-item last-updated"><span class="meta-item-label">Last Updated: </span><!----></div><div class="meta-item contributors"><span class="meta-item-label">Contributors: </span><span class="meta-item-info"><!--[--><!--[--><span class="contributor" title="email: dean@57blocks.com">DeanSui</span><!----><!--]--><!--]--></span></div></footer><!----><!--[--><!--]--></main><!--]--></div><!----><!--]--></div>
    <script type="module" src="/notes/assets/app.e9fd9ffa.js" defer></script>
  </body>
</html>
